var TS=Object.defineProperty,SS=Object.defineProperties;var AS=Object.getOwnPropertyDescriptors;var D_=Object.getOwnPropertySymbols;var RS=Object.prototype.hasOwnProperty,MS=Object.prototype.propertyIsEnumerable;var C_=(t,e,n)=>e in t?TS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})RS.call(e,n)&&C_(t,n,e[n]);if(D_)for(var n of D_(e))MS.call(e,n)&&C_(t,n,e[n]);return t},oe=(t,e)=>SS(t,AS(e));var S=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});function b_(t,e){return Object.is(t,e)}var Ve=null,lc=!1,dc=1,pn=Symbol("SIGNAL");function se(t){let e=Ve;return Ve=t,e}function T_(){return Ve}var ho={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xd(t){if(lc)throw new Error("");if(Ve===null)return;Ve.consumerOnSignalRead(t);let e=Ve.nextProducerIndex++;if(gc(Ve),e<Ve.producerNode.length&&Ve.producerNode[e]!==t&&lo(Ve)){let n=Ve.producerNode[e];pc(n,Ve.producerIndexOfThis[e])}Ve.producerNode[e]!==t&&(Ve.producerNode[e]=t,Ve.producerIndexOfThis[e]=lo(Ve)?M_(t,Ve,e):0),Ve.producerLastReadVersion[e]=t.version}function NS(){dc++}function S_(t){if(!(lo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===dc)){if(!t.producerMustRecompute(t)&&!th(t)){t.dirty=!1,t.lastCleanEpoch=dc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=dc}}function A_(t){if(t.liveConsumerNode===void 0)return;let e=lc;lc=!0;try{for(let n of t.liveConsumerNode)n.dirty||xS(n)}finally{lc=e}}function R_(){return Ve?.consumerAllowSignalWrites!==!1}function xS(t){t.dirty=!0,A_(t),t.consumerMarkedDirty?.(t)}function fc(t){return t&&(t.nextProducerIndex=0),se(t)}function eh(t,e){if(se(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(lo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)pc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function th(t){gc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(S_(n),r!==n.version))return!0}return!1}function nh(t){if(gc(t),lo(t))for(let e=0;e<t.producerNode.length;e++)pc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function M_(t,e,n){if(N_(t),t.liveConsumerNode.length===0&&x_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=M_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function pc(t,e){if(N_(t),t.liveConsumerNode.length===1&&x_(t))for(let r=0;r<t.producerNode.length;r++)pc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];gc(i),i.producerIndexOfThis[r]=e}}function lo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function gc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function N_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function x_(t){return t.producerNode!==void 0}function P_(t){let e=Object.create(PS);e.computation=t;let n=()=>{if(S_(e),Xd(e),e.value===hc)throw e.error;return e.value};return n[pn]=e,n}var Zd=Symbol("UNSET"),Jd=Symbol("COMPUTING"),hc=Symbol("ERRORED"),PS=oe(k({},ho),{value:Zd,dirty:!0,error:null,equal:b_,producerMustRecompute(t){return t.value===Zd||t.value===Jd},producerRecomputeValue(t){if(t.value===Jd)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Jd;let n=fc(t),r;try{r=t.computation()}catch(i){r=hc,t.error=i}finally{eh(t,n)}if(e!==Zd&&e!==hc&&r!==hc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function OS(){throw new Error}var O_=OS;function k_(){O_()}function F_(t){O_=t}var kS=null;function V_(t){let e=Object.create(U_);e.value=t;let n=()=>(Xd(e),e.value);return n[pn]=e,n}function rh(t,e){R_()||k_(),t.equal(t.value,e)||(t.value=e,FS(t))}function L_(t,e){R_()||k_(),rh(t,e(t.value))}var U_=oe(k({},ho),{equal:b_,value:void 0});function FS(t){t.version++,NS(),A_(t),kS?.()}function Z(t){return typeof t=="function"}function wi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var mc=wi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Cr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Re=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(s){e=s instanceof mc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{j_(s)}catch(o){e=e??[],o instanceof mc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new mc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)j_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Cr(n,e)}remove(e){let{_finalizers:n}=this;n&&Cr(n,e),e instanceof t&&e._removeParent(this)}};Re.EMPTY=(()=>{let t=new Re;return t.closed=!0,t})();var ih=Re.EMPTY;function yc(t){return t instanceof Re||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function j_(t){Z(t)?t():t.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ei={setTimeout(t,e,...n){let{delegate:r}=Ei;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ei;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vc(t){Ei.setTimeout(()=>{let{onUnhandledError:e}=Ft;if(e)e(t);else throw t})}function fo(){}var B_=sh("C",void 0,void 0);function $_(t){return sh("E",void 0,t)}function H_(t){return sh("N",t,void 0)}function sh(t,e,n){return{kind:t,value:e,error:n}}var br=null;function Di(t){if(Ft.useDeprecatedSynchronousErrorHandling){let e=!br;if(e&&(br={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=br;if(br=null,n)throw r}}else t()}function q_(t){Ft.useDeprecatedSynchronousErrorHandling&&br&&(br.errorThrown=!0,br.error=t)}var Tr=class extends Re{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yc(e)&&e.add(this)):this.destination=US}static create(e,n,r){return new Ci(e,n,r)}next(e){this.isStopped?ah(H_(e),this):this._next(e)}error(e){this.isStopped?ah($_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ah(B_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},VS=Function.prototype.bind;function oh(t,e){return VS.call(t,e)}var ch=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){_c(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){_c(r)}else _c(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){_c(n)}}},Ci=class extends Tr{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ft.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&oh(e.next,s),error:e.error&&oh(e.error,s),complete:e.complete&&oh(e.complete,s)}):i=e}this.destination=new ch(i)}};function _c(t){Ft.useDeprecatedSynchronousErrorHandling?q_(t):vc(t)}function LS(t){throw t}function ah(t,e){let{onStoppedNotification:n}=Ft;n&&Ei.setTimeout(()=>n(t,e))}var US={closed:!0,next:fo,error:LS,complete:fo};var bi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gt(t){return t}function Ic(...t){return uh(t)}function uh(t){return t.length===0?gt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=BS(n)?n:new Ci(n,r,i);return Di(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=z_(r),new r((i,s)=>{let o=new Ci({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[bi](){return this}pipe(...n){return uh(n)(this)}toPromise(n){return n=z_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function z_(t){var e;return(e=t??Ft.Promise)!==null&&e!==void 0?e:Promise}function jS(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function BS(t){return t&&t instanceof Tr||jS(t)&&yc(t)}function lh(t){return Z(t?.lift)}function de(t){return e=>{if(lh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,e,n,r,i){return new dh(t,e,n,r,i)}var dh=class extends Tr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ti(){return de((t,e)=>{let n=null;t._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Si=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,lh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Re;let n=this.getSubject();e.add(this.source.subscribe(ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Re.EMPTY)}return e}refCount(){return Ti()(this)}};var G_=wi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new wc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new G_}next(n){Di(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Di(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Di(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ih:(this.currentObservers=null,s.push(n),new Re(()=>{this.currentObservers=null,Cr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new wc(e,n),t})(),wc=class extends Be{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ih}};var We=class extends Be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var hh={now(){return(hh.delegate||Date).now()},delegate:void 0};var Ec=class extends Re{constructor(e,n){super()}schedule(e,n=0){return this}};var po={setInterval(t,e,...n){let{delegate:r}=po;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=po;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ai=class extends Ec{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return po.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&po.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Cr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ri=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ri.now=hh.now;var Mi=class extends Ri{constructor(e,n=Ri.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var fh=new Mi(Ai);var Dc=class extends Ai{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Cc=class extends Mi{};var ph=new Cc(Dc);var mt=new ae(t=>t.complete());function W_(t){return t&&Z(t.schedule)}function K_(t){return t[t.length-1]}function bc(t){return Z(K_(t))?t.pop():void 0}function Hn(t){return W_(K_(t))?t.pop():void 0}function gh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Y_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function Q_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sr(t){return this instanceof Sr?(this.v=t,this):new Sr(t)}function Z_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(T){return Promise.resolve(T).then(v,p)}}function c(v,T){r[v]&&(i[v]=function(M){return new Promise(function(R,O){s.push([v,M,R,O])>1||u(v,M)})},T&&(i[v]=T(i[v])))}function u(v,T){try{l(r[v](T))}catch(M){y(s[0][3],M)}}function l(v){v.value instanceof Sr?Promise.resolve(v.value.v).then(f,p):y(s[0][2],v)}function f(v){u("next",v)}function p(v){u("throw",v)}function y(v,T){v(T),s.shift(),s.length&&u(s[0][0],s[0][1])}}function J_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Q_=="function"?Q_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var Tc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Sc(t){return Z(t?.then)}function Ac(t){return Z(t[bi])}function Rc(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function Mc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $S(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nc=$S();function xc(t){return Z(t?.[Nc])}function Pc(t){return Z_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Sr(n.read());if(i)return yield Sr(void 0);yield yield Sr(r)}}finally{n.releaseLock()}})}function Oc(t){return Z(t?.getReader)}function Pe(t){if(t instanceof ae)return t;if(t!=null){if(Ac(t))return HS(t);if(Tc(t))return qS(t);if(Sc(t))return zS(t);if(Rc(t))return X_(t);if(xc(t))return GS(t);if(Oc(t))return WS(t)}throw Mc(t)}function HS(t){return new ae(e=>{let n=t[bi]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qS(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function zS(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vc)})}function GS(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function X_(t){return new ae(e=>{KS(t,e).catch(n=>e.error(n))})}function WS(t){return X_(Pc(t))}function KS(t,e){var n,r,i,s;return Y_(this,void 0,void 0,function*(){try{for(n=J_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function dt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function qn(t,e=0){return de((n,r)=>{n.subscribe(ce(r,i=>dt(r,t,()=>r.next(i),e),()=>dt(r,t,()=>r.complete(),e),i=>dt(r,t,()=>r.error(i),e)))})}function zn(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function eI(t,e){return Pe(t).pipe(zn(e),qn(e))}function tI(t,e){return Pe(t).pipe(zn(e),qn(e))}function nI(t,e){return new ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function rI(t,e){return new ae(n=>{let r;return dt(n,e,()=>{r=t[Nc](),dt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function kc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{dt(n,e,()=>{let r=t[Symbol.asyncIterator]();dt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function iI(t,e){return kc(Pc(t),e)}function sI(t,e){if(t!=null){if(Ac(t))return eI(t,e);if(Tc(t))return nI(t,e);if(Sc(t))return tI(t,e);if(Rc(t))return kc(t,e);if(xc(t))return rI(t,e);if(Oc(t))return iI(t,e)}throw Mc(t)}function be(t,e){return e?sI(t,e):Pe(t)}function K(...t){let e=Hn(t);return be(t,e)}function Ni(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new ae(e?i=>e.schedule(r,0,i):r)}function mh(t){return!!t&&(t instanceof ae||Z(t.lift)&&Z(t.subscribe))}var gn=wi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return de((n,r)=>{let i=0;n.subscribe(ce(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:QS}=Array;function YS(t,e){return QS(e)?t(...e):t(e)}function Fc(t){return ee(e=>YS(t,e))}var{isArray:ZS}=Array,{getPrototypeOf:JS,prototype:XS,keys:eA}=Object;function Vc(t){if(t.length===1){let e=t[0];if(ZS(e))return{args:e,keys:null};if(tA(e)){let n=eA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function tA(t){return t&&typeof t=="object"&&JS(t)===XS}function Lc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Uc(...t){let e=Hn(t),n=bc(t),{args:r,keys:i}=Vc(t);if(r.length===0)return be([],e);let s=new ae(nA(r,e,i?o=>Lc(i,o):gt));return n?s.pipe(Fc(n)):s}function nA(t,e,n=gt){return r=>{oI(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)oI(e,()=>{let l=be(t[u],e),f=!1;l.subscribe(ce(r,p=>{s[u]=p,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function oI(t,e,n){t?dt(n,t,e):e()}function aI(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},v=M=>l<r?T(M):u.push(M),T=M=>{s&&e.next(M),l++;let R=!1;Pe(n(M,f++)).subscribe(ce(e,O=>{i?.(O),s?v(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();o?dt(e,o,()=>T(O)):T(O)}y()}catch(O){e.error(O)}}))};return t.subscribe(ce(e,v,()=>{p=!0,y()})),()=>{c?.()}}function Le(t,e,n=1/0){return Z(e)?Le((r,i)=>ee((s,o)=>e(r,s,i,o))(Pe(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>aI(r,i,t,n)))}function xi(t=1/0){return Le(gt,t)}function cI(){return xi(1)}function Pi(...t){return cI()(be(t,Hn(t)))}function jc(t){return new ae(e=>{Pe(t()).subscribe(e)})}function yh(...t){let e=bc(t),{args:n,keys:r}=Vc(t),i=new ae(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let p=!1;Pe(n[f]).subscribe(ce(s,y=>{p||(p=!0,l--),c[f]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Lc(r,c):c),s.complete())}))}});return e?i.pipe(Fc(e)):i}function Et(t,e){return de((n,r)=>{let i=0;n.subscribe(ce(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Gn(t){return de((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ce(n,void 0,void 0,o=>{s=Pe(t(o,Gn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function uI(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(ce(o,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Oi(t,e){return Z(e)?Le(t,e,1):Le(t,1)}function Wn(t){return de((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function mn(t){return t<=0?()=>mt:de((e,n)=>{let r=0;e.subscribe(ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function vh(t){return ee(()=>t)}function Bc(t=rA){return de((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function rA(){return new gn}function go(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Gt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Et((i,s)=>t(i,s,r)):gt,mn(1),n?Wn(e):Bc(()=>new gn))}function ki(t){return t<=0?()=>mt:de((e,n)=>{let r=[];e.subscribe(ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function _h(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Et((i,s)=>t(i,s,r)):gt,ki(1),n?Wn(e):Bc(()=>new gn))}function $c(t,e){return de(uI(t,e,arguments.length>=2,!0))}function Hc(...t){let e=Hn(t);return de((n,r)=>{(e?Pi(t,n,e):Pi(t,n)).subscribe(r)})}function Vt(t,e){return de((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(ce(r,u=>{i?.unsubscribe();let l=0,f=s++;Pe(t(u,f)).subscribe(i=ce(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Ih(t){return de((e,n)=>{Pe(t).subscribe(ce(n,()=>n.complete(),fo)),!n.closed&&e.subscribe(n)})}function Ue(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ce(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):gt}var WI="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(Of(e,n)),this.code=e}};function Of(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function No(t){return{toString:t}.toString()}var qc="__parameters__";function iA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function sA(t,e,n){return No(()=>{let r=iA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let p=u.hasOwnProperty(qc)?u[qc]:Object.defineProperty(u,qc,{value:[]})[qc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var kh=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function oA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ft(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function lI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var aA=we({__forward_ref__:we});function xo(t){return t.__forward_ref__=xo,t.toString=function(){return ft(this())},t}function lt(t){return KI(t)?t():t}function KI(t){return typeof t=="function"&&t.hasOwnProperty(aA)&&t.__forward_ref__===xo}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cu(t){return dI(t,YI)||dI(t,ZI)}function QI(t){return Cu(t)!==null}function dI(t,e){return t.hasOwnProperty(e)?t[e]:null}function cA(t){let e=t&&(t[YI]||t[ZI]);return e||null}function hI(t){return t&&(t.hasOwnProperty(fI)||t.hasOwnProperty(uA))?t[fI]:null}var YI=we({\u0275prov:we}),fI=we({\u0275inj:we}),ZI=we({ngInjectableDef:we}),uA=we({ngInjectorDef:we}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function JI(t){return t&&!!t.\u0275providers}var lA=we({\u0275cmp:we}),dA=we({\u0275dir:we}),hA=we({\u0275pipe:we}),fA=we({\u0275mod:we}),tu=we({\u0275fac:we}),vo=we({__NG_ELEMENT_ID__:we}),pI=we({__NG_ENV_ID__:we});function bu(t){return typeof t=="string"?t:t==null?"":String(t)}function pA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():bu(t)}function gA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function kf(t,e){throw new j(-201,!1)}var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{}),Fh;function XI(){return Fh}function ht(t){let e=Fh;return Fh=t,e}function ew(t,e,n){let r=Cu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&te.Optional)return null;if(e!==void 0)return e;kf(t,"Injector")}var mA={},_o=mA,Vh="__NG_DI_FLAG__",nu="ngTempTokenPath",yA="ngTokenPath",vA=/\n/gm,_A="\u0275",gI="__source",Ui;function IA(){return Ui}function Kn(t){let e=Ui;return Ui=t,e}function wA(t,e=te.Default){if(Ui===void 0)throw new j(-203,!1);return Ui===null?ew(t,void 0,e):Ui.get(t,e&te.Optional?null:void 0,e)}function ne(t,e=te.Default){return(XI()||wA)(lt(t),e)}function F(t,e=te.Default){return ne(t,Tu(e))}function Tu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Lh(t){let e=[];for(let n=0;n<t.length;n++){let r=lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){let c=r[o],u=DA(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(ne(i,s))}else e.push(ne(r))}return e}function EA(t,e){return t[Vh]=e,t.prototype[Vh]=e,t}function DA(t){return t[Vh]}function CA(t,e,n,r){let i=t[nu];throw e[gI]&&i.unshift(e[gI]),t.message=bA(`
`+t.message,i,n,r),t[yA]=i,t[nu]=null,t}function bA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==_A?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):ft(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vA,`
  `)}`}var Jt=EA(sA("Optional"),8);function Rr(t,e){let n=t.hasOwnProperty(tu);return n?t[tu]:null}function TA(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function SA(t){return t.flat(Number.POSITIVE_INFINITY)}function Ff(t,e){t.forEach(n=>Array.isArray(n)?Ff(n,e):e(n))}function tw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ru(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function AA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function RA(t,e,n){let r=Po(t,e);return r>=0?t[r|1]=n:(r=~r,AA(t,r,e,n)),r}function wh(t,e){let n=Po(t,e);if(n>=0)return t[n|1]}function Po(t,e){return MA(t,e,1)}function MA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Bi={},Dt=[],$i=new B(""),nw=new B("",-1),rw=new B(""),iu=class{get(e,n=_o){if(n===_o){let r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}},iw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(iw||{}),Qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qt||{}),Zn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Zn||{});function NA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Uh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];xA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function sw(t){return t===3||t===4||t===6}function xA(t){return t.charCodeAt(0)===64}function Io(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?mI(t,n,i,null,e[++r]):mI(t,n,i,null,null))}}return t}function mI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var ow="ng-template";function PA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&NA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Vf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Vf(t){return t.type===4&&t.value!==ow}function OA(t,e,n){let r=t.type===4&&!n?ow:t.value;return e===r}function kA(t,e,n){let r=4,i=t.attrs,s=i!==null?LA(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Lt(r)&&!Lt(u))return!1;if(o&&Lt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!OA(t,u,n)||u===""&&e.length===1){if(Lt(r))return!1;o=!0}}else if(r&8){if(i===null||!PA(t,i,u,n)){if(Lt(r))return!1;o=!0}}else{let l=e[++c],f=FA(u,i,Vf(t),n);if(f===-1){if(Lt(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Lt(r))return!1;o=!0}}}}return Lt(r)||o}function Lt(t){return(t&1)===0}function FA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return UA(e,t)}function VA(t,e,n=!1){for(let r=0;r<e.length;r++)if(kA(t,e[r],n))return!0;return!1}function LA(t){for(let e=0;e<t.length;e++){let n=t[e];if(sw(n))return e}return t.length}function UA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function yI(t,e){return t?":not("+e.trim()+")":e}function jA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Lt(o)&&(e+=yI(s,i),i=""),r=o,s=s||!Lt(r);n++}return i!==""&&(e+=yI(s,i)),e}function BA(t){return t.map(jA).join(",")}function $A(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Lt(i))break;i=s}r++}return{attrs:e,classes:n}}function er(t){return No(()=>{let e=hw(t),n=oe(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===iw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qt.Emulated,styles:t.styles||Dt,_:null,schemas:t.schemas||null,tView:null,id:""});fw(n);let r=t.dependencies;return n.directiveDefs=_I(r,!1),n.pipeDefs=_I(r,!0),n.id=zA(n),n})}function HA(t){return Mr(t)||cw(t)}function qA(t){return t!==null}function Br(t){return No(()=>({type:t.type,bootstrap:t.bootstrap||Dt,declarations:t.declarations||Dt,imports:t.imports||Dt,exports:t.exports||Dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vI(t,e){if(t==null)return Bi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=Zn.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==Zn.None?[r,c]:r,e[s]=o):n[s]=r}return n}function Bt(t){return No(()=>{let e=hw(t);return fw(e),e})}function aw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mr(t){return t[lA]||null}function cw(t){return t[dA]||null}function uw(t){return t[hA]||null}function lw(t){let e=Mr(t)||cw(t)||uw(t);return e!==null?e.standalone:!1}function dw(t,e){let n=t[fA]||null;if(!n&&e===!0)throw new Error(`Type ${ft(t)} does not have '\u0275mod' property.`);return n}function hw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Bi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Dt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vI(t.inputs,e),outputs:vI(t.outputs),debugInfo:null}}function fw(t){t.features?.forEach(e=>e(t))}function _I(t,e){if(!t)return null;let n=e?uw:HA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(qA)}function zA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function tr(t){return{\u0275providers:t}}function GA(...t){return{\u0275providers:pw(!0,t),\u0275fromNgModule:!0}}function pw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Ff(e,o=>{let c=o;jh(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&gw(i,s),n}function gw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Lf(i,s=>{e(s,r)})}}function jh(t,e,n,r){if(t=lt(t),!t)return!1;let i=null,s=hI(t),o=!s&&Mr(t);if(!s&&!o){let u=t.ngModule;if(s=hI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)jh(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{Ff(s.imports,f=>{jh(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&gw(l,e)}if(!c){let l=Rr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Dt},i),e({provide:rw,useValue:i,multi:!0},i),e({provide:$i,useValue:()=>ne(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;Lf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Lf(t,e){for(let n of t)JI(n)&&(n=n.\u0275providers),Array.isArray(n)?Lf(n,e):e(n)}var WA=we({provide:String,useValue:we});function mw(t){return t!==null&&typeof t=="object"&&WA in t}function KA(t){return!!(t&&t.useExisting)}function QA(t){return!!(t&&t.useFactory)}function Hi(t){return typeof t=="function"}function YA(t){return!!t.useClass}var Su=new B(""),Qc={},ZA={},Eh;function Uf(){return Eh===void 0&&(Eh=new iu),Eh}var bt=class{},wo=class extends bt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$h(e,o=>this.processProvider(o)),this.records.set(nw,Fi(void 0,this)),i.has("environment")&&this.records.set(bt,Fi(void 0,this));let s=this.records.get(Su);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(rw,Dt,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Kn(this),r=ht(void 0),i;try{return e()}finally{Kn(n),ht(r)}}get(e,n=_o,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(pI))return e[pI](this);r=Tu(r);let i,s=Kn(this),o=ht(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=nR(e)&&Cu(e);l&&this.injectableDefInScope(l)?u=Fi(Bh(e),Qc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&te.Self?Uf():this.parent;return n=r&te.Optional&&n===_o?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[nu]=c[nu]||[]).unshift(ft(e)),s)throw c;return CA(c,e,"R3InjectorError",this.source)}else throw c}finally{ht(o),Kn(s)}}resolveInjectorInitializers(){let e=se(null),n=Kn(this),r=ht(void 0),i;try{let s=this.get($i,Dt,te.Self);for(let o of s)o()}finally{Kn(n),ht(r),se(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=lt(e);let n=Hi(e)?e:lt(e&&e.provide),r=XA(e);if(!Hi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Fi(void 0,Qc,!0),i.factory=()=>Lh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=se(null);try{return n.value===Qc&&(n.value=ZA,n.value=n.factory()),typeof n.value=="object"&&n.value&&tR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{se(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Bh(t){let e=Cu(t),n=e!==null?e.factory:Rr(t);if(n!==null)return n;if(t instanceof B)throw new j(204,!1);if(t instanceof Function)return JA(t);throw new j(204,!1)}function JA(t){if(t.length>0)throw new j(204,!1);let n=cA(t);return n!==null?()=>n.factory(t):()=>new t}function XA(t){if(mw(t))return Fi(void 0,t.useValue);{let e=yw(t);return Fi(e,Qc)}}function yw(t,e,n){let r;if(Hi(t)){let i=lt(t);return Rr(i)||Bh(i)}else if(mw(t))r=()=>lt(t.useValue);else if(QA(t))r=()=>t.useFactory(...Lh(t.deps||[]));else if(KA(t))r=()=>ne(lt(t.useExisting));else{let i=lt(t&&(t.useClass||t.provide));if(eR(t))r=()=>new i(...Lh(t.deps));else return Rr(i)||Bh(i)}return r}function Fi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function eR(t){return!!t.deps}function tR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nR(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function $h(t,e){for(let n of t)Array.isArray(n)?$h(n,e):n&&JI(n)?$h(n.\u0275providers,e):e(n)}function wn(t,e){t instanceof wo&&t.assertNotDestroyed();let n,r=Kn(t),i=ht(void 0);try{return e()}finally{Kn(r),ht(i)}}function rR(){return XI()!==void 0||IA()!=null}function iR(t){return typeof t=="function"}var En=0,W=1,G=2,nt=3,Ut=4,$t=5,Eo=6,su=7,et=8,qi=9,Yt=10,$e=11,Do=12,II=13,Zi=14,jt=15,Nr=16,Vi=17,yn=18,Au=19,vw=20,Qn=21,Dh=22,Ct=23,yt=25,_w=1;var xr=7,ou=8,zi=9,tt=10,au=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(au||{});function Yn(t){return Array.isArray(t)&&typeof t[_w]=="object"}function Dn(t){return Array.isArray(t)&&t[_w]===!0}function Iw(t){return(t.flags&4)!==0}function Ru(t){return t.componentOffset>-1}function jf(t){return(t.flags&1)===1}function Jn(t){return!!t.template}function Hh(t){return(t[G]&512)!==0}var qh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ww(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function nr(){return Ew}function Ew(t){return t.type.prototype.ngOnChanges&&(t.setInput=oR),sR}nr.ngInherit=!0;function sR(){let t=Cw(this),e=t?.current;if(e){let n=t.previous;if(n===Bi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function oR(t,e,n,r,i){let s=this.declaredInputs[r],o=Cw(t)||aR(t,{previous:Bi,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new qh(l&&l.currentValue,n,u===Bi),ww(t,e,i,n)}var Dw="__ngSimpleChanges__";function Cw(t){return t[Dw]||null}function aR(t,e){return t[Dw]=e}var wI=null;var Wt=function(t,e,n){wI?.(t,e,n)},cR="svg",uR="math";function Zt(t){for(;Array.isArray(t);)t=t[En];return t}function bw(t,e){return Zt(e[t])}function St(t,e){return Zt(e[t.index])}function Bf(t,e){return t.data[e]}function lR(t,e){return t[e]}function rr(t,e){let n=e[t];return Yn(n)?n:n[En]}function dR(t){return(t[G]&4)===4}function $f(t){return(t[G]&128)===128}function hR(t){return Dn(t[nt])}function Gi(t,e){return e==null?null:t[e]}function Tw(t){t[Vi]=0}function Sw(t){t[G]&1024||(t[G]|=1024,$f(t)&&Nu(t))}function fR(t,e){for(;t>0;)e=e[Zi],t--;return e}function Mu(t){return!!(t[G]&9216||t[Ct]?.dirty)}function zh(t){t[Yt].changeDetectionScheduler?.notify(8),t[G]&64&&(t[G]|=1024),Mu(t)&&Nu(t)}function Nu(t){t[Yt].changeDetectionScheduler?.notify(0);let e=Pr(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!$f(e)));)e=Pr(e)}function Aw(t,e){if((t[G]&256)===256)throw new j(911,!1);t[Qn]===null&&(t[Qn]=[]),t[Qn].push(e)}function pR(t,e){if(t[Qn]===null)return;let n=t[Qn].indexOf(e);n!==-1&&t[Qn].splice(n,1)}function Pr(t){let e=t[nt];return Dn(e)?e[nt]:e}var re={lFrame:Uw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Rw=!1;function gR(){return re.lFrame.elementDepthCount}function mR(){re.lFrame.elementDepthCount++}function yR(){re.lFrame.elementDepthCount--}function Mw(){return re.bindingsEnabled}function vR(){return re.skipHydrationRootTNode!==null}function _R(t){return re.skipHydrationRootTNode===t}function IR(){re.skipHydrationRootTNode=null}function fe(){return re.lFrame.lView}function rt(){return re.lFrame.tView}function Nw(t){return re.lFrame.contextLView=t,t[et]}function xw(t){return re.lFrame.contextLView=null,t}function it(){let t=Pw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Pw(){return re.lFrame.currentTNode}function wR(){let t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Oo(t,e){let n=re.lFrame;n.currentTNode=t,n.isParent=e}function Ow(){return re.lFrame.isParent}function ER(){re.lFrame.isParent=!1}function kw(){return Rw}function EI(t){Rw=t}function DR(){let t=re.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function CR(t){return re.lFrame.bindingIndex=t}function ko(){return re.lFrame.bindingIndex++}function bR(t){let e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function TR(){return re.lFrame.inI18n}function SR(t,e){let n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,Gh(e)}function AR(){return re.lFrame.currentDirectiveIndex}function Gh(t){re.lFrame.currentDirectiveIndex=t}function RR(t){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Fw(){return re.lFrame.currentQueryIndex}function Hf(t){re.lFrame.currentQueryIndex=t}function MR(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[$t]:null}function Vw(t,e,n){if(n&te.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&te.Host);)if(i=MR(s),i===null||(s=s[Zi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=re.lFrame=Lw();return r.currentTNode=e,r.lView=t,!0}function qf(t){let e=Lw(),n=t[W];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Lw(){let t=re.lFrame,e=t===null?null:t.child;return e===null?Uw(t):e}function Uw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function jw(){let t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Bw=jw;function zf(){let t=jw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function NR(t){return(re.lFrame.contextLView=fR(t,re.lFrame.contextLView))[et]}function $r(){return re.lFrame.selectedIndex}function Or(t){re.lFrame.selectedIndex=t}function $w(){let t=re.lFrame;return Bf(t.tView,t.selectedIndex)}function xR(){return re.lFrame.currentNamespace}var Hw=!0;function Gf(){return Hw}function Wf(t){Hw=t}function PR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Ew(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Kf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Yc(t,e,n){qw(t,e,3,n)}function Zc(t,e,n,r){(t[G]&3)===n&&qw(t,e,n,r)}function Ch(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function qw(t,e,n,r){let i=r!==void 0?t[Vi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Vi]+=65536),(c<s||s==-1)&&(OR(t,n,e,u),t[Vi]=(t[Vi]&4294901760)+u+2),u++}function DI(t,e){Wt(4,t,e);let n=se(null);try{e.call(t)}finally{se(n),Wt(5,t,e)}}function OR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[G]>>14<t[Vi]>>16&&(t[G]&3)===e&&(t[G]+=16384,DI(c,s)):DI(c,s)}var ji=-1,kr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function kR(t){return t instanceof kr}function FR(t){return(t.flags&8)!==0}function VR(t){return(t.flags&16)!==0}var bh={},Wh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Tu(r);let i=this.injector.get(e,bh,r);return i!==bh||n===bh?i:this.parentInjector.get(e,n,r)}};function zw(t){return t!==ji}function cu(t){return t&32767}function LR(t){return t>>16}function uu(t,e){let n=LR(t),r=e;for(;n>0;)r=r[Zi],n--;return r}var Kh=!0;function lu(t){let e=Kh;return Kh=t,e}var UR=256,Gw=UR-1,Ww=5,jR=0,Kt={};function BR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vo)&&(r=n[vo]),r==null&&(r=n[vo]=jR++);let i=r&Gw,s=1<<i;e.data[t+(i>>Ww)]|=s}function du(t,e){let n=Kw(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,Th(r.data,t),Th(e,null),Th(r.blueprint,null));let i=Qf(t,e),s=t.injectorIndex;if(zw(i)){let o=cu(i),c=uu(i,e),u=c[W].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Th(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Kw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Xw(i),r===null)return ji;if(n++,i=i[Zi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ji}function Qh(t,e,n){BR(t,e,n)}function $R(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(sw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Qw(t,e,n){if(n&te.Optional||t!==void 0)return t;kf(e,"NodeInjector")}function Yw(t,e,n,r){if(n&te.Optional&&r===void 0&&(r=null),!(n&(te.Self|te.Host))){let i=t[qi],s=ht(void 0);try{return i?i.get(e,r,n&te.Optional):ew(e,r,n&te.Optional)}finally{ht(s)}}return Qw(r,e,n)}function Zw(t,e,n,r=te.Default,i){if(t!==null){if(e[G]&2048&&!(r&te.Self)){let o=GR(t,e,n,r,Kt);if(o!==Kt)return o}let s=Jw(t,e,n,r,Kt);if(s!==Kt)return s}return Yw(e,n,r,i)}function Jw(t,e,n,r,i){let s=qR(n);if(typeof s=="function"){if(!Vw(e,t,r))return r&te.Host?Qw(i,n,r):Yw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&te.Optional))kf(n);else return o}finally{Bw()}}else if(typeof s=="number"){let o=null,c=Kw(t,e),u=ji,l=r&te.Host?e[jt][$t]:null;for((c===-1||r&te.SkipSelf)&&(u=c===-1?Qf(t,e):e[c+8],u===ji||!bI(r,!1)?c=-1:(o=e[W],c=cu(u),e=uu(u,e)));c!==-1;){let f=e[W];if(CI(s,c,f.data)){let p=HR(c,e,n,o,r,l);if(p!==Kt)return p}u=e[c+8],u!==ji&&bI(r,e[W].data[c+8]===l)&&CI(s,c,e)?(o=f,c=cu(u),e=uu(u,e)):c=-1}}return i}function HR(t,e,n,r,i,s){let o=e[W],c=o.data[t+8],u=r==null?Ru(c)&&Kh:r!=o&&(c.type&3)!==0,l=i&te.Host&&s===c,f=Jc(c,o,n,u,l);return f!==null?Fr(e,o,f,c):Kt}function Jc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,p=r?c:c+f,y=i?c+f:l;for(let v=p;v<y;v++){let T=o[v];if(v<u&&n===T||v>=u&&T.type===n)return v}if(i){let v=o[u];if(v&&Jn(v)&&v.type===n)return u}return null}function Fr(t,e,n,r){let i=t[n],s=e.data;if(kR(i)){let o=i;o.resolving&&gA(pA(s[n]));let c=lu(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?ht(o.injectImpl):null,f=Vw(t,r,te.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&PR(n,s[n],e)}finally{l!==null&&ht(l),lu(c),o.resolving=!1,Bw()}}return i}function qR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(vo)?t[vo]:void 0;return typeof e=="number"?e>=0?e&Gw:zR:e}function CI(t,e,n){let r=1<<t;return!!(n[e+(t>>Ww)]&r)}function bI(t,e){return!(t&te.Self)&&!(t&te.Host&&e)}var Ar=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Zw(this._tNode,this._lView,e,Tu(r),n)}};function zR(){return new Ar(it(),fe())}function Fo(t){return No(()=>{let e=t.prototype.constructor,n=e[tu]||Yh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[tu]||Yh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Yh(t){return KI(t)?()=>{let e=Yh(lt(t));return e&&e()}:Rr(t)}function GR(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[G]&2048&&!(o[G]&512);){let c=Jw(s,o,n,r|te.Self,Kt);if(c!==Kt)return c;let u=s.parent;if(!u){let l=o[vw];if(l){let f=l.get(n,Kt,r);if(f!==Kt)return f}u=Xw(o),o=o[Zi]}s=u}return i}function Xw(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[$t]:null}function Yf(t){return $R(it(),t)}function TI(t,e=null,n=null,r){let i=eE(t,e,n,r);return i.resolveInjectorInitializers(),i}function eE(t,e=null,n=null,r,i=new Set){let s=[n||Dt,GA(t)];return r=r||(typeof t=="object"?void 0:ft(t)),new wo(s,e||Uf(),r||null,i)}var Tt=class t{static{this.THROW_IF_NOT_FOUND=_o}static{this.NULL=new iu}static create(e,n){if(Array.isArray(e))return TI({name:""},n,e,"");{let r=e.name??"";return TI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=q({token:t,providedIn:"any",factory:()=>ne(nw)})}static{this.__NG_ELEMENT_ID__=-1}};var WR=new B("");WR.__NG_ELEMENT_ID__=t=>{let e=it();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&te.Optional)return null;throw new j(204,!1)};var KR="ngOriginalError";function Sh(t){return t[KR]}var tE=!0,nE=(()=>{class t{static{this.__NG_ELEMENT_ID__=QR}static{this.__NG_ENV_ID__=n=>n}}return t})(),Zh=class extends nE{constructor(e){super(),this._lView=e}onDestroy(e){return Aw(this._lView,e),()=>pR(this._lView,e)}};function QR(){return new Zh(fe())}var Ji=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new We(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Jh=class extends Be{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,rR()&&(this.destroyRef=F(nE,{optional:!0})??void 0,this.pendingTasks=F(Ji,{optional:!0})??void 0)}emit(e){let n=se(null);try{super.next(e)}finally{se(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Re&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},xe=Jh;function hu(...t){}function rE(t){let e,n;function r(){t=hu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function SI(t){return queueMicrotask(()=>t()),()=>{t=hu}}var Zf="isAngularZone",fu=Zf+"_ID",YR=0,Ee=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=tE}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,XR(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Zf)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ZR,hu,hu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ZR={};function Jf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function JR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){rE(()=>{t.callbackScheduled=!1,Xh(t),t.isCheckStableRunning=!0,Jf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Xh(t)}function XR(t){let e=()=>{JR(t)},n=YR++;t._inner=t._inner.fork({name:"angular",properties:{[Zf]:!0,[fu]:n,[fu+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(eM(u))return r.invokeTask(s,o,c,u);try{return AI(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),RI(t)}},onInvoke:(r,i,s,o,c,u,l)=>{try{return AI(t),r.invoke(s,o,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!tM(u)&&e(),RI(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Xh(t),Jf(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Xh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function AI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function RI(t){t._nesting--,Jf(t)}var ef=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function eM(t){return iE(t,"__ignore_ng_zone__")}function tM(t){return iE(t,"__scheduler_tick__")}function iE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var vn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Sh(e);for(;n&&Sh(n);)n=Sh(n);return n||null}},nM=new B("",{providedIn:"root",factory:()=>{let t=F(Ee),e=F(vn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function rM(){return Xi(it(),fe())}function Xi(t,e){return new At(St(t,e))}var At=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=rM}}return t})();function iM(t){return t instanceof At?t.nativeElement:t}function sM(){return this._results[Symbol.iterator]()}var tf=class t{get changes(){return this._changes??=new xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=sM)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=SA(e);(this._changesDetected=!TA(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function sE(t){return(t.flags&128)===128}var oE=new Map,oM=0;function aM(){return oM++}function cM(t){oE.set(t[Au],t)}function nf(t){oE.delete(t[Au])}var MI="__ngContext__";function Vr(t,e){Yn(e)?(t[MI]=e[Au],cM(e)):t[MI]=e}function aE(t){return uE(t[Do])}function cE(t){return uE(t[Ut])}function uE(t){for(;t!==null&&!Dn(t);)t=t[Ut];return t}var rf;function lE(t){rf=t}function uM(){if(rf!==void 0)return rf;if(typeof document<"u")return document;throw new j(210,!1)}var Xf=new B("",{providedIn:"root",factory:()=>lM}),lM="ng",ep=new B(""),ir=new B("",{providedIn:"platform",factory:()=>"unknown"});var tp=new B("",{providedIn:"root",factory:()=>uM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var dM="h",hM="b";var fM=()=>null;function np(t,e,n=!1){return fM(t,e,n)}var dE=!1,pM=new B("",{providedIn:"root",factory:()=>dE});var zc;function gM(){if(zc===void 0&&(zc=null,kh.trustedTypes))try{zc=kh.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zc}function NI(t){return gM()?.createScriptURL(t)||t}var pu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${WI})`}};function Vo(t){return t instanceof pu?t.changingThisBreaksApplicationSecurity:t}function rp(t,e){let n=mM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${WI})`)}return n===e}function mM(t){return t instanceof pu&&t.getTypeName()||null}var yM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hE(t){return t=String(t),t.match(yM)?t:"unsafe:"+t}var xu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(xu||{});function vM(t){let e=pE();return e?e.sanitize(xu.URL,t)||"":rp(t,"URL")?Vo(t):hE(bu(t))}function _M(t){let e=pE();if(e)return NI(e.sanitize(xu.RESOURCE_URL,t)||"");if(rp(t,"ResourceURL"))return NI(Vo(t));throw new j(904,!1)}function IM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?_M:vM}function fE(t,e,n){return IM(e,n)(t)}function pE(){let t=fe();return t&&t[Yt].sanitizer}function gE(t){return t instanceof Function?t():t}var _n=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_n||{}),wM;function ip(t,e){return wM(t,e)}function Li(t,e,n,r,i){if(r!=null){let s,o=!1;Dn(r)?s=r:Yn(r)&&(o=!0,r=r[En]);let c=Zt(r);t===0&&n!==null?i==null?_E(e,n,c):gu(e,n,c,i||null,!0):t===1&&n!==null?gu(e,n,c,i||null,!0):t===2?FM(e,c,o):t===3&&e.destroyNode(c),s!=null&&LM(e,t,s,n,i)}}function EM(t,e){return t.createText(e)}function DM(t,e,n){t.setValue(e,n)}function mE(t,e,n){return t.createElement(e,n)}function CM(t,e){yE(t,e),e[En]=null,e[$t]=null}function bM(t,e,n,r,i,s){r[En]=i,r[$t]=e,Ou(t,r,n,1,i,s)}function yE(t,e){e[Yt].changeDetectionScheduler?.notify(9),Ou(t,e,e[$e],2,null,null)}function TM(t){let e=t[Do];if(!e)return Ah(t[W],t);for(;e;){let n=null;if(Yn(e))n=e[Do];else{let r=e[tt];r&&(n=r)}if(!n){for(;e&&!e[Ut]&&e!==t;)Yn(e)&&Ah(e[W],e),e=e[nt];e===null&&(e=t),Yn(e)&&Ah(e[W],e),n=e&&e[Ut]}e=n}}function SM(t,e,n,r){let i=tt+r,s=n.length;r>0&&(n[i-1][Ut]=e),r<s-tt?(e[Ut]=n[i],tw(n,tt+r,e)):(n.push(e),e[Ut]=null),e[nt]=n;let o=e[Nr];o!==null&&n!==o&&vE(o,e);let c=e[yn];c!==null&&c.insertView(t),zh(e),e[G]|=128}function vE(t,e){let n=t[zi],r=e[nt];if(Yn(r))t[G]|=au.HasTransplantedViews;else{let i=r[nt][jt];e[jt]!==i&&(t[G]|=au.HasTransplantedViews)}n===null?t[zi]=[e]:n.push(e)}function sp(t,e){let n=t[zi],r=n.indexOf(e);n.splice(r,1)}function Co(t,e){if(t.length<=tt)return;let n=tt+e,r=t[n];if(r){let i=r[Nr];i!==null&&i!==t&&sp(i,r),e>0&&(t[n-1][Ut]=r[Ut]);let s=ru(t,tt+e);CM(r[W],r);let o=s[yn];o!==null&&o.detachView(s[W]),r[nt]=null,r[Ut]=null,r[G]&=-129}return r}function Pu(t,e){if(!(e[G]&256)){let n=e[$e];n.destroyNode&&Ou(t,e,n,3,null,null),TM(e)}}function Ah(t,e){if(e[G]&256)return;let n=se(null);try{e[G]&=-129,e[G]|=256,e[Ct]&&nh(e[Ct]),RM(t,e),AM(t,e),e[W].type===1&&e[$e].destroy();let r=e[Nr];if(r!==null&&Dn(e[nt])){r!==e[nt]&&sp(r,e);let i=e[yn];i!==null&&i.detachView(t)}nf(e)}finally{se(n)}}function AM(t,e){let n=t.cleanup,r=e[su];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[su]=null);let i=e[Qn];if(i!==null){e[Qn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function RM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof kr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Wt(4,c,u);try{u.call(c)}finally{Wt(5,c,u)}}else{Wt(4,i,s);try{s.call(i)}finally{Wt(5,i,s)}}}}}function MM(t,e,n){return NM(t,e.parent,n)}function NM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[En];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Qt.None||s===Qt.Emulated)return null}return St(r,n)}}function gu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function _E(t,e,n){t.appendChild(e,n)}function xI(t,e,n,r,i){r!==null?gu(t,e,n,r,i):_E(t,e,n)}function IE(t,e){return t.parentNode(e)}function xM(t,e){return t.nextSibling(e)}function PM(t,e,n){return kM(t,e,n)}function OM(t,e,n){return t.type&40?St(t,n):null}var kM=OM,PI;function op(t,e,n,r){let i=MM(t,r,e),s=e[$e],o=r.parent||e[$t],c=PM(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)xI(s,i,n[u],c,!1);else xI(s,i,n,c,!1);PI!==void 0&&PI(s,r,e,n,i)}function mo(t,e){if(e!==null){let n=e.type;if(n&3)return St(e,t);if(n&4)return sf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return mo(t,r);{let i=t[e.index];return Dn(i)?sf(-1,i):Zt(i)}}else{if(n&128)return mo(t,e.next);if(n&32)return ip(e,t)()||Zt(t[e.index]);{let r=wE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Pr(t[jt]);return mo(i,r)}else return mo(t,e.next)}}}return null}function wE(t,e){if(e!==null){let r=t[jt][$t],i=e.projection;return r.projection[i]}return null}function sf(t,e){let n=tt+t+1;if(n<e.length){let r=e[n],i=r[W].firstChild;if(i!==null)return mo(r,i)}return e[xr]}function FM(t,e,n){t.removeChild(null,e,n)}function ap(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Vr(Zt(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)ap(t,e,n.child,r,i,s,!1),Li(e,t,i,c,s);else if(u&32){let l=ip(n,r),f;for(;f=l();)Li(e,t,i,f,s);Li(e,t,i,c,s)}else u&16?VM(t,e,r,n,i,s):Li(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Ou(t,e,n,r,i,s){ap(n,r,t.firstChild,e,i,s,!1)}function VM(t,e,n,r,i,s){let o=n[jt],u=o[$t].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Li(e,t,i,f,s)}else{let l=u,f=o[nt];sE(r)&&(l.flags|=128),ap(t,e,l,f,i,s,!0)}}function LM(t,e,n,r,i){let s=n[xr],o=Zt(n);s!==o&&Li(e,t,r,s,i);for(let c=tt;c<n.length;c++){let u=n[c];Ou(u[W],u,t,e,r,s)}}function UM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:_n.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=_n.Important),t.setStyle(n,r,i,s))}}function jM(t,e,n){t.setAttribute(e,"style",n)}function EE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function DE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Uh(t,e,r),i!==null&&EE(t,e,i),s!==null&&jM(t,e,s)}var sr={};function es(t=1){CE(rt(),fe(),$r()+t,!1)}function CE(t,e,n,r){if(!r)if((e[G]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Yc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Zc(e,s,0,n)}Or(n)}function ge(t,e=te.Default){let n=fe();if(n===null)return ne(t,e);let r=it();return Zw(r,n,lt(t),e)}function bE(t,e,n,r,i,s){let o=se(null);try{let c=null;i&Zn.SignalBased&&(c=e[r][pn]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Zn.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):ww(e,c,r,s)}finally{se(o)}}function BM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Or(~i);else{let s=i,o=n[++r],c=n[++r];SR(o,s);let u=e[s];c(2,u)}}}finally{Or(-1)}}function ku(t,e,n,r,i,s,o,c,u,l,f){let p=e.blueprint.slice();return p[En]=i,p[G]=r|4|128|8|64,(l!==null||t&&t[G]&2048)&&(p[G]|=2048),Tw(p),p[nt]=p[Zi]=t,p[et]=n,p[Yt]=o||t&&t[Yt],p[$e]=c||t&&t[$e],p[qi]=u||t&&t[qi]||null,p[$t]=s,p[Au]=aM(),p[Eo]=f,p[vw]=l,p[jt]=e.type==2?t[jt]:p,p}function Fu(t,e,n,r,i){let s=t.data[e];if(s===null)s=$M(t,e,n,r,i),TR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=wR();s.injectorIndex=o===null?-1:o.injectorIndex}return Oo(s,!0),s}function $M(t,e,n,r,i){let s=Pw(),o=Ow(),c=o?s:s&&s.parent,u=t.data[e]=KM(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function TE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function SE(t,e,n,r,i){let s=$r(),o=r&2;try{Or(-1),o&&e.length>yt&&CE(t,e,yt,!1),Wt(o?2:0,i),n(r,i)}finally{Or(s),Wt(o?3:1,i)}}function AE(t,e,n){if(Iw(e)){let r=se(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{se(r)}}}function RE(t,e,n){Mw()&&(tN(t,e,n,St(n,e)),(n.flags&64)===64&&OE(t,e,n))}function ME(t,e,n=St){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function NE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=cp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function cp(t,e,n,r,i,s,o,c,u,l,f){let p=yt+r,y=p+i,v=HM(p,y),T=typeof l=="function"?l():l;return v[W]={type:t,blueprint:v,template:n,queries:null,viewQuery:c,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:f}}function HM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:sr);return n}function qM(t,e,n,r){let s=r.get(pM,dE)||n===Qt.ShadowDom,o=t.selectRootElement(e,s);return zM(o),o}function zM(t){GM(t)}var GM=()=>null;function WM(t,e,n,r){let i=VE(e);i.push(n),t.firstCreatePass&&LE(t).push(r,i.length-1)}function KM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return vR()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function OI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=Zn.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?kI(r,n,l,c,u):kI(r,n,l,c)}return r}function kI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function QM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],y=n?n.get(p):null,v=y?y.inputs:null,T=y?y.outputs:null;u=OI(0,p.inputs,f,u,v),l=OI(1,p.outputs,f,l,T);let M=u!==null&&o!==null&&!Vf(e)?hN(u,f,o):null;c.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function YM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ZM(t,e,n,r,i,s,o,c){let u=St(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(up(t,n,f,r,i),Ru(e)&&JM(n,e.index)):e.type&3?(r=YM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function JM(t,e){let n=rr(e,t);n[G]&16||(n[G]|=64)}function xE(t,e,n,r){if(Mw()){let i=r===null?null:{"":-1},s=rN(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&PE(t,e,n,o,i,c),i&&iN(n,r,i)}n.mergedAttrs=Io(n.mergedAttrs,n.attrs)}function PE(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Qh(du(n,e),t,r[l].type);oN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=TE(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Io(n.mergedAttrs,f.hostAttrs),aN(t,n,e,u,f),sN(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}QM(t,n,s)}function XM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;eN(o)!=c&&o.push(c),o.push(n,r,s)}}function eN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function tN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Ru(n)&&cN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||du(n,e),Vr(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=Fr(e,t,c,n);if(Vr(l,e),o!==null&&dN(e,c-i,l,u,n,o),Jn(u)){let f=rr(n.index,e);f[et]=Fr(e,t,c,n)}}}function OE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=AR();try{Or(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Gh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&nN(u,l)}}finally{Or(-1),Gh(o)}}function nN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function rN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(VA(e,o.selectors,!1))if(r||(r=[]),Jn(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;of(t,e,u)}else r.unshift(o),of(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function of(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function iN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new j(-301,!1);r.push(e[i],s)}}}function sN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Jn(e)&&(n[""]=t)}}function oN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function aN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Rr(i.type,!0)),o=new kr(s,Jn(i),ge);t.blueprint[r]=o,n[r]=o,XM(t,e,r,TE(t,n,i.hostVars,sr),i)}function cN(t,e,n){let r=St(e,t),i=NE(n),s=t[Yt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Vu(t,ku(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function uN(t,e,n,r,i,s){let o=St(t,e);lN(e[$e],o,s,t.value,n,r,i)}function lN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?bu(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function dN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],p=o[c++];bE(r,n,u,l,f,p)}}function hN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function kE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function FE(t,e){let n=t.contentQueries;if(n!==null){let r=se(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];Hf(s),c.contentQueries(2,e[o],o)}}}finally{se(r)}}}function Vu(t,e){return t[Do]?t[II][Ut]=e:t[Do]=e,t[II]=e,e}function af(t,e,n){Hf(0);let r=se(null);try{e(t,n)}finally{se(r)}}function VE(t){return t[su]??=[]}function LE(t){return t.cleanup??=[]}function UE(t,e){let n=t[qi],r=n?n.get(vn,null):null;r&&r.handleError(e)}function up(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];bE(f,l,r,c,u,i)}}function fN(t,e,n){let r=bw(e,t);DM(t[$e],r,n)}function pN(t,e){let n=rr(e,t),r=n[W];gN(r,n);let i=n[En];i!==null&&n[Eo]===null&&(n[Eo]=np(i,n[qi])),lp(r,n,n[et])}function gN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function lp(t,e,n){qf(e);try{let r=t.viewQuery;r!==null&&af(1,r,n);let i=t.template;i!==null&&SE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[yn]?.finishViewCreation(t),t.staticContentQueries&&FE(t,e),t.staticViewQueries&&af(2,t.viewQuery,n);let s=t.components;s!==null&&mN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,zf()}}function mN(t,e){for(let n=0;n<e.length;n++)pN(t,e[n])}function Lu(t,e,n,r){let i=se(null);try{let s=e.tView,c=t[G]&4096?4096:16,u=ku(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Nr]=l;let f=t[yn];return f!==null&&(u[yn]=f.createEmbeddedView(s)),lp(s,u,n),u}finally{se(i)}}function jE(t,e){let n=tt+e;if(n<t.length)return t[n]}function bo(t,e){return!e||e.firstChild===null||sE(t)}function Uu(t,e,n,r=!0){let i=e[W];if(SM(i,e,t,n),r){let o=sf(n,t),c=e[$e],u=IE(c,t[xr]);u!==null&&bM(i,t[$t],c,e,u,o)}let s=e[Eo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function BE(t,e){let n=Co(t,e);return n!==void 0&&Pu(n[W],n),n}function mu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Zt(s)),Dn(s)&&yN(s,r);let o=n.type;if(o&8)mu(t,e,n.child,r);else if(o&32){let c=ip(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=wE(e,n);if(Array.isArray(c))r.push(...c);else{let u=Pr(e[jt]);mu(u[W],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function yN(t,e){for(let n=tt;n<t.length;n++){let r=t[n],i=r[W].firstChild;i!==null&&mu(r[W],r,i,e)}t[xr]!==t[En]&&e.push(t[xr])}var $E=[];function vN(t){return t[Ct]??_N(t)}function _N(t){let e=$E.pop()??Object.create(wN);return e.lView=t,e}function IN(t){t.lView[Ct]!==t&&(t.lView=null,$E.push(t))}var wN=oe(k({},ho),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Nu(t.lView)},consumerOnSignalRead(){this.lView[Ct]=this}});function EN(t){let e=t[Ct]??Object.create(DN);return e.lView=t,e}var DN=oe(k({},ho),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Pr(t.lView);for(;e&&!HE(e[W]);)e=Pr(e);e&&Sw(e)},consumerOnSignalRead(){this.lView[Ct]=this}});function HE(t){return t.type!==2}var CN=100;function qE(t,e=!0,n=0){let r=t[Yt],i=r.rendererFactory,s=!1;s||i.begin?.();try{bN(t,n)}catch(o){throw e&&UE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function bN(t,e){let n=kw();try{EI(!0),cf(t,e);let r=0;for(;Mu(t);){if(r===CN)throw new j(103,!1);r++,cf(t,1)}}finally{EI(n)}}function TN(t,e,n,r){let i=e[G];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Yt].inlineEffectRunner?.flush(),qf(e);let c=!0,u=null,l=null;s||(HE(t)?(l=vN(e),u=fc(l)):T_()===null?(c=!1,l=EN(e),u=fc(l)):e[Ct]&&(nh(e[Ct]),e[Ct]=null));try{Tw(e),CR(t.bindingStartIndex),n!==null&&SE(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let v=t.preOrderCheckHooks;v!==null&&Yc(e,v,null)}else{let v=t.preOrderHooks;v!==null&&Zc(e,v,0,null),Ch(e,0)}if(o||SN(e),zE(e,0),t.contentQueries!==null&&FE(t,e),!s)if(f){let v=t.contentCheckHooks;v!==null&&Yc(e,v)}else{let v=t.contentHooks;v!==null&&Zc(e,v,1),Ch(e,1)}BM(t,e);let p=t.components;p!==null&&WE(e,p,0);let y=t.viewQuery;if(y!==null&&af(2,y,r),!s)if(f){let v=t.viewCheckHooks;v!==null&&Yc(e,v)}else{let v=t.viewHooks;v!==null&&Zc(e,v,2),Ch(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Dh]){for(let v of e[Dh])v();e[Dh]=null}s||(e[G]&=-73)}catch(f){throw s||Nu(e),f}finally{l!==null&&(eh(l,u),c&&IN(l)),zf()}}function zE(t,e){for(let n=aE(t);n!==null;n=cE(n))for(let r=tt;r<n.length;r++){let i=n[r];GE(i,e)}}function SN(t){for(let e=aE(t);e!==null;e=cE(e)){if(!(e[G]&au.HasTransplantedViews))continue;let n=e[zi];for(let r=0;r<n.length;r++){let i=n[r];Sw(i)}}}function AN(t,e,n){let r=rr(e,t);GE(r,n)}function GE(t,e){$f(t)&&cf(t,e)}function cf(t,e){let r=t[W],i=t[G],s=t[Ct],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&th(s)),o||=!1,s&&(s.dirty=!1),t[G]&=-9217,o)TN(r,t,r.template,t[et]);else if(i&8192){zE(t,1);let c=r.components;c!==null&&WE(t,c,1)}}function WE(t,e,n){for(let r=0;r<e.length;r++)AN(t,e[r],n)}function dp(t,e){let n=kw()?64:1088;for(t[Yt].changeDetectionScheduler?.notify(e);t;){t[G]|=n;let r=Pr(t);if(Hh(t)&&!r)return t;t=r}return null}var Lr=class{get rootNodes(){let e=this._lView,n=e[W];return mu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[et]}set context(e){this._lView[et]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(Dn(e)){let n=e[ou],r=n?n.indexOf(this):-1;r>-1&&(Co(e,r),ru(n,r))}this._attachedToViewContainer=!1}Pu(this._lView[W],this._lView)}onDestroy(e){Aw(this._lView,e)}markForCheck(){dp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){zh(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,qE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Hh(this._lView),n=this._lView[Nr];n!==null&&!e&&sp(n,this._lView),yE(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=Hh(this._lView),r=this._lView[Nr];r!==null&&!n&&vE(r,this._lView),zh(this._lView)}},To=(()=>{class t{static{this.__NG_ELEMENT_ID__=NN}}return t})(),RN=To,MN=class extends RN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Lu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Lr(i)}};function NN(){return hp(it(),fe())}function hp(t,e){return t.type&4?new MN(e,t,Xi(t,e)):null}var qz=new RegExp(`^(\\d+)*(${hM}|${dM})*(.*)`);var xN=()=>null;function So(t,e){return xN(t,e)}var Wi=class{},ju=new B("",{providedIn:"root",factory:()=>!1});var KE=new B(""),QE=new B(""),uf=class{},yu=class{};function PN(t){let e=Error(`No component factory found for ${ft(t)}.`);return e[ON]=t,e}var ON="ngComponent";var lf=class{resolveComponentFactory(e){throw PN(e)}},Ki=class{static{this.NULL=new lf}},Qi=class{},or=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>kN()}}return t})();function kN(){let t=fe(),e=it(),n=rr(e.index,t);return(Yn(n)?n:t)[$e]}var FN=(()=>{class t{static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>null})}}return t})();function df(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=lI(i,c);else if(s==2){let u=c,l=e[++o];r=lI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var vu=class extends Ki{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Mr(e);return new Ao(n,this.ngModule)}};function FI(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:Zn.None;e?n.push({propName:o,templateName:r,isSignal:(c&Zn.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function VN(t){let e=t.toLowerCase();return e==="svg"?cR:e==="math"?uR:null}var Ao=class extends yu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=FI(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return FI(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=BA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=se(null);try{i=i||this.ngModule;let o=i instanceof bt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Wh(e,o):e,u=c.get(Qi,null);if(u===null)throw new j(407,!1);let l=c.get(FN,null),f=c.get(Wi,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},y=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",T=r?qM(y,r,this.componentDef.encapsulation,c):mE(y,v,VN(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;T!==null&&(R=np(T,c,!0));let O=cp(0,null,null,1,0,null,null,null,null,null,null),L=ku(null,O,null,M,null,null,p,y,c,null,R);qf(L);let H,ie,Se=null;try{let Y=this.componentDef,E,m=null;Y.findHostDirectiveDefs?(E=[],m=new Map,Y.findHostDirectiveDefs(Y,E,m),E.push(Y)):E=[Y];let _=LN(L,T);Se=UN(_,T,Y,E,L,p,y),ie=Bf(O,yt),T&&$N(y,Y,T,r),n!==void 0&&HN(ie,this.ngContentSelectors,n),H=BN(Se,Y,E,m,L,[qN]),lp(O,L,null)}catch(Y){throw Se!==null&&nf(Se),nf(L),Y}finally{zf()}return new hf(this.componentType,H,Xi(ie,L),L,ie)}finally{se(s)}}},hf=class extends uf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Lr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;up(s[W],s,i,e,n),this.previousInputValues.set(e,n);let o=rr(this._tNode.index,s);dp(o,1)}}get injector(){return new Ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function LN(t,e){let n=t[W],r=yt;return t[r]=e,Fu(n,r,2,"#host",null)}function UN(t,e,n,r,i,s,o){let c=i[W];jN(r,t,e,o);let u=null;e!==null&&(u=np(e,i[qi]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=ku(i,NE(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&of(c,t,r.length-1),Vu(i,p),i[t.index]=p}function jN(t,e,n,r){for(let i of t)e.mergedAttrs=Io(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(df(e,e.mergedAttrs,!0),n!==null&&DE(r,n,e))}function BN(t,e,n,r,i,s){let o=it(),c=i[W],u=St(o,i);PE(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,y=Fr(i,c,p,o);Vr(y,i)}OE(c,i,o),u&&Vr(u,i);let l=Fr(i,c,o.directiveStart+o.componentOffset,o);if(t[et]=i[et]=l,s!==null)for(let f of s)f(l,e);return AE(c,o,i),l}function $N(t,e,n,r){if(r)Uh(t,n,["ng-version","18.2.14"]);else{let{attrs:i,classes:s}=$A(e.selectors[0]);i&&Uh(t,n,i),s&&s.length>0&&EE(t,n,s.join(" "))}}function HN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function qN(){let t=it();Kf(fe()[W],t)}var ts=(()=>{class t{static{this.__NG_ELEMENT_ID__=zN}}return t})();function zN(){let t=it();return ZE(t,fe())}var GN=ts,YE=class extends GN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Xi(this._hostTNode,this._hostLView)}get injector(){return new Ar(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qf(this._hostTNode,this._hostLView);if(zw(e)){let n=uu(e,this._hostLView),r=cu(e),i=n[W].data[r+8];return new Ar(i,n)}else return new Ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=VI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-tt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=So(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,bo(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!iR(e),c;if(o)c=n;else{let T=n||{};c=T.index,r=T.injector,i=T.projectableNodes,s=T.environmentInjector||T.ngModuleRef}let u=o?e:new Ao(Mr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(bt,null);M&&(s=M)}let f=Mr(u.componentType??{}),p=So(this._lContainer,f?.id??null),y=p?.firstChild??null,v=u.create(l,i,y,s);return this.insertImpl(v.hostView,c,bo(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(hR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[nt],l=new YE(u,u[$t],u[nt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Uu(o,i,s,r),e.attachToViewContainerRef(),tw(Rh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=VI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Co(this._lContainer,n);r&&(ru(Rh(this._lContainer),n),Pu(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=Co(this._lContainer,n);return r&&ru(Rh(this._lContainer),n)!=null?new Lr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function VI(t){return t[ou]}function Rh(t){return t[ou]||(t[ou]=[])}function ZE(t,e){let n,r=e[t.index];return Dn(r)?n=r:(n=kE(r,e,null,t),e[t.index]=n,Vu(e,n)),KN(n,e,t,r),new YE(n,t,e)}function WN(t,e){let n=t[$e],r=n.createComment(""),i=St(e,t),s=IE(n,i);return gu(n,s,r,xM(n,i),!1),r}var KN=ZN,QN=()=>!1;function YN(t,e,n){return QN(t,e,n)}function ZN(t,e,n,r){if(t[xr])return;let i;n.type&8?i=Zt(r):i=WN(e,n),t[xr]=i}var ff=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},pf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),c=this.queries[o.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)fp(e,n).matches!==null&&this.queries[n].setDirty()}},gf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=sx(e):this.predicate=e}},mf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},yf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,JN(n,s)),this.matchTNodeWithReadOption(e,n,Jc(n,e,s,!1,!1))}else r===To?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Jc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===At||i===ts||i===To&&n.type&4)this.addMatch(n.index,-2);else{let s=Jc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function JN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function XN(t,e){return t.type&11?Xi(t,e):t.type&4?hp(t,e):null}function ex(t,e,n,r){return n===-1?XN(e,t):n===-2?tx(t,e,r):Fr(t,t[W],n,e)}function tx(t,e,n){if(n===At)return Xi(e,t);if(n===To)return hp(e,t);if(n===ts)return ZE(e,t)}function JE(t,e,n,r){let i=e[yn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,c=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)c.push(null);else{let f=s[l];c.push(ex(e,f,o[u+1],n.metadata.read))}}i.matches=c}return i.matches}function vf(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=JE(t,e,i,n);for(let c=0;c<s.length;c+=2){let u=s[c];if(u>0)r.push(o[c/2]);else{let l=s[c+1],f=e[-u];for(let p=tt;p<f.length;p++){let y=f[p];y[Nr]===y[nt]&&vf(y[W],y,l,r)}if(f[zi]!==null){let p=f[zi];for(let y=0;y<p.length;y++){let v=p[y];vf(v[W],v,l,r)}}}}}return r}function nx(t,e){return t[yn].queries[e].queryList}function rx(t,e,n){let r=new tf((n&4)===4);return WM(t,e,r,r.destroy),(e[yn]??=new pf).queries.push(new ff(r))-1}function ix(t,e,n,r){let i=rt();if(i.firstCreatePass){let s=it();ox(i,new gf(e,n,r),s.index),ax(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return rx(i,fe(),n)}function sx(t){return t.split(",").map(e=>e.trim())}function ox(t,e,n){t.queries===null&&(t.queries=new mf),t.queries.track(new yf(e,n))}function ax(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function fp(t,e){return t.queries.getByIndex(e)}function cx(t,e){let n=t[W],r=fp(n,e);return r.crossesNgTemplate?vf(n,t,e,[]):JE(n,t,r,e)}var LI=new Set;function Hr(t){LI.has(t)||(LI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ux(t){return typeof t=="function"&&t[pn]!==void 0}function Bu(t,e){Hr("NgSignals");let n=V_(t),r=n[pn];return e?.equal&&(r.equal=e.equal),n.set=i=>rh(r,i),n.update=i=>L_(r,i),n.asReadonly=lx.bind(n),n}function lx(){let t=this[pn];if(t.readonlyFn===void 0){let e=()=>this();e[pn]=t,t.readonlyFn=e}return t.readonlyFn}function XE(t){return ux(t)&&typeof t.set=="function"}function dx(t){return Object.getPrototypeOf(t.prototype).constructor}function ns(t){let e=dx(t.type),n=!0,r=[t];for(;e;){let i;if(Jn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Gc(t.inputs),o.inputTransforms=Gc(t.inputTransforms),o.declaredInputs=Gc(t.declaredInputs),o.outputs=Gc(t.outputs);let c=i.hostBindings;c&&mx(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&px(t,u),l&&gx(t,l),hx(t,i),oA(t.outputs,i.outputs),Jn(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===ns&&(n=!1)}}e=Object.getPrototypeOf(e)}fx(r)}function hx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function fx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Io(i.hostAttrs,n=Io(n,i.hostAttrs))}}function Gc(t){return t===Bi?{}:t===Dt?[]:t}function px(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function gx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function mx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function pp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Xn=class{},Ro=class{};var _f=class extends Xn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vu(this);let s=dw(e);this._bootstrapComponents=gE(s.bootstrap),this._r3Injector=eE(e,n,[{provide:Xn,useValue:this},{provide:Ki,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},If=class extends Ro{constructor(e){super(),this.moduleType=e}create(e){return new _f(this.moduleType,e,[])}};var _u=class extends Xn{constructor(e){super(),this.componentFactoryResolver=new vu(this),this.instance=null;let n=new wo([...e.providers,{provide:Xn,useValue:this},{provide:Ki,useValue:this.componentFactoryResolver}],e.parent||Uf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function gp(t,e,n=null){return new _u({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function yx(t,e,n){return t[e]=n}function qr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function vx(t){return(t.flags&32)===32}function _x(t,e,n,r,i,s,o,c,u){let l=e.consts,f=Fu(e,t,4,o||null,c||null);xE(e,n,f,Gi(l,u)),Kf(e,f);let p=f.tView=cp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function wf(t,e,n,r,i,s,o,c,u,l){let f=n+yt,p=e.firstCreatePass?_x(f,e,t,r,i,s,o,c,u):e.data[f];Oo(p,!1);let y=Ix(e,t,p,n);Gf()&&op(e,t,y,p),Vr(y,t);let v=kE(y,t,y,p);return t[f]=v,Vu(t,v),YN(v,p,t),jf(p)&&RE(e,t,p),u!=null&&ME(t,p,l),p}function mp(t,e,n,r,i,s,o,c){let u=fe(),l=rt(),f=Gi(l.consts,s);return wf(u,l,t,e,n,r,i,f,o,c),mp}var Ix=wx;function wx(t,e,n,r){return Wf(!0),e[$e].createComment("")}var yo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(yo||{}),Ex=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}}return t})(),UI=class t{constructor(){this.ngZone=F(Ee),this.scheduler=F(Wi),this.errorHandler=F(vn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[yo.EarlyRead,yo.Write,yo.MixedReadWrite,yo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}};function $u(t,e,n,r){let i=fe(),s=ko();if(qr(i,s,e)){let o=rt(),c=$w();uN(c,i,t,e,n,r)}return $u}function Dx(t,e,n,r){return qr(t,ko(),n)?e+bu(n)+r:sr}function Wc(t,e){return t<<17|e<<2}function Ur(t){return t>>17&32767}function Cx(t){return(t&2)==2}function bx(t,e){return t&131071|e<<17}function Ef(t){return t|2}function Yi(t){return(t&131068)>>2}function Mh(t,e){return t&-131069|e<<2}function Tx(t){return(t&1)===1}function Df(t){return t|1}function Sx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Ur(o),u=Yi(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Po(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=Ur(t[c+1]);t[r+1]=Wc(y,c),y!==0&&(t[y+1]=Mh(t[y+1],r)),t[c+1]=bx(t[c+1],r)}else t[r+1]=Wc(c,0),c!==0&&(t[c+1]=Mh(t[c+1],r)),c=r;else t[r+1]=Wc(u,0),c===0?c=r:t[u+1]=Mh(t[u+1],r),u=r;l&&(t[r+1]=Ef(t[r+1])),jI(t,f,r,!0),jI(t,f,r,!1),Ax(e,f,t,r,s),o=Wc(c,u),s?e.classBindings=o:e.styleBindings=o}function Ax(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Po(s,e)>=0&&(n[r+1]=Df(n[r+1]))}function jI(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ur(i):Yi(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];Rx(u,e)&&(c=!0,t[o+1]=r?Df(l):Ef(l)),o=r?Ur(l):Yi(l)}c&&(t[n+1]=r?Ef(i):Df(i))}function Rx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Po(t,e)>=0:!1}function BI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";up(t,n,s[o],o,r)}function yp(t,e){return Mx(t,e,null,!0),yp}function Mx(t,e,n,r){let i=fe(),s=rt(),o=bR(2);if(s.firstUpdatePass&&xx(s,t,o,r),e!==sr&&qr(i,o,e)){let c=s.data[$r()];Vx(s,c,i,i[$e],t,i[o+1]=Lx(e,n),r,o)}}function Nx(t,e){return e>=t.expandoStartIndex}function xx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[$r()],o=Nx(t,n);Ux(s,r)&&e===null&&!o&&(e=!1),e=Px(i,s,e,r),Sx(i,s,e,n,o,r)}}function Px(t,e,n,r){let i=RR(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Nh(null,t,e,n,r),n=Mo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Nh(i,t,e,n,r),s===null){let u=Ox(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Nh(null,t,e,u[1],r),u=Mo(u,e.attrs,r),kx(t,e,r,u))}else s=Fx(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Ox(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Yi(r)!==0)return t[Ur(r)]}function kx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ur(i)]=r}function Fx(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Mo(r,o,n)}return Mo(r,e.attrs,n)}function Nh(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=Mo(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Mo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),RA(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Vx(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=Tx(l)?$I(u,e,n,i,Yi(l),o):void 0;if(!Iu(f)){Iu(s)||Cx(l)&&(s=$I(u,null,n,i,c,o));let p=bw($r(),n);UM(r,o,p,i,s)}}function $I(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,y=n[i+1];y===sr&&(y=p?Dt:void 0);let v=p?wh(y,r):f===r?y:void 0;if(l&&!Iu(v)&&(v=wh(u,r)),Iu(v)&&(c=v,o))return c;let T=t[i+1];i=o?Ur(T):Yi(T)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=wh(u,r))}return c}function Iu(t){return t!==void 0}function Lx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ft(Vo(t)))),t}function Ux(t,e){return(t.flags&(e?8:16))!==0}var Cf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function xh(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function jx(t,e,n){let r,i,s=0,o=t.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;s<=o&&s<=u;){let l=t.at(s),f=e[s],p=xh(s,l,s,f,n);if(p!==0){p<0&&t.updateValue(s,f),s++;continue}let y=t.at(o),v=e[u],T=xh(o,y,u,v,n);if(T!==0){T<0&&t.updateValue(o,v),o--,u--;continue}let M=n(s,l),R=n(o,y),O=n(s,f);if(Object.is(O,R)){let L=n(u,v);Object.is(L,M)?(t.swap(s,o),t.updateValue(o,v),u--,o--):t.move(o,s),t.updateValue(s,f),s++;continue}if(r??=new wu,i??=qI(t,s,o,n),bf(t,r,s,O))t.updateValue(s,f),s++,o++;else if(i.has(O))r.set(M,t.detach(s)),o--;else{let L=t.create(s,e[s]);t.attach(s,L),s++,o++}}for(;s<=u;)HI(t,r,n,s,e[s]),s++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&s<=o;){let f=t.at(s),p=l.value,y=xh(s,f,s,p,n);if(y!==0)y<0&&t.updateValue(s,p),s++,l=u.next();else{r??=new wu,i??=qI(t,s,o,n);let v=n(s,p);if(bf(t,r,s,v))t.updateValue(s,p),s++,o++,l=u.next();else if(!i.has(v))t.attach(s,t.create(s,p)),s++,o++,l=u.next();else{let T=n(s,f);r.set(T,t.detach(s)),o--}}}for(;!l.done;)HI(t,r,n,t.length,l.value),l=u.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(u=>{t.destroy(u)})}function bf(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function HI(t,e,n,r,i){if(bf(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function qI(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var wu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function eD(t,e){Hr("NgControlFlow");let n=fe(),r=ko(),i=n[r]!==sr?n[r]:-1,s=i!==-1?Eu(n,yt+i):void 0,o=0;if(qr(n,r,t)){let c=se(null);try{if(s!==void 0&&BE(s,o),t!==-1){let u=yt+t,l=Eu(n,u),f=Rf(n[W],u),p=So(l,f.tView.ssrId),y=Lu(n,f,e,{dehydratedView:p});Uu(l,y,o,bo(f,p))}}finally{se(c)}}else if(s!==void 0){let c=jE(s,o);c!==void 0&&(c[et]=e)}}var Tf=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-tt}};var Sf=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function tD(t,e,n,r,i,s,o,c,u,l,f,p,y){Hr("NgControlFlow");let v=fe(),T=rt(),M=u!==void 0,R=fe(),O=c?o.bind(R[jt][et]):o,L=new Sf(M,O);R[yt+t]=L,wf(v,T,t+1,e,n,r,i,Gi(T.consts,s)),M&&wf(v,T,t+2,u,l,f,p,Gi(T.consts,y))}var Af=class extends Cf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-tt}at(e){return this.getLView(e)[et].$implicit}attach(e,n){let r=n[Eo];this.needsIndexUpdate||=e!==this.length,Uu(this.lContainer,n,e,bo(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Bx(this.lContainer,e)}create(e,n){let r=So(this.lContainer,this.templateTNode.tView.ssrId),i=Lu(this.hostLView,this.templateTNode,new Tf(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Pu(e[W],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[et].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[et].$index=e}getLView(e){return $x(this.lContainer,e)}};function nD(t){let e=se(null),n=$r();try{let r=fe(),i=r[W],s=r[n],o=n+1,c=Eu(r,o);if(s.liveCollection===void 0){let l=Rf(i,o);s.liveCollection=new Af(c,r,l)}else s.liveCollection.reset();let u=s.liveCollection;if(jx(u,t,s.trackByFn),u.updateIndexes(),s.hasEmptyBlock){let l=ko(),f=u.length===0;if(qr(r,l,f)){let p=n+2,y=Eu(r,p);if(f){let v=Rf(i,p),T=So(y,v.tView.ssrId),M=Lu(r,v,void 0,{dehydratedView:T});Uu(y,M,0,bo(v,T))}else BE(y,0)}}}finally{se(e)}}function Eu(t,e){return t[e]}function Bx(t,e){return Co(t,e)}function $x(t,e){return jE(t,e)}function Rf(t,e){return Bf(t,e)}function Hx(t,e,n,r,i,s){let o=e.consts,c=Gi(o,i),u=Fu(e,t,2,r,c);return xE(e,n,u,Gi(o,s)),u.attrs!==null&&df(u,u.attrs,!1),u.mergedAttrs!==null&&df(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Oe(t,e,n,r){let i=fe(),s=rt(),o=yt+t,c=i[$e],u=s.firstCreatePass?Hx(o,s,i,e,n,r):s.data[o],l=qx(s,i,u,c,e,t);i[o]=l;let f=jf(u);return Oo(u,!0),DE(c,l,u),!vx(u)&&Gf()&&op(s,i,l,u),gR()===0&&Vr(l,i),mR(),f&&(RE(s,i,u),AE(s,u,i)),r!==null&&ME(i,u),Oe}function Te(){let t=it();Ow()?ER():(t=t.parent,Oo(t,!1));let e=t;_R(e)&&IR(),yR();let n=rt();return n.firstCreatePass&&(Kf(n,t),Iw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&FR(e)&&BI(n,e,fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&VR(e)&&BI(n,e,fe(),e.stylesWithoutHost,!1),Te}function zr(t,e,n,r){return Oe(t,e,n,r),Te(),zr}var qx=(t,e,n,r,i,s)=>(Wf(!0),mE(r,i,xR()));function rD(){return fe()}var Du="en-US";var zx=Du;function Gx(t){typeof t=="string"&&(zx=t.toLowerCase().replace(/_/g,"-"))}var Wx=(t,e,n)=>{};function Cn(t,e,n,r){let i=fe(),s=rt(),o=it();return iD(s,i,i[$e],o,t,e,r),Cn}function Kx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[su],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function iD(t,e,n,r,i,s,o){let c=jf(r),l=t.firstCreatePass&&LE(t),f=e[et],p=VE(e),y=!0;if(r.type&3||o){let M=St(r,e),R=o?o(M):M,O=p.length,L=o?ie=>o(Zt(ie[r.index])):r.index,H=null;if(!o&&c&&(H=Kx(t,e,i,r.index)),H!==null){let ie=H.__ngLastListenerFn__||H;ie.__ngNextListenerFn__=s,H.__ngLastListenerFn__=s,y=!1}else{s=GI(r,e,f,s),Wx(M,i,s);let ie=n.listen(R,i,s);p.push(s,ie),l&&l.push(i,L,O,O+1)}}else s=GI(r,e,f,s);let v=r.outputs,T;if(y&&v!==null&&(T=v[i])){let M=T.length;if(M)for(let R=0;R<M;R+=2){let O=T[R],L=T[R+1],Se=e[O][L].subscribe(s),Y=p.length;p.push(s,Se),l&&l.push(i,r.index,Y,-(Y+1))}}}function zI(t,e,n,r){let i=se(null);try{return Wt(6,e,n),n(r)!==!1}catch(s){return UE(t,s),!1}finally{Wt(7,e,n),se(i)}}function GI(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?rr(t.index,e):e;dp(o,5);let c=zI(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=zI(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function sD(t=1){return NR(t)}function oD(t,e,n,r){ix(t,e,n,r)}function aD(t){let e=fe(),n=rt(),r=Fw();Hf(r+1);let i=fp(n,r);if(t.dirty&&dR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=cx(e,r);t.reset(s,iM),t.notifyOnChanges()}return!0}return!1}function cD(){return nx(fe(),Fw())}function Qx(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function He(t,e=""){let n=fe(),r=rt(),i=t+yt,s=r.firstCreatePass?Fu(r,i,1,e,null):r.data[i],o=Yx(r,n,s,e,t);n[i]=o,Gf()&&op(r,n,o,s),Oo(s,!1)}var Yx=(t,e,n,r,i)=>(Wf(!0),EM(e[$e],r));function vp(t){return uD("",t,""),vp}function uD(t,e,n){let r=fe(),i=Dx(r,t,e,n);return i!==sr&&fN(r,$r(),i),uD}function _p(t,e,n){XE(e)&&(e=e());let r=fe(),i=ko();if(qr(r,i,e)){let s=rt(),o=$w();ZM(s,o,r,t,e,r[$e],n,!1)}return _p}function lD(t,e){let n=XE(t);return n&&t.set(e),n}function Ip(t,e){let n=fe(),r=rt(),i=it();return iD(r,n,n[$e],i,t,e),Ip}function Zx(t,e,n){let r=rt();if(r.firstCreatePass){let i=Jn(t);Mf(n,r.data,r.blueprint,i,!0),Mf(e,r.data,r.blueprint,i,!1)}}function Mf(t,e,n,r,i){if(t=lt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Mf(t[s],e,n,r,i);else{let s=rt(),o=fe(),c=it(),u=Hi(t)?t:lt(t.provide),l=yw(t),f=c.providerIndexes&1048575,p=c.directiveStart,y=c.providerIndexes>>20;if(Hi(t)||!t.multi){let v=new kr(l,i,ge),T=Oh(u,e,i?f:f+y,p);T===-1?(Qh(du(c,o),s,u),Ph(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)):(n[T]=v,o[T]=v)}else{let v=Oh(u,e,f+y,p),T=Oh(u,e,f,f+y),M=v>=0&&n[v],R=T>=0&&n[T];if(i&&!R||!i&&!M){Qh(du(c,o),s,u);let O=eP(i?Xx:Jx,n.length,i,r,l);!i&&R&&(n[T].providerFactory=O),Ph(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(O),o.push(O)}else{let O=dD(n[i?T:v],l,!i&&r);Ph(s,t,v>-1?v:T,O)}!i&&r&&R&&n[T].componentProviders++}}}function Ph(t,e,n,r){let i=Hi(e),s=YA(e);if(i||s){let u=(s?lt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function dD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Oh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Jx(t,e,n,r){return Nf(this.multi,[])}function Xx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Fr(n,n[W],this.providerFactory.index,r);s=c.slice(0,o),Nf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],Nf(i,s);return s}function Nf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function eP(t,e,n,r,i){let s=new kr(t,n,ge);return s.multi=[],s.index=e,s.componentProviders=0,dD(s,i,r&&!n),s}function wp(t,e=[]){return n=>{n.providersResolver=(r,i)=>Zx(r,i?i(t):t,e)}}var tP=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=pw(!1,n.type),i=r.length>0?gp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(ne(bt))})}}return t})();function ar(t){Hr("NgStandalone"),t.getStandaloneInjector=e=>e.get(tP).getOrCreateStandaloneInjector(t)}function nP(t,e){let n=t[e];return n===sr?void 0:n}function rP(t,e,n,r,i,s){let o=e+n;return qr(t,o,i)?yx(t,o+1,s?r.call(s,i):r(i)):nP(t,o+1)}function hD(t,e){let n=rt(),r,i=t+yt;n.firstCreatePass?(r=iP(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Rr(r.type,!0)),o,c=ht(ge);try{let u=lu(!1),l=s();return lu(u),Qx(n,fe(),i,l),l}finally{ht(c)}}function iP(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function fD(t,e,n){let r=t+yt,i=fe(),s=lR(i,r);return sP(i,r)?rP(i,DR(),e,s.transform,n,s):s.transform(n)}function sP(t,e){return t[W].data[e].pure}var In=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},pD=new In("18.2.14");var Hu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var gD=new B("");function cr(t){return!!t&&typeof t.then=="function"}function Ep(t){return!!t&&typeof t.subscribe=="function"}var mD=new B(""),yD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=F(mD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(cr(s))n.push(s);else if(Ep(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Dp=new B("");function oP(){F_(()=>{throw new j(600,!1)})}function aP(t){return t.isBoundToModule}var cP=10;function uP(t,e,n){try{let r=n();return cr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Gr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(nM),this.afterRenderManager=F(Ex),this.zonelessEnabled=F(ju),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Be,this.afterTick=new Be,this.componentTypes=[],this.components=[],this.isStable=F(Ji).hasPendingTasks.pipe(ee(n=>!n)),this._injector=F(bt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof yu;if(!this._injector.get(yD).done){let y=!i&&lw(n),v=!1;throw new j(405,v)}let o;i?o=n:o=this._injector.get(Ki).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=aP(o)?void 0:this._injector.get(Xn),u=r||o.selector,l=o.create(Tt.NULL,[],u,c),f=l.location.nativeElement,p=l.injector.get(gD,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Xc(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new j(101,!1);let n=se(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,se(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Qi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<cP;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)lP(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Mu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Xc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Dp,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Xc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Xc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function lP(t,e,n,r){if(!n&&!Mu(t))return;qE(t,e,n&&!r?0:1)}var xf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Cp=(()=>{class t{compileModuleSync(n){return new If(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=dw(n),s=gE(i.declarations).reduce((o,c)=>{let u=Mr(c);return u&&o.push(new Ao(u)),o},[]);return new xf(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var dP=(()=>{class t{constructor(){this.zone=F(Ee),this.changeDetectionScheduler=F(Wi),this.applicationRef=F(Gr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hP=new B("",{factory:()=>!1});function vD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ee(oe(k({},ID()),{scheduleInRootZone:n})),[{provide:Ee,useFactory:t},{provide:$i,multi:!0,useFactory:()=>{let r=F(dP,{optional:!0});return()=>r.initialize()}},{provide:$i,multi:!0,useFactory:()=>{let r=F(fP);return()=>{r.initialize()}}},e===!0?{provide:KE,useValue:!0}:[],{provide:QE,useValue:n??tE}]}function _D(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=vD({ngZoneFactory:()=>{let i=ID(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Hr("NgZone_CoalesceEvent"),new Ee(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return tr([{provide:hP,useValue:!0},{provide:ju,useValue:!1},r])}function ID(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var fP=(()=>{class t{constructor(){this.subscription=new Re,this.initialized=!1,this.zone=F(Ee),this.pendingTasks=F(Ji)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var pP=(()=>{class t{constructor(){this.appRef=F(Gr),this.taskService=F(Ji),this.ngZone=F(Ee),this.zonelessEnabled=F(ju),this.disableScheduling=F(KE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Re,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(QE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ef||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?SI:rE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,SI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function gP(){return typeof $localize<"u"&&$localize.locale||Du}var bp=new B("",{providedIn:"root",factory:()=>F(bp,te.Optional|te.SkipSelf)||gP()});var Pf=new B("");function Kc(t){return!t.moduleRef}function mP(t){let e=Kc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ee);return n.run(()=>{Kc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(vn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Kc(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Pf);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Pf);o.add(s),t.moduleRef.onDestroy(()=>{Xc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return uP(r,n,()=>{let s=e.get(yD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(bp,Du);if(Gx(o||Du),Kc(t)){let c=e.get(Gr);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return yP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function yP(t,e){let n=t.injector.get(Gr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}var eu=null,wD=new B("");function vP(t=[],e){return Tt.create({name:e,providers:[{provide:Su,useValue:"platform"},{provide:Pf,useValue:new Set([()=>eu=null])},...t]})}function _P(t=[]){if(eu)return eu;let e=vP(t);return e.get(wD,!1)||(eu=e),oP(),IP(e),e}function IP(t){t.get(ep,null)?.forEach(n=>n())}var bn=(()=>{class t{static{this.__NG_ELEMENT_ID__=wP}}return t})();function wP(t){return EP(it(),fe(),(t&16)===16)}function EP(t,e,n){if(Ru(t)&&!n){let r=rr(t.index,e);return new Lr(r,r)}else if(t.type&175){let r=e[jt];return new Lr(r,e)}return null}function ED(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;try{let s=i?.injector??_P(r);if(s.get(wD,!1)===!0&&!t.platformRef)throw new j(401,!1);let o=[vD({}),{provide:Wi,useExisting:pP},...n||[]],c=new _u({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return mP({r3Injector:c.injector,platformInjector:s,rootComponent:e})}catch(s){return Promise.reject(s)}}function Wr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function qu(t,e){Hr("NgSignals");let n=P_(t);return e?.equal&&(n[pn].equal=e.equal),n}function Xt(t){let e=se(null);try{return t()}finally{se(e)}}var bD=null;function Sn(){return bD}function TD(t){bD??=t}var zu=class{};var Rt=new B(""),SD=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>F(DP),providedIn:"platform"})}}return t})();var DP=(()=>{class t extends SD{constructor(){super(),this._doc=F(Rt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sn().getBaseHref(this._doc)}onPopState(n){let r=Sn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Sn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function AD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function DD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Kr(t){return t&&t[0]!=="?"?"?"+t:t}var rs=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>F(RD),providedIn:"root"})}}return t})(),CP=new B(""),RD=(()=>{class t extends rs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(Rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return AD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ne(SD),ne(CP,8))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Lo=(()=>{class t{constructor(n){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=SP(DD(CD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Kr(r))}normalize(n){return t.stripTrailingSlash(TP(this._basePath,CD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Kr}static{this.joinWithSlash=AD}static{this.stripTrailingSlash=DD}static{this.\u0275fac=function(r){return new(r||t)(ne(rs))}}static{this.\u0275prov=q({token:t,factory:()=>bP(),providedIn:"root"})}}return t})();function bP(){return new Lo(ne(rs))}function TP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function CD(t){return t.replace(/\/index.html$/,"")}function SP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function MD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}function AP(t,e){return new j(2100,!1)}var Tp=class{createSubscription(e,n){return Xt(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Xt(()=>e.unsubscribe())}},Sp=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},RP=new Sp,MP=new Tp,ND=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(cr(n))return RP;if(Ep(n))return MP;throw AP(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(ge(bn,16))}}static{this.\u0275pipe=aw({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var Ap=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Br({type:t})}static{this.\u0275inj=jr({})}}return t})(),xD="browser",NP="server";function Rp(t){return t===NP}var Gu=class{};var xp=class extends zu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Pp=class t extends xp{static makeCurrent(){TD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=xP();return n==null?null:PP(n)}resetBaseElement(){Uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return MD(document.cookie,e)}},Uo=null;function xP(){return Uo=Uo||document.querySelector("base"),Uo?Uo.getAttribute("href"):null}function PP(t){return new URL(t,document.baseURI).pathname}var OP=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),Op=new B(""),VD=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(ne(Op),ne(Ee))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),Wu=class{constructor(e){this._doc=e}},Mp="ng-app-id",LD=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Rp(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Mp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Mp),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Mp,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(ne(Rt),ne(Xf),ne(tp,8),ne(ir))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),Np={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Fp=/%COMP%/g,UD="%COMP%",kP=`_nghost-${UD}`,FP=`_ngcontent-${UD}`,VP=!0,LP=new B("",{providedIn:"root",factory:()=>VP});function UP(t){return FP.replace(Fp,t)}function jP(t){return kP.replace(Fp,t)}function jD(t,e){return e.map(n=>n.replace(Fp,t))}var OD=(()=>{class t{constructor(n,r,i,s,o,c,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Rp(c),this.defaultRenderer=new jo(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Qt.ShadowDom&&(r=oe(k({},r),{encapsulation:Qt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Ku?i.applyToHost(n):i instanceof Bo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Qt.Emulated:s=new Ku(u,l,r,this.appId,f,o,c,p);break;case Qt.ShadowDom:return new kp(u,l,n,r,o,c,this.nonce,p);default:s=new Bo(u,l,r,f,o,c,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(ne(VD),ne(LD),ne(Xf),ne(LP),ne(Rt),ne(ir),ne(Ee),ne(tp))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),jo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Np[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(kD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(kD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Np[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Np[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(_n.DashCase|_n.Important)?e.style.setProperty(n,r,i&_n.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&_n.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Sn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function kD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var kp=class extends jo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=jD(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bo=class extends jo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?jD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ku=class extends Bo{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=UP(l),this.hostAttr=jP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},BP=(()=>{class t extends Wu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(ne(Rt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),FD=["alt","control","meta","shift"],$P={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},qP=(()=>{class t extends Wu{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),FD.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=$P[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),FD.forEach(o=>{if(o!==i){let c=HP[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(ne(Rt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();function BD(t,e,n){return ED(k({rootComponent:t,platformRef:n?.platformRef},zP(e)))}function zP(t){return{appProviders:[...YP,...t?.providers??[]],platformProviders:QP}}function GP(){Pp.makeCurrent()}function WP(){return new vn}function KP(){return lE(document),document}var QP=[{provide:ir,useValue:xD},{provide:ep,useValue:GP,multi:!0},{provide:Rt,useFactory:KP,deps:[]}];var YP=[{provide:Su,useValue:"root"},{provide:vn,useFactory:WP,deps:[]},{provide:Op,useClass:BP,multi:!0,deps:[Rt,Ee,ir]},{provide:Op,useClass:qP,multi:!0,deps:[Rt]},OD,LD,VD,{provide:Qi,useExisting:OD},{provide:Gu,useClass:OP,deps:[]},[]];var $D=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(ne(Rt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var X="primary",ra=Symbol("RouteTitle"),Bp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function us(t){return new Bp(t)}function JP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function XP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!en(t[n],e[n]))return!1;return!0}function en(t,e){let n=t?$p(t):void 0,r=e?$p(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!YD(t[i],e[i]))return!1;return!0}function $p(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function YD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function ZD(t){return t.length>0?t[t.length-1]:null}function ur(t){return mh(t)?t:cr(t)?be(Promise.resolve(t)):K(t)}var eO={exact:XD,subset:eC},JD={exact:tO,subset:nO,ignored:()=>!0};function HD(t,e,n){return eO[n.paths](t.root,e.root,n.matrixParams)&&JD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function tO(t,e){return en(t,e)}function XD(t,e,n){if(!Yr(t.segments,e.segments)||!Zu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!XD(t.children[r],e.children[r],n))return!1;return!0}function nO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>YD(t[n],e[n]))}function eC(t,e,n){return tC(t,e,e.segments,n)}function tC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Yr(i,n)||e.hasChildren()||!Zu(i,n,r))}else if(t.segments.length===n.length){if(!Yr(t.segments,n)||!Zu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!eC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Yr(t.segments,i)||!Zu(t.segments,i,r)||!t.children[X]?!1:tC(t.children[X],e,s,r)}}function Zu(t,e,n){return e.every((r,i)=>JD[n](t[i].parameters,r.parameters))}var Rn=class{constructor(e=new ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=us(this.queryParams),this._queryParamMap}toString(){return sO.serialize(this)}},ve=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ju(this)}},Qr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=us(this.parameters),this._parameterMap}toString(){return rC(this)}};function rO(t,e){return Yr(t,e)&&t.every((n,r)=>en(n.parameters,e[r].parameters))}function Yr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function iO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===X&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==X&&(n=n.concat(e(i,r)))}),n}var pg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>new Ko,providedIn:"root"})}}return t})(),Ko=class{parse(e){let n=new qp(e);return new Rn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${$o(e.root,!0)}`,r=cO(e.queryParams),i=typeof e.fragment=="string"?`#${oO(e.fragment)}`:"";return`${n}${r}${i}`}},sO=new Ko;function Ju(t){return t.segments.map(e=>rC(e)).join("/")}function $o(t,e){if(!t.hasChildren())return Ju(t);if(e){let n=t.children[X]?$o(t.children[X],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==X&&r.push(`${i}:${$o(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=iO(t,(r,i)=>i===X?[$o(t.children[X],!1)]:[`${i}:${$o(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[X]!=null?`${Ju(t)}/${n[0]}`:`${Ju(t)}/(${n.join("//")})`}}function nC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qu(t){return nC(t).replace(/%3B/gi,";")}function oO(t){return encodeURI(t)}function Hp(t){return nC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xu(t){return decodeURIComponent(t)}function qD(t){return Xu(t.replace(/\+/g,"%20"))}function rC(t){return`${Hp(t.path)}${aO(t.parameters)}`}function aO(t){return Object.entries(t).map(([e,n])=>`;${Hp(e)}=${Hp(n)}`).join("")}function cO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Qu(n)}=${Qu(i)}`).join("&"):`${Qu(n)}=${Qu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var uO=/^[^\/()?;#]+/;function Vp(t){let e=t.match(uO);return e?e[0]:""}var lO=/^[^\/()?;=#]+/;function dO(t){let e=t.match(lO);return e?e[0]:""}var hO=/^[^=?&#]+/;function fO(t){let e=t.match(hO);return e?e[0]:""}var pO=/^[^&#]+/;function gO(t){let e=t.match(pO);return e?e[0]:""}var qp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[X]=new ve(e,n)),r}parseSegment(){let e=Vp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Qr(Xu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=dO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Vp(this.remaining);i&&(r=i,this.capture(r))}e[Xu(n)]=Xu(r)}parseQueryParam(e){let n=fO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=gO(this.remaining);o&&(r=o,this.capture(r))}let i=qD(n),s=qD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Vp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=X);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[X]:new ve([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function iC(t){return t.segments.length>0?new ve([],{[X]:t}):t}function sC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=sC(i);if(r===X&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ve(t.segments,e);return mO(n)}function mO(t){if(t.numberOfChildren===1&&t.children[X]){let e=t.children[X];return new ve(t.segments.concat(e.segments),e.children)}return t}function Zr(t){return t instanceof Rn}function yO(t,e,n=null,r=null){let i=oC(t);return aC(i,e,n,r)}function oC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new ve(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=iC(r);return e??i}function aC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Lp(i,i,i,n,r);let s=vO(e);if(s.toRoot())return Lp(i,i,new ve([],{}),n,r);let o=_O(s,i,t),c=o.processChildren?zo(o.segmentGroup,o.index,s.commands):uC(o.segmentGroup,o.index,s.commands);return Lp(i,o.segmentGroup,c,n,r)}function el(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Qo(t){return typeof t=="object"&&t!=null&&t.outlets}function Lp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=cC(t,e,n);let c=iC(sC(o));return new Rn(c,s,i)}function cC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=cC(s,e,n)}),new ve(t.segments,r)}var tl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&el(r[0]))throw new j(4003,!1);let i=r.find(Qo);if(i&&i!==ZD(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function vO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new tl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new tl(n,e,r)}var os=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function _O(t,e,n){if(t.isAbsolute)return new os(e,!0,0);if(!n)return new os(e,!1,NaN);if(n.parent===null)return new os(n,!0,0);let r=el(t.commands[0])?0:1,i=n.segments.length-1+r;return IO(n,i,t.numberOfDoubleDots)}function IO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new os(r,!1,i-s)}function wO(t){return Qo(t[0])?t[0].outlets:{[X]:t}}function uC(t,e,n){if(t??=new ve([],{}),t.segments.length===0&&t.hasChildren())return zo(t,e,n);let r=EO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ve(t.segments.slice(0,r.pathIndex),{});return s.children[X]=new ve(t.segments.slice(r.pathIndex),t.children),zo(s,0,i)}else return r.match&&i.length===0?new ve(t.segments,{}):r.match&&!t.hasChildren()?zp(t,e,n):r.match?zo(t,0,i):zp(t,e,n)}function zo(t,e,n){if(n.length===0)return new ve(t.segments,{});{let r=wO(n),i={};if(Object.keys(r).some(s=>s!==X)&&t.children[X]&&t.numberOfChildren===1&&t.children[X].segments.length===0){let s=zo(t.children[X],e,n);return new ve(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=uC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ve(t.segments,i)}}function EO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(Qo(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!GD(u,l,o))return s;r+=2}else{if(!GD(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function zp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Qo(s)){let u=DO(s.outlets);return new ve(r,u)}if(i===0&&el(n[0])){let u=t.segments[e];r.push(new Qr(u.path,zD(n[0]))),i++;continue}let o=Qo(s)?s.outlets[X]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&el(c)?(r.push(new Qr(o,zD(c))),i+=2):(r.push(new Qr(o,{})),i++)}return new ve(r,{})}function DO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=zp(new ve([],{}),0,r))}),e}function zD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function GD(t,e,n){return t==n.path&&en(e,n.parameters)}var Go="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),Mt=class{constructor(e,n){this.id=e,this.url=n}},Yo=class extends Mt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mn=class extends Mt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_t=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(_t||{}),Gp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Gp||{}),An=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jr=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationSkipped}},Zo=class extends Mt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nl=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wp=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kp=class extends Mt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qp=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yp=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zp=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Jp=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xp=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eg=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tg=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ng=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Jo=class{},ls=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function CO(t,e){return t.providers&&!t._injector&&(t._injector=gp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ht(t){return t.outlet||X}function bO(t,e){let n=t.filter(r=>Ht(r)===e);return n.push(...t.filter(r=>Ht(r)!==e)),n}function ia(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var rg=class{get injector(){return ia(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ll(this.rootInjector),this.attachRef=null}},ll=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new rg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(ne(bt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ig(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ig(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sg(e,this._root).map(n=>n.value)}};function ig(t,e){if(t===e.value)return e;for(let n of e.children){let r=ig(t,n);if(r)return r}return null}function sg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=sg(t,n);if(r.length)return r.unshift(e),r}return[]}var vt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ss(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var il=class extends rl{constructor(e,n){super(e),this.snapshot=n,gg(this,e)}toString(){return this.snapshot.toString()}};function lC(t){let e=TO(t),n=new We([new Qr("",{})]),r=new We({}),i=new We({}),s=new We({}),o=new We(""),c=new Xr(n,r,s,o,i,X,t,e.root);return c.snapshot=e.root,new il(new vt(c,[]),e)}function TO(t){let e={},n={},r={},i="",s=new as([],e,r,i,n,X,t,null,{});return new ol("",new vt(s,[]))}var Xr=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[ra]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>us(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>us(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&hC(i)&&(r.resolve[ra]=i.title),r}var as=class{get title(){return this.data?.[ra]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=us(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=us(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ol=class extends rl{constructor(e,n){super(n),this.url=e,gg(this,n)}toString(){return dC(this._root)}};function gg(t,e){e.value._routerState=t,e.children.forEach(n=>gg(t,n))}function dC(t){let e=t.children.length>0?` { ${t.children.map(dC).join(", ")} } `:"";return`${t.value}${e}`}function Up(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,en(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),en(e.params,n.params)||t.paramsSubject.next(n.params),XP(e.url,n.url)||t.urlSubject.next(n.url),en(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function og(t,e){let n=en(t.params,e.params)&&rO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||og(t.parent,e.parent))}function hC(t){return typeof t.title=="string"||t.title===null}var mg=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=X,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=F(ll),this.location=F(ts),this.changeDetector=F(bn),this.inputBinder=F(yg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new ag(n,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Bt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nr]})}}return t})(),ag=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Xr?this.route:e===ll?this.childContexts:this.parent.get(e,n)}},yg=new B("");function SO(t,e,n){let r=Xo(t,e._root,n?n._root:void 0);return new il(r,e)}function Xo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=AO(t,e,n);return new vt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Xo(t,c)),o}}let r=RO(e.value),i=e.children.map(s=>Xo(t,s));return new vt(r,i)}}function AO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Xo(t,r,i);return Xo(t,r)})}function RO(t){return new Xr(new We(t.url),new We(t.params),new We(t.queryParams),new We(t.fragment),new We(t.data),t.outlet,t.component,t)}var ea=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},fC="ngNavigationCancelingError";function al(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Zr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=pC(!1,_t.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function pC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[fC]=!0,n.cancellationCode=e,n}function MO(t){return gC(t)&&Zr(t.url)}function gC(t){return!!t&&t[fC]}var NO=(t,e,n,r)=>ee(i=>(new cg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),cg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Up(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ss(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ss(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ss(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ss(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ng(s.value.snapshot))}),e.children.length&&this.forwardEvent(new eg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Up(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Up(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},cl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},cs=class{constructor(e,n){this.component=e,this.route=n}};function xO(t,e,n){let r=t._root,i=e?e._root:null;return Ho(r,i,n,[r.value])}function PO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function hs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!QI(t)?t:e.get(t):r}function Ho(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ss(e);return t.children.forEach(o=>{OO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Wo(c,n.getContext(o),i)),i}function OO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=kO(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new cl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ho(t,e,c?c.children:null,r,i):Ho(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new cs(c.outlet.component,o))}else o&&Wo(e,c,i),i.canActivateChecks.push(new cl(r)),s.component?Ho(t,null,c?c.children:null,r,i):Ho(t,null,n,r,i);return i}function kO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Yr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yr(t.url,e.url)||!en(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!og(t,e)||!en(t.queryParams,e.queryParams);case"paramsChange":default:return!og(t,e)}}function Wo(t,e,n){let r=ss(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Wo(o,e.children.getContext(s),n):Wo(o,null,n):Wo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new cs(e.outlet.component,i)):n.canDeactivateChecks.push(new cs(null,i)):n.canDeactivateChecks.push(new cs(null,i))}function sa(t){return typeof t=="function"}function FO(t){return typeof t=="boolean"}function VO(t){return t&&sa(t.canLoad)}function LO(t){return t&&sa(t.canActivate)}function UO(t){return t&&sa(t.canActivateChild)}function jO(t){return t&&sa(t.canDeactivate)}function BO(t){return t&&sa(t.canMatch)}function mC(t){return t instanceof gn||t?.name==="EmptyError"}var Yu=Symbol("INITIAL_VALUE");function ds(){return Vt(t=>Uc(t.map(e=>e.pipe(mn(1),Hc(Yu)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===Yu)return Yu;if(n===!1||$O(n))return n}return!0}),Et(e=>e!==Yu),mn(1)))}function $O(t){return Zr(t)||t instanceof ea}function HO(t,e){return Le(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?K(oe(k({},n),{guardsResult:!0})):qO(o,r,i,t).pipe(Le(c=>c&&FO(c)?zO(r,s,t,e):K(c)),ee(c=>oe(k({},n),{guardsResult:c})))})}function qO(t,e,n,r){return be(t).pipe(Le(i=>YO(i.component,i.route,n,e,r)),Gt(i=>i!==!0,!0))}function zO(t,e,n,r){return be(e).pipe(Oi(i=>Pi(WO(i.route.parent,r),GO(i.route,r),QO(t,i.path,n),KO(t,i.route,n))),Gt(i=>i!==!0,!0))}function GO(t,e){return t!==null&&e&&e(new tg(t)),K(!0)}function WO(t,e){return t!==null&&e&&e(new Xp(t)),K(!0)}function KO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(s=>jc(()=>{let o=ia(e)??n,c=hs(s,o),u=LO(c)?c.canActivate(e,t):wn(o,()=>c(e,t));return ur(u).pipe(Gt())}));return K(i).pipe(ds())}function QO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>PO(o)).filter(o=>o!==null).map(o=>jc(()=>{let c=o.guards.map(u=>{let l=ia(o.node)??n,f=hs(u,l),p=UO(f)?f.canActivateChild(r,t):wn(l,()=>f(r,t));return ur(p).pipe(Gt())});return K(c).pipe(ds())}));return K(s).pipe(ds())}function YO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return K(!0);let o=s.map(c=>{let u=ia(e)??i,l=hs(c,u),f=jO(l)?l.canDeactivate(t,e,n,r):wn(u,()=>l(t,e,n,r));return ur(f).pipe(Gt())});return K(o).pipe(ds())}function ZO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let s=i.map(o=>{let c=hs(o,t),u=VO(c)?c.canLoad(e,n):wn(t,()=>c(e,n));return ur(u)});return K(s).pipe(ds(),yC(r))}function yC(t){return Ic(Ue(e=>{if(typeof e!="boolean")throw al(t,e)}),ee(e=>e===!0))}function JO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let s=i.map(o=>{let c=hs(o,t),u=BO(c)?c.canMatch(e,n):wn(t,()=>c(e,n));return ur(u)});return K(s).pipe(ds(),yC(r))}var ta=class{constructor(e){this.segmentGroup=e||null}},na=class extends Error{constructor(e){super(),this.urlTree=e}};function is(t){return Ni(new ta(t))}function XO(t){return Ni(new j(4e3,!1))}function ek(t){return Ni(pC(!1,_t.GuardRejected))}var ug=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[X])return XO(`${e.redirectTo}`);i=i.children[X]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,params:v,data:T,title:M}=i,R=wn(s,()=>c({params:v,data:T,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,title:M}));if(R instanceof Rn)throw new na(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new na(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Rn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ve(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},lg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tk(t,e,n,r,i){let s=vC(t,e,n);return s.matched?(r=CO(e,r),JO(r,e,n,i).pipe(ee(o=>o===!0?s:k({},lg)))):K(s)}function vC(t,e,n){if(e.path==="**")return nk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},lg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||JP)(n,t,e);if(!i)return k({},lg);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function nk(t){return{matched:!0,parameters:t.length>0?ZD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function WD(t,e,n,r){return n.length>0&&sk(t,n,r)?{segmentGroup:new ve(e,ik(r,new ve(n,t.children))),slicedSegments:[]}:n.length===0&&ok(t,n,r)?{segmentGroup:new ve(t.segments,rk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ve(t.segments,t.children),slicedSegments:n}}function rk(t,e,n,r){let i={};for(let s of n)if(dl(t,e,s)&&!r[Ht(s)]){let o=new ve([],{});i[Ht(s)]=o}return k(k({},r),i)}function ik(t,e){let n={};n[X]=e;for(let r of t)if(r.path===""&&Ht(r)!==X){let i=new ve([],{});n[Ht(r)]=i}return n}function sk(t,e,n){return n.some(r=>dl(t,e,r)&&Ht(r)!==X)}function ok(t,e,n){return n.some(r=>dl(t,e,r))}function dl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ak(t,e,n){return e.length===0&&!t.children[n]}var dg=class{};function ck(t,e,n,r,i,s,o="emptyOnly"){return new hg(t,e,n,r,i,o,s).recognize()}var uk=31,hg=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new ug(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=WD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:n,rootSnapshot:r})=>{let i=new vt(r,n),s=new ol("",i),o=yO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new as([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),X,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,X,n).pipe(ee(r=>({children:r,rootSnapshot:n})),Gn(r=>{if(r instanceof na)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ta?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ee(o=>o instanceof vt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return be(s).pipe(Oi(o=>{let c=r.children[o],u=bO(n,o);return this.processSegmentGroup(e,u,c,o,i)}),$c((o,c)=>(o.push(...c),o)),Wn(null),_h(),Le(o=>{if(o===null)return is(r);let c=_C(o);return lk(c),K(c)}))}processSegment(e,n,r,i,s,o,c){return be(n).pipe(Oi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(Gn(l=>{if(l instanceof ta)return K(null);throw l}))),Gt(u=>!!u),Gn(u=>{if(mC(u))return ak(r,i,s)?K(new dg):is(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return Ht(r)!==o&&(o===X||!dl(i,s,r))?is(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):is(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:y}=vC(n,i,s);if(!u)return is(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uk&&(this.allowRedirects=!1));let v=new as(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,KD(i),Ht(i),i.component??i._loadedComponent??null,i,QD(i)),T=sl(v,c,this.paramsInheritanceStrategy);v.params=Object.freeze(T.params),v.data=Object.freeze(T.data);let M=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Le(R=>this.processSegment(e,r,n,R.concat(y),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=tk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Vt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Vt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:v}=u,T=new as(y,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,KD(r),Ht(r),r.component??r._loadedComponent??null,r,QD(r)),M=sl(T,o,this.paramsInheritanceStrategy);T.params=Object.freeze(M.params),T.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:O}=WD(n,y,v,l);if(O.length===0&&R.hasChildren())return this.processChildren(f,l,R,T).pipe(ee(H=>new vt(T,H)));if(l.length===0&&O.length===0)return K(new vt(T,[]));let L=Ht(r)===s;return this.processSegment(f,l,R,O,L?X:s,!0,T).pipe(ee(H=>new vt(T,H instanceof vt?[H]:[])))}))):is(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):ZO(e,n,r,this.urlSerializer).pipe(Le(i=>i?this.configLoader.loadChildren(e,n).pipe(Ue(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):ek(n))):K({routes:[],injector:e})}};function lk(t){t.sort((e,n)=>e.value.outlet===X?-1:n.value.outlet===X?1:e.value.outlet.localeCompare(n.value.outlet))}function dk(t){let e=t.value.routeConfig;return e&&e.path===""}function _C(t){let e=[],n=new Set;for(let r of t){if(!dk(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=_C(r.children);e.push(new vt(r.value,i))}return e.filter(r=>!n.has(r))}function KD(t){return t.data||{}}function QD(t){return t.resolve||{}}function hk(t,e,n,r,i,s){return Le(o=>ck(t,e,n,r,o.extractedUrl,i,s).pipe(ee(({state:c,tree:u})=>oe(k({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function fk(t,e){return Le(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of IC(u))o.add(l);let c=0;return be(o).pipe(Oi(u=>s.has(u)?pk(u,r,t,e):(u.data=sl(u,u.parent,t).resolve,K(void 0))),Ue(()=>c++),ki(1),Le(u=>c===o.size?K(n):mt))})}function IC(t){let e=t.children.map(n=>IC(n)).flat();return[t,...e]}function pk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!hC(i)&&(s[ra]=i.title),gk(s,t,e,r).pipe(ee(o=>(t._resolvedData=o,t.data=sl(t,t.parent,n).resolve,null)))}function gk(t,e,n,r){let i=$p(t);if(i.length===0)return K({});let s={};return be(i).pipe(Le(o=>mk(t[o],e,n,r).pipe(Gt(),Ue(c=>{if(c instanceof ea)throw al(new Ko,c);s[o]=c}))),ki(1),vh(s),Gn(o=>mC(o)?mt:Ni(o)))}function mk(t,e,n,r){let i=ia(e)??r,s=hs(t,i),o=s.resolve?s.resolve(e,n):wn(i,()=>s(e,n));return ur(o)}function jp(t){return Vt(e=>{let n=t(e);return n?be(n).pipe(ee(()=>e)):K(e)})}var wC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===X);return r}getResolvedTitleForRoute(n){return n.data[ra]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>F(yk),providedIn:"root"})}}return t})(),yk=(()=>{class t extends wC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(ne($D))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vg=new B("",{providedIn:"root",factory:()=>({})}),vk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=er({type:t,selectors:[["ng-component"]],standalone:!0,features:[ar],decls:1,vars:0,template:function(r,i){r&1&&zr(0,"router-outlet")},dependencies:[mg],encapsulation:2})}}return t})();function _g(t){let e=t.children&&t.children.map(_g),n=e?oe(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=vk),n}var Ig=new B(""),_k=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(Cp)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return K(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ur(n.loadComponent()).pipe(ee(EC),Ue(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),go(()=>{this.componentLoaders.delete(n)})),i=new Si(r,()=>new Be).pipe(Ti());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Ik(r,this.compiler,n,this.onLoadEndListener).pipe(go(()=>{this.childrenLoaders.delete(r)})),o=new Si(s,()=>new Be).pipe(Ti());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ik(t,e,n,r){return ur(t.loadChildren()).pipe(ee(EC),Le(i=>i instanceof Ro||Array.isArray(i)?K(i):be(e.compileModuleAsync(i))),ee(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(Ig,[],{optional:!0,self:!0}).flat()),{routes:o.map(_g),injector:s}}))}function wk(t){return t&&typeof t=="object"&&"default"in t}function EC(t){return wk(t)?t.default:t}var wg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>F(Ek),providedIn:"root"})}}return t})(),Ek=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Dk=new B("");var Ck=new B(""),bk=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be,this.transitionAbortSubject=new Be,this.configLoader=F(_k),this.environmentInjector=F(bt),this.urlSerializer=F(pg),this.rootContexts=F(ll),this.location=F(Lo),this.inputBindingEnabled=F(yg,{optional:!0})!==null,this.titleStrategy=F(wC),this.options=F(vg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(wg),this.createViewTransition=F(Dk,{optional:!0}),this.navigationErrorHandler=F(Ck,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Zp(i)),r=i=>this.events.next(new Jp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(oe(k(k({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new We({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Go,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Et(s=>s.id!==0),ee(s=>oe(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Vt(s=>{let o=!1,c=!1;return K(s).pipe(Vt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",_t.SupersededByNewNavigation),mt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?oe(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let p="";return this.events.next(new Jr(u.id,this.urlSerializer.serialize(u.rawUrl),p,Gp.IgnoredSameUrlNavigation)),u.resolve(!1),mt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return K(u).pipe(Vt(p=>{let y=this.transitions?.getValue();return this.events.next(new Yo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?mt:Promise.resolve(p)}),hk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=oe(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new nl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:y,source:v,restoredState:T,extras:M}=u,R=new Yo(p,this.urlSerializer.serialize(y),v,T);this.events.next(R);let O=lC(this.rootComponentType).snapshot;return this.currentTransition=s=oe(k({},u),{targetSnapshot:O,urlAfterRedirects:y,extras:oe(k({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,K(s)}else{let p="";return this.events.next(new Jr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Gp.IgnoredByUrlHandlingStrategy)),u.resolve(!1),mt}}),Ue(u=>{let l=new Wp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=s=oe(k({},u),{guards:xO(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),HO(this.environmentInjector,u=>this.events.next(u)),Ue(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw al(this.urlSerializer,u.guardsResult);let l=new Kp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Et(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",_t.GuardRejected),!1)),jp(u=>{if(u.guards.canActivateChecks.length)return K(u).pipe(Ue(l=>{let f=new Qp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Vt(l=>{let f=!1;return K(l).pipe(fk(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",_t.NoDataFromResolver)}}))}),Ue(l=>{let f=new Yp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),jp(u=>{let l=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Ue(y=>{f.component=y}),ee(()=>{})));for(let y of f.children)p.push(...l(y));return p};return Uc(l(u.targetSnapshot.root)).pipe(Wn(null),mn(1))}),jp(()=>this.afterPreactivation()),Vt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?be(f).pipe(ee(()=>s)):K(s)}),ee(u=>{let l=SO(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=oe(k({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ue(()=>{this.events.next(new Jo)}),NO(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),mn(1),Ue({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Ih(this.transitionAbortSubject.pipe(Ue(u=>{throw u}))),go(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",_t.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Gn(u=>{if(c=!0,gC(u))this.events.next(new An(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),MO(u)?this.events.next(new ls(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new Zo(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let f=wn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(f instanceof ea){let{message:p,cancellationCode:y}=al(this.urlSerializer,f);this.events.next(new An(s.id,this.urlSerializer.serialize(s.extractedUrl),p,y)),this.events.next(new ls(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return mt}))}))}cancelNavigationTransition(n,r,i){let s=new An(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Tk(t){return t!==Go}var Sk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>F(Ak),providedIn:"root"})}}return t})(),fg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Ak=(()=>{class t extends fg{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fo(t)))(i||t)}})()}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),DC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>F(Rk),providedIn:"root"})}}return t})(),Rk=(()=>{class t extends DC{constructor(){super(...arguments),this.location=F(Lo),this.urlSerializer=F(pg),this.options=F(vg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(wg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Rn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=lC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Yo)this.stateMemento=this.createStateMemento();else if(n instanceof Jr)this.rawUrlTree=r.initialUrl;else if(n instanceof nl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Jo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof An&&(n.code===_t.GuardRejected||n.code===_t.NoDataFromResolver)?this.restoreHistory(r):n instanceof Zo?this.restoreHistory(r,!0):n instanceof Mn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Rn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fo(t)))(i||t)}})()}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(qo||{});function Mk(t,e){t.events.pipe(Et(n=>n instanceof Mn||n instanceof An||n instanceof Zo||n instanceof Jr),ee(n=>n instanceof Mn||n instanceof Jr?qo.COMPLETE:(n instanceof An?n.code===_t.Redirect||n.code===_t.SupersededByNewNavigation:!1)?qo.REDIRECTING:qo.FAILED),Et(n=>n!==qo.REDIRECTING),mn(1)).subscribe(()=>{e()})}function Nk(t){throw t}var xk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},hl=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(Hu),this.stateManager=F(DC),this.options=F(vg,{optional:!0})||{},this.pendingTasks=F(Ji),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(bk),this.urlSerializer=F(pg),this.location=F(Lo),this.urlHandlingStrategy=F(wg),this._events=new Be,this.errorHandler=this.options.errorHandler||Nk,this.navigated=!1,this.routeReuseStrategy=F(Sk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(Ig,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(yg,{optional:!0}),this.eventsSubscription=new Re,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof An&&r.code!==_t.Redirect&&r.code!==_t.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Mn)this.navigated=!0;else if(r instanceof ls){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Tk(i.source)},o);this.scheduleNavigation(c,Go,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}kk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Go,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(_g),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=oC(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return aC(p,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Zr(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Go,null,r)}navigate(n,r={skipLocationChange:!1}){return Ok(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},xk):r===!1?i=k({},Pk):i=r,Zr(n))return HD(this.currentUrlTree,n,i);let s=this.parseUrl(n);return HD(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,l;o?(c=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,y)=>{c=p,u=y});let f=this.pendingTasks.add();return Mk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ok(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function kk(t){return!(t instanceof Jo)&&!(t instanceof ls)}var ul=(()=>{class t{constructor(n,r,i,s,o,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.onChanges=new Be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Mn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Zr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:fE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:Zr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(ge(hl),ge(Xr),Yf("tabindex"),ge(or),ge(At),ge(rs))}}static{this.\u0275dir=Bt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Cn("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&$u("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Wr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Wr],replaceUrl:[2,"replaceUrl","replaceUrl",Wr],routerLink:"routerLink"},standalone:!0,features:[pp,nr]})}}return t})(),CC=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,s,o){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xe,this.routerEventsSubscription=n.events.subscribe(c=>{c instanceof Mn&&this.update()})}ngAfterContentInit(){K(this.links.changes,K(null)).pipe(xi()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=be(n).pipe(xi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=Fk(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?n.isActive(s,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||t)(ge(hl),ge(At),ge(or),ge(bn),ge(ul,8))}}static{this.\u0275dir=Bt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&oD(s,ul,5),r&2){let o;aD(o=cD())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[nr]})}}return t})();function Fk(t){return!!t.paths}var Vk=new B("");function bC(t,...e){return tr([{provide:Ig,multi:!0,useValue:t},[],{provide:Xr,useFactory:Lk,deps:[hl]},{provide:Dp,multi:!0,useFactory:Uk},e.map(n=>n.\u0275providers)])}function Lk(t){return t.routerState.root}function Uk(){let t=F(Tt);return e=>{let n=t.get(Gr);if(e!==n.components[0])return;let r=t.get(hl),i=t.get(jk);t.get(Bk)===1&&r.initialNavigation(),t.get($k,null,te.Optional)?.setUpPreloading(),t.get(Vk,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var jk=new B("",{factory:()=>new Be}),Bk=new B("",{providedIn:"root",factory:()=>1});var $k=new B("");var PC=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(ge(or),ge(At))}}static{this.\u0275dir=Bt({type:t})}}return t})(),Hk=(()=>{class t extends PC{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fo(t)))(i||t)}})()}static{this.\u0275dir=Bt({type:t,features:[ns]})}}return t})(),OC=new B("");var qk={provide:OC,useExisting:xo(()=>yl),multi:!0};function zk(){let t=Sn()?Sn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Gk=new B(""),yl=(()=>{class t extends PC{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!zk())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(ge(or),ge(At),ge(Gk,8))}}static{this.\u0275dir=Bt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Cn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[wp([qk]),ns]})}}return t})();var Wk=new B(""),Kk=new B("");function kC(t){return t!=null}function FC(t){return cr(t)?be(t):t}function VC(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function LC(t,e){return e.map(n=>n(t))}function Qk(t){return!t.validate}function UC(t){return t.map(e=>Qk(e)?e:n=>e.validate(n))}function Yk(t){if(!t)return null;let e=t.filter(kC);return e.length==0?null:function(n){return VC(LC(n,e))}}function jC(t){return t!=null?Yk(UC(t)):null}function Zk(t){if(!t)return null;let e=t.filter(kC);return e.length==0?null:function(n){let r=LC(n,e).map(FC);return yh(r).pipe(ee(VC))}}function BC(t){return t!=null?Zk(UC(t)):null}function TC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Jk(t){return t._rawValidators}function Xk(t){return t._rawAsyncValidators}function Eg(t){return t?Array.isArray(t)?t:[t]:[]}function pl(t,e){return Array.isArray(t)?t.includes(e):t===e}function SC(t,e){let n=Eg(e);return Eg(t).forEach(i=>{pl(n,i)||n.push(i)}),n}function AC(t,e){return Eg(e).filter(n=>!pl(t,n))}var gl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=BC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Dg=class extends gl{get formDirective(){return null}get path(){return null}},la=class extends gl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Cg=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},e1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},R4=oe(k({},e1),{"[class.ng-submitted]":"isSubmitted"}),$C=(()=>{class t extends Cg{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ge(la,2))}}static{this.\u0275dir=Bt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&yp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ns]})}}return t})();var oa="VALID",fl="INVALID",fs="PENDING",aa="DISABLED",gs=class{},ml=class extends gs{constructor(e,n){super(),this.value=e,this.source=n}},ca=class extends gs{constructor(e,n){super(),this.pristine=e,this.source=n}},ua=class extends gs{constructor(e,n){super(),this.touched=e,this.source=n}},ps=class extends gs{constructor(e,n){super(),this.status=e,this.source=n}};function t1(t){return(vl(t)?t.validators:t)||null}function n1(t){return Array.isArray(t)?jC(t):t||null}function r1(t,e){return(vl(e)?e.asyncValidators:t)||null}function i1(t){return Array.isArray(t)?BC(t):t||null}function vl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var bg=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=qu(()=>this.statusReactive()),this.statusReactive=Bu(void 0),this._pristine=qu(()=>this.pristineReactive()),this.pristineReactive=Bu(!0),this._touched=qu(()=>this.touchedReactive()),this.touchedReactive=Bu(!1),this._events=new Be,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Xt(this.statusReactive)}set status(e){Xt(()=>this.statusReactive.set(e))}get valid(){return this.status===oa}get invalid(){return this.status===fl}get pending(){return this.status==fs}get disabled(){return this.status===aa}get enabled(){return this.status!==aa}get pristine(){return Xt(this.pristineReactive)}set pristine(e){Xt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Xt(this.touchedReactive)}set touched(e){Xt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(SC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(SC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(AC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(AC(e,this._rawAsyncValidators))}hasValidator(e){return pl(this._rawValidators,e)}hasAsyncValidator(e){return pl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(oe(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ua(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ua(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(oe(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ca(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ca(!0,r))}markAsPending(e={}){this.status=fs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ps(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(oe(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=aa,this.errors=null,this._forEachChild(i=>{i.disable(oe(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ml(this.value,r)),this._events.next(new ps(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=oa,this._forEachChild(r=>{r.enable(oe(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oa||this.status===fs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ml(this.value,n)),this._events.next(new ps(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(oe(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?aa:oa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=fs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=FC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ps(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?aa:this.errors?fl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fs)?fs:this._anyControlsHaveStatus(fl)?fl:oa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ca(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ua(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=n1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=i1(this._rawAsyncValidators)}};var HC=new B("CallSetDisabledState",{providedIn:"root",factory:()=>Tg}),Tg="always";function s1(t,e){return[...e.path,t]}function o1(t,e,n=Tg){c1(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),u1(t,e),d1(t,e),l1(t,e),a1(t,e)}function RC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function a1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function c1(t,e){let n=Jk(t);e.validator!==null?t.setValidators(TC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Xk(t);e.asyncValidator!==null?t.setAsyncValidators(TC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();RC(e._rawValidators,i),RC(e._rawAsyncValidators,i)}function u1(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&qC(t,e)})}function l1(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&qC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function qC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function d1(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function h1(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function f1(t){return Object.getPrototypeOf(t.constructor)===Hk}function p1(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===yl?n=s:f1(s)?r=s:i=s}),i||r||n||null}function MC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function NC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var g1=class extends bg{constructor(e=null,n,r){super(t1(n),r1(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(NC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){MC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){MC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){NC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var m1={provide:la,useExisting:xo(()=>Sg)},xC=Promise.resolve(),Sg=(()=>{class t extends la{constructor(n,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new g1,this._registered=!1,this.name="",this.update=new xe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=p1(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),h1(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){o1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){xC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Wr(r);xC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?s1(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(ge(Dg,9),ge(Wk,10),ge(Kk,10),ge(OC,10),ge(bn,8),ge(HC,8))}}static{this.\u0275dir=Bt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[wp([m1]),ns,nr]})}}return t})();var y1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Br({type:t})}static{this.\u0275inj=jr({})}}return t})();var zC=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:HC,useValue:n.callSetDisabledState??Tg}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Br({type:t})}static{this.\u0275inj=jr({imports:[y1]})}}return t})();var WC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},KC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,y=(c&15)<<2|l>>6,v=l&63;u||(v=64,o||(y=64)),r.push(n[f],n[p],n[y],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new Rg;let y=s<<2|c>>4;if(r.push(y),l!==64){let v=c<<4&240|l>>2;if(r.push(v),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Rg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},I1=function(t){let e=WC(t);return KC.encodeByteArray(e,!0)},da=function(t){return I1(t).replace(/\./g,"")},Ng=function(t){try{return KC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function w1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var E1=()=>w1().__FIREBASE_DEFAULTS__,D1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},C1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ng(t[1]);return e&&JSON.parse(e)},Il=()=>{try{return E1()||D1()||C1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QC=t=>{var e,n;return(n=(e=Il())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YC=t=>{let e=QC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xg=()=>{var t;return(t=Il())===null||t===void 0?void 0:t.config},ZC=t=>{var e;return(e=Il())===null||e===void 0?void 0:e[`_${t}`]};var _l=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function JC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[da(JSON.stringify(n)),da(JSON.stringify(o)),""].join(".")}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function b1(){var t;let e=(t=Il())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rb(){return!b1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pg(){try{return typeof indexedDB=="object"}catch{return!1}}function ib(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var T1="FirebaseError",Nt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=T1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nn.prototype.create)}},Nn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?S1(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Nt(i,c,r)}};function S1(t,e){return t.replace(A1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var A1=/\{\$([^}]+)}/g;function ms(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(GC(s)&&GC(o)){if(!ms(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function GC(t){return t!==null&&typeof t=="object"}function Og(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sb(t,e){let n=new Mg(t,e);return n.subscribe.bind(n)}var Mg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");R1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ag),i.error===void 0&&(i.error=Ag),i.complete===void 0&&(i.complete=Ag);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function R1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ag(){}var x4=4*60*60*1e3;function xt(t){return t&&t._delegate?t._delegate:t}var Pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ei="[DEFAULT]";var kg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new _l;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N1(e))try{this.getOrInitializeService({instanceIdentifier:ei})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ei){return this.instances.has(e)}getOptions(e=ei){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:M1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ei){return this.component?this.component.multipleInstances?e:ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function M1(t){return t===ei?void 0:t}function N1(t){return t.instantiationMode==="EAGER"}var wl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new kg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var x1=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),P1={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},O1=ue.INFO,k1={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},F1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=k1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},lr=class{constructor(e){this.name=e,this._logLevel=O1,this._logHandler=F1,this._userLogHandler=null,x1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var V1=(t,e)=>e.some(n=>t instanceof n),ob,ab;function L1(){return ob||(ob=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U1(){return ab||(ab=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var cb=new WeakMap,Vg=new WeakMap,ub=new WeakMap,Fg=new WeakMap,Ug=new WeakMap;function j1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(tn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cb.set(n,t)}).catch(()=>{}),Ug.set(e,t),e}function B1(t){if(Vg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vg.set(t,e)}var Lg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ub.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lb(t){Lg=t(Lg)}function $1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(El(this),e,...n);return ub.set(r,e.sort?e.sort():[e]),tn(r)}:U1().includes(t)?function(...e){return t.apply(El(this),e),tn(cb.get(this))}:function(...e){return tn(t.apply(El(this),e))}}function H1(t){return typeof t=="function"?$1(t):(t instanceof IDBTransaction&&B1(t),V1(t,L1())?new Proxy(t,Lg):t)}function tn(t){if(t instanceof IDBRequest)return j1(t);if(Fg.has(t))return Fg.get(t);let e=H1(t);return e!==t&&(Fg.set(t,e),Ug.set(e,t)),e}var El=t=>Ug.get(t);function hb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=tn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(tn(o.result),u.oldVersion,u.newVersion,tn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var q1=["get","getKey","getAll","getAllKeys","count"],z1=["put","add","delete","clear"],jg=new Map;function db(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jg.get(e))return jg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=z1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||q1.includes(n)))return;let s=function(o,...c){return S(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return jg.set(e,s),s}lb(t=>oe(k({},t),{get:(e,n,r)=>db(e,n)||t.get(e,n,r),has:(e,n)=>!!db(e,n)||t.has(e,n)}));var $g=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function G1(t){let e=t.getComponent();return e?.type==="VERSION"}var Hg="@firebase/app",fb="0.10.13";var xn=new lr("@firebase/app"),W1="@firebase/app-compat",K1="@firebase/analytics-compat",Q1="@firebase/analytics",Y1="@firebase/app-check-compat",Z1="@firebase/app-check",J1="@firebase/auth",X1="@firebase/auth-compat",eF="@firebase/database",tF="@firebase/data-connect",nF="@firebase/database-compat",rF="@firebase/functions",iF="@firebase/functions-compat",sF="@firebase/installations",oF="@firebase/installations-compat",aF="@firebase/messaging",cF="@firebase/messaging-compat",uF="@firebase/performance",lF="@firebase/performance-compat",dF="@firebase/remote-config",hF="@firebase/remote-config-compat",fF="@firebase/storage",pF="@firebase/storage-compat",gF="@firebase/firestore",mF="@firebase/vertexai-preview",yF="@firebase/firestore-compat",vF="firebase",_F="10.14.1";var qg="[DEFAULT]",IF={[Hg]:"fire-core",[W1]:"fire-core-compat",[Q1]:"fire-analytics",[K1]:"fire-analytics-compat",[Z1]:"fire-app-check",[Y1]:"fire-app-check-compat",[J1]:"fire-auth",[X1]:"fire-auth-compat",[eF]:"fire-rtdb",[tF]:"fire-data-connect",[nF]:"fire-rtdb-compat",[rF]:"fire-fn",[iF]:"fire-fn-compat",[sF]:"fire-iid",[oF]:"fire-iid-compat",[aF]:"fire-fcm",[cF]:"fire-fcm-compat",[uF]:"fire-perf",[lF]:"fire-perf-compat",[dF]:"fire-rc",[hF]:"fire-rc-compat",[fF]:"fire-gcs",[pF]:"fire-gcs-compat",[gF]:"fire-fst",[yF]:"fire-fst-compat",[mF]:"fire-vertex","fire-js":"fire-js",[vF]:"fire-js-all"};var ha=new Map,wF=new Map,zg=new Map;function pb(t,e){try{t.container.addComponent(e)}catch(n){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hr(t){let e=t.name;if(zg.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;zg.set(e,t);for(let n of ha.values())pb(n,t);for(let n of wF.values())pb(n,t);return!0}function Qg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ys(t){return t.settings!==void 0}var EF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new Nn("app","Firebase",EF);var Gg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}};var vs=_F;function Yg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:qg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw dr.create("bad-app-name",{appName:String(i)});if(n||(n=xg()),!n)throw dr.create("no-options");let s=ha.get(i);if(s){if(ms(n,s.options)&&ms(r,s.config))return s;throw dr.create("duplicate-app",{appName:i})}let o=new wl(i);for(let u of zg.values())o.addComponent(u);let c=new Gg(n,r,o);return ha.set(i,c),c}function pa(t=qg){let e=ha.get(t);if(!e&&t===qg&&xg())return Yg();if(!e)throw dr.create("no-app",{appName:t});return e}function Dl(){return Array.from(ha.values())}function qe(t,e,n){var r;let i=(r=IF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(c.join(" "));return}hr(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var DF="firebase-heartbeat-database",CF=1,fa="firebase-heartbeat-store",Bg=null;function vb(){return Bg||(Bg=hb(DF,CF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fa)}catch(n){console.warn(n)}}}}).catch(t=>{throw dr.create("idb-open",{originalErrorMessage:t.message})})),Bg}function bF(t){return S(this,null,function*(){try{let n=(yield vb()).transaction(fa),r=yield n.objectStore(fa).get(_b(t));return yield n.done,r}catch(e){if(e instanceof Nt)xn.warn(e.message);else{let n=dr.create("idb-get",{originalErrorMessage:e?.message});xn.warn(n.message)}}})}function gb(t,e){return S(this,null,function*(){try{let r=(yield vb()).transaction(fa,"readwrite");yield r.objectStore(fa).put(e,_b(t)),yield r.done}catch(n){if(n instanceof Nt)xn.warn(n.message);else{let r=dr.create("idb-set",{originalErrorMessage:n?.message});xn.warn(r.message)}}})}function _b(t){return`${t.name}!${t.options.appId}`}var TF=1024,SF=30*24*60*60*1e3,Wg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Kg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=SF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xn.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=mb(),{heartbeatsToSend:r,unsentEntries:i}=AF(this._heartbeatsCache.heartbeats),s=da(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return xn.warn(n),""}})}};function mb(){return new Date().toISOString().substring(0,10)}function AF(t,e=TF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Kg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Pg()?ib().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield bF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function yb(t){return da(JSON.stringify({version:2,heartbeats:t})).length}function RF(t){hr(new Pt("platform-logger",e=>new $g(e),"PRIVATE")),hr(new Pt("heartbeat",e=>new Wg(e),"PRIVATE")),qe(Hg,fb,t),qe(Hg,fb,"esm2017"),qe("fire-js","")}RF("");var MF="firebase",NF="10.14.1";qe(MF,NF,"app");var Is=new In("ANGULARFIRE2_VERSION");function Jg(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ma=(t,e)=>{let n=e?[e]:Dl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ga=class{constructor(){return ma(xF)}},xF="app-check";function _s(){}var Cl=class{zone;delegate;constructor(e,n=ph){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Zg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_s,{},_s,_s)),n.pipe(Ue({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ya=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Cl(Zone.current)),this.insideAngular=n.run(()=>new Cl(Zone.current,fh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ne(Ee))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function PF(t){return bl().ngZone.runOutsideAngular(()=>t())}function ti(t){return bl().ngZone.run(()=>t())}function OF(t){return kF(bl())(t)}function kF(t){return function(n){return n=n.lift(new Zg(t.ngZone)),n.pipe(zn(t.outsideAngular),qn(t.insideAngular))}}var FF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ti(()=>t.apply(void 0,r))},nn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ti(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_s,{},_s,_s))),r[s]=FF(r[s],n));let i=PF(()=>t.apply(this,r));if(!e)if(i instanceof ae){let s=bl();return i.pipe(zn(s.outsideAngular),qn(s.insideAngular))}else return ti(()=>i);return i instanceof ae?i.pipe(OF):i instanceof Promise?ti(()=>new Promise((s,o)=>i.then(c=>ti(()=>s(c)),c=>ti(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ti(()=>i)};var ni=class{constructor(e){return e}},va=class{constructor(){return Dl()}};function VF(t){return t&&t.length===1?t[0]:new ni(pa())}var Xg=new B("angularfire2._apps"),LF={provide:ni,useFactory:VF,deps:[[new Jt,Xg]]},UF={provide:va,deps:[[new Jt,Xg]]};function jF(t){return(e,n)=>{let r=n.get(ir);qe("angularfire",Is.full,"core"),qe("angularfire",Is.full,"app"),qe("angular",pD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ni(i)}}function Ib(t,...e){return tr([LF,UF,{provide:Xg,useFactory:jF(t),multi:!0,deps:[Ee,Tt,ya,...e]}])}var wb=nn(Yg,!0);function Rb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Mb=Rb,Nb=new Nn("auth","Firebase",Rb());var Rl=new lr("@firebase/auth");function $F(t,...e){Rl.logLevel<=ue.WARN&&Rl.warn(`Auth (${vs}): ${t}`,...e)}function Sl(t,...e){Rl.logLevel<=ue.ERROR&&Rl.error(`Auth (${vs}): ${t}`,...e)}function Eb(t,...e){throw dm(t,...e)}function lm(t,...e){return dm(t,...e)}function xb(t,e,n){let r=Object.assign(Object.assign({},Mb()),{[e]:n});return new Nn("auth","Firebase",r).create(e,{appName:t.name})}function Al(t){return xb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Nb.create(t,...e)}function ye(t,e,...n){if(!t)throw dm(e,...n)}function _a(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Sl(e),new Error(e)}function Ml(t,e){t||_a(e)}function HF(){return Db()==="http:"||Db()==="https:"}function Db(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function qF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HF()||tb()||"connection"in navigator)?navigator.onLine:!0}function zF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ii=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ml(n>e,"Short delay should be less than long delay!"),this.isMobile=XC()||nb()}get(){return qF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function GF(t,e){Ml(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Nl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var WF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var KF=new ii(3e4,6e4);function Pb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function kl(s,o,c,u){return S(this,arguments,function*(t,e,n,r,i={}){return Ob(t,i,()=>S(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Og(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:y},l);return eb()||(v.referrerPolicy="no-referrer"),Nl.fetch()(kb(t,t.config.apiHost,n,p),v)}))})}function Ob(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},WF),e);try{let i=new nm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Tl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Tl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Tl(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw xb(t,f,l);Eb(t,f)}}catch(i){if(i instanceof Nt)throw i;Eb(t,"network-request-failed",{message:String(i)})}})}function kb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?GF(t.config,i):`${t.config.apiScheme}://${i}`}var nm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lm(this.auth,"network-request-failed")),KF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Tl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=lm(t,e,r);return i.customData._tokenResponse=n,i}function QF(t,e){return S(this,null,function*(){return kl(t,"POST","/v1/accounts:delete",e)})}function Fb(t,e){return S(this,null,function*(){return kl(t,"POST","/v1/accounts:lookup",e)})}function Ia(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function hm(t,e=!1){return S(this,null,function*(){let n=xt(t),r=yield n.getIdToken(e),i=Vb(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ia(em(i.auth_time)),issuedAtTime:Ia(em(i.iat)),expirationTime:Ia(em(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function em(t){return Number(t)*1e3}function Vb(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ng(n);return i?JSON.parse(i):(Sl("Failed to decode base64 JWT payload"),null)}catch(i){return Sl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Cb(t){let e=Vb(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function rm(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Nt&&YF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function YF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var im=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ea=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ia(this.lastLoginAt),this.creationTime=Ia(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function xl(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield rm(t,Fb(n,{idToken:r}));ye(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Lb(s.providerUserInfo):[],c=ZF(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ea(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function fm(t){return S(this,null,function*(){let e=xt(t);yield xl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function ZF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Lb(t){return t.map(e=>{var{providerId:n}=e,r=gh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function JF(t,e){return S(this,null,function*(){let n=yield Ob(t,{},()=>S(this,null,function*(){let r=Og({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kb(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Nl.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function XF(t,e){return S(this,null,function*(){return kl(t,"POST","/v2/accounts:revokeToken",Pb(t,e))})}var wa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");let n=Cb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield JF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ye(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return _a("not implemented")}};function fr(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Da=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=gh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new im(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ea(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield rm(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return hm(this,e)}reload(){return fm(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield xl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(ys(this.auth.app))return Promise.reject(Al(this.auth));let e=yield this.getIdToken();return yield rm(this,QF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,L=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:H,emailVerified:ie,isAnonymous:Se,providerData:Y,stsTokenManager:E}=n;ye(H&&E,e,"internal-error");let m=wa.fromJSON(this.name,E);ye(typeof H=="string",e,"internal-error"),fr(p,e.name),fr(y,e.name),ye(typeof ie=="boolean",e,"internal-error"),ye(typeof Se=="boolean",e,"internal-error"),fr(v,e.name),fr(T,e.name),fr(M,e.name),fr(R,e.name),fr(O,e.name),fr(L,e.name);let _=new t({uid:H,auth:e,email:y,emailVerified:ie,displayName:p,isAnonymous:Se,photoURL:T,phoneNumber:v,tenantId:M,stsTokenManager:m,createdAt:O,lastLoginAt:L});return Y&&Array.isArray(Y)&&(_.providerData=Y.map(w=>Object.assign({},w))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new wa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield xl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];ye(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Lb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new wa;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ea(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var bb=new Map;function ri(t){Ml(t instanceof Function,"Expected a class definition");let e=bb.get(t);return e?(Ml(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bb.set(t,e),e)}var eV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),sm=eV;function tm(t,e,n){return`firebase:${t}:${e}:${n}`}var Pl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=tm(this.userKey,i.apiKey,s),this.fullPersistenceKey=tm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Da._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(ri(sm),e,r);let i=(yield Promise.all(n.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||ri(sm),o=tm(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let p=Da._fromJSON(e,f);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>S(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function Tb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oV(e))return"Blackberry";if(aV(e))return"Webos";if(nV(e))return"Safari";if((e.includes("chrome/")||rV(e))&&!e.includes("edge/"))return"Chrome";if(sV(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function tV(t=It()){return/firefox\//i.test(t)}function nV(t=It()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rV(t=It()){return/crios\//i.test(t)}function iV(t=It()){return/iemobile/i.test(t)}function sV(t=It()){return/android/i.test(t)}function oV(t=It()){return/blackberry/i.test(t)}function aV(t=It()){return/webos/i.test(t)}function Ub(t,e=[]){let n;switch(t){case"Browser":n=Tb(It());break;case"Worker":n=`${Tb(It())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vs}/${r}`}var om=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function cV(n){return S(this,arguments,function*(t,e={}){return kl(t,"GET","/v2/passwordPolicy",Pb(t,e))})}var uV=6,am=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:uV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var cm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ol(this),this.idTokenSubscription=new Ol(this),this.beforeStateQueue=new om(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Pl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield Fb(this,{idToken:e}),r=yield Da._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(ys(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield xl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=zF()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(ys(this.app))return Promise.reject(Al(this));let n=e?xt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return ys(this.app)?Promise.reject(Al(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ys(this.app)?Promise.reject(Al(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(ri(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield cV(this),n=new am(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield XF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ri(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=yield Pl.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ub(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&$F(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function lV(t){return xt(t)}var Ol=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=sb(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dV={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hV(t){dV=t}function fV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function pV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ri);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var RW=fV("rcb"),MW=new ii(3e4,6e4);var NW=new ii(2e3,1e4);var xW=10*60*1e3;var PW=new ii(3e4,6e4);var OW=new ii(5e3,15e3);var kW=encodeURIComponent("fac");var Sb="@firebase/auth",Ab="1.7.9";var um=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function gV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mV(t){hr(new Pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ub(t)},l=new cm(r,i,s,u);return pV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hr(new Pt("auth-internal",e=>{let n=lV(e.getProvider("auth").getImmediate());return(r=>new um(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(Sb,Ab,gV(t)),qe(Sb,Ab,"esm2017")}var yV=5*60,FW=ZC("authIdTokenMaxAge")||yV;function vV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}hV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=lm("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mV("Browser");var yL="auth";var Fl=class{constructor(){return ma(yL)}};var jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bb={};var pr,pm;(function(){var t;function e(E,m){function _(){}_.prototype=m.prototype,E.D=m.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(w,D,b){for(var I=Array(arguments.length-2),dn=2;dn<arguments.length;dn++)I[dn-2]=arguments[dn];return m.prototype[D].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,_){_||(_=0);var w=Array(16);if(typeof m=="string")for(var D=0;16>D;++D)w[D]=m.charCodeAt(_++)|m.charCodeAt(_++)<<8|m.charCodeAt(_++)<<16|m.charCodeAt(_++)<<24;else for(D=0;16>D;++D)w[D]=m[_++]|m[_++]<<8|m[_++]<<16|m[_++]<<24;m=E.g[0],_=E.g[1],D=E.g[2];var b=E.g[3],I=m+(b^_&(D^b))+w[0]+3614090360&4294967295;m=_+(I<<7&4294967295|I>>>25),I=b+(D^m&(_^D))+w[1]+3905402710&4294967295,b=m+(I<<12&4294967295|I>>>20),I=D+(_^b&(m^_))+w[2]+606105819&4294967295,D=b+(I<<17&4294967295|I>>>15),I=_+(m^D&(b^m))+w[3]+3250441966&4294967295,_=D+(I<<22&4294967295|I>>>10),I=m+(b^_&(D^b))+w[4]+4118548399&4294967295,m=_+(I<<7&4294967295|I>>>25),I=b+(D^m&(_^D))+w[5]+1200080426&4294967295,b=m+(I<<12&4294967295|I>>>20),I=D+(_^b&(m^_))+w[6]+2821735955&4294967295,D=b+(I<<17&4294967295|I>>>15),I=_+(m^D&(b^m))+w[7]+4249261313&4294967295,_=D+(I<<22&4294967295|I>>>10),I=m+(b^_&(D^b))+w[8]+1770035416&4294967295,m=_+(I<<7&4294967295|I>>>25),I=b+(D^m&(_^D))+w[9]+2336552879&4294967295,b=m+(I<<12&4294967295|I>>>20),I=D+(_^b&(m^_))+w[10]+4294925233&4294967295,D=b+(I<<17&4294967295|I>>>15),I=_+(m^D&(b^m))+w[11]+2304563134&4294967295,_=D+(I<<22&4294967295|I>>>10),I=m+(b^_&(D^b))+w[12]+1804603682&4294967295,m=_+(I<<7&4294967295|I>>>25),I=b+(D^m&(_^D))+w[13]+4254626195&4294967295,b=m+(I<<12&4294967295|I>>>20),I=D+(_^b&(m^_))+w[14]+2792965006&4294967295,D=b+(I<<17&4294967295|I>>>15),I=_+(m^D&(b^m))+w[15]+1236535329&4294967295,_=D+(I<<22&4294967295|I>>>10),I=m+(D^b&(_^D))+w[1]+4129170786&4294967295,m=_+(I<<5&4294967295|I>>>27),I=b+(_^D&(m^_))+w[6]+3225465664&4294967295,b=m+(I<<9&4294967295|I>>>23),I=D+(m^_&(b^m))+w[11]+643717713&4294967295,D=b+(I<<14&4294967295|I>>>18),I=_+(b^m&(D^b))+w[0]+3921069994&4294967295,_=D+(I<<20&4294967295|I>>>12),I=m+(D^b&(_^D))+w[5]+3593408605&4294967295,m=_+(I<<5&4294967295|I>>>27),I=b+(_^D&(m^_))+w[10]+38016083&4294967295,b=m+(I<<9&4294967295|I>>>23),I=D+(m^_&(b^m))+w[15]+3634488961&4294967295,D=b+(I<<14&4294967295|I>>>18),I=_+(b^m&(D^b))+w[4]+3889429448&4294967295,_=D+(I<<20&4294967295|I>>>12),I=m+(D^b&(_^D))+w[9]+568446438&4294967295,m=_+(I<<5&4294967295|I>>>27),I=b+(_^D&(m^_))+w[14]+3275163606&4294967295,b=m+(I<<9&4294967295|I>>>23),I=D+(m^_&(b^m))+w[3]+4107603335&4294967295,D=b+(I<<14&4294967295|I>>>18),I=_+(b^m&(D^b))+w[8]+1163531501&4294967295,_=D+(I<<20&4294967295|I>>>12),I=m+(D^b&(_^D))+w[13]+2850285829&4294967295,m=_+(I<<5&4294967295|I>>>27),I=b+(_^D&(m^_))+w[2]+4243563512&4294967295,b=m+(I<<9&4294967295|I>>>23),I=D+(m^_&(b^m))+w[7]+1735328473&4294967295,D=b+(I<<14&4294967295|I>>>18),I=_+(b^m&(D^b))+w[12]+2368359562&4294967295,_=D+(I<<20&4294967295|I>>>12),I=m+(_^D^b)+w[5]+4294588738&4294967295,m=_+(I<<4&4294967295|I>>>28),I=b+(m^_^D)+w[8]+2272392833&4294967295,b=m+(I<<11&4294967295|I>>>21),I=D+(b^m^_)+w[11]+1839030562&4294967295,D=b+(I<<16&4294967295|I>>>16),I=_+(D^b^m)+w[14]+4259657740&4294967295,_=D+(I<<23&4294967295|I>>>9),I=m+(_^D^b)+w[1]+2763975236&4294967295,m=_+(I<<4&4294967295|I>>>28),I=b+(m^_^D)+w[4]+1272893353&4294967295,b=m+(I<<11&4294967295|I>>>21),I=D+(b^m^_)+w[7]+4139469664&4294967295,D=b+(I<<16&4294967295|I>>>16),I=_+(D^b^m)+w[10]+3200236656&4294967295,_=D+(I<<23&4294967295|I>>>9),I=m+(_^D^b)+w[13]+681279174&4294967295,m=_+(I<<4&4294967295|I>>>28),I=b+(m^_^D)+w[0]+3936430074&4294967295,b=m+(I<<11&4294967295|I>>>21),I=D+(b^m^_)+w[3]+3572445317&4294967295,D=b+(I<<16&4294967295|I>>>16),I=_+(D^b^m)+w[6]+76029189&4294967295,_=D+(I<<23&4294967295|I>>>9),I=m+(_^D^b)+w[9]+3654602809&4294967295,m=_+(I<<4&4294967295|I>>>28),I=b+(m^_^D)+w[12]+3873151461&4294967295,b=m+(I<<11&4294967295|I>>>21),I=D+(b^m^_)+w[15]+530742520&4294967295,D=b+(I<<16&4294967295|I>>>16),I=_+(D^b^m)+w[2]+3299628645&4294967295,_=D+(I<<23&4294967295|I>>>9),I=m+(D^(_|~b))+w[0]+4096336452&4294967295,m=_+(I<<6&4294967295|I>>>26),I=b+(_^(m|~D))+w[7]+1126891415&4294967295,b=m+(I<<10&4294967295|I>>>22),I=D+(m^(b|~_))+w[14]+2878612391&4294967295,D=b+(I<<15&4294967295|I>>>17),I=_+(b^(D|~m))+w[5]+4237533241&4294967295,_=D+(I<<21&4294967295|I>>>11),I=m+(D^(_|~b))+w[12]+1700485571&4294967295,m=_+(I<<6&4294967295|I>>>26),I=b+(_^(m|~D))+w[3]+2399980690&4294967295,b=m+(I<<10&4294967295|I>>>22),I=D+(m^(b|~_))+w[10]+4293915773&4294967295,D=b+(I<<15&4294967295|I>>>17),I=_+(b^(D|~m))+w[1]+2240044497&4294967295,_=D+(I<<21&4294967295|I>>>11),I=m+(D^(_|~b))+w[8]+1873313359&4294967295,m=_+(I<<6&4294967295|I>>>26),I=b+(_^(m|~D))+w[15]+4264355552&4294967295,b=m+(I<<10&4294967295|I>>>22),I=D+(m^(b|~_))+w[6]+2734768916&4294967295,D=b+(I<<15&4294967295|I>>>17),I=_+(b^(D|~m))+w[13]+1309151649&4294967295,_=D+(I<<21&4294967295|I>>>11),I=m+(D^(_|~b))+w[4]+4149444226&4294967295,m=_+(I<<6&4294967295|I>>>26),I=b+(_^(m|~D))+w[11]+3174756917&4294967295,b=m+(I<<10&4294967295|I>>>22),I=D+(m^(b|~_))+w[2]+718787259&4294967295,D=b+(I<<15&4294967295|I>>>17),I=_+(b^(D|~m))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var _=m-this.blockSize,w=this.B,D=this.h,b=0;b<m;){if(D==0)for(;b<=_;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<m;)if(w[D++]=E.charCodeAt(b++),D==this.blockSize){i(this,w),D=0;break}}else for(;b<m;)if(w[D++]=E[b++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var _=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=_&255,_/=256;for(this.u(E),E=Array(16),m=_=0;4>m;++m)for(var w=0;32>w;w+=8)E[_++]=this.g[m]>>>w&255;return E};function s(E,m){var _=c;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=m(E)}function o(E,m){this.h=m;for(var _=[],w=!0,D=E.length-1;0<=D;D--){var b=E[D]|0;w&&b==m||(_[D]=b,w=!1)}this.g=_}var c={};function u(E){return-128<=E&&128>E?s(E,function(m){return new o([m|0],0>m?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var m=[],_=1,w=0;E>=_;w++)m[w]=E/_|0,_*=4294967296;return new o(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return R(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(m,8)),w=p,D=0;D<E.length;D+=8){var b=Math.min(8,E.length-D),I=parseInt(E.substring(D,D+b),m);8>b?(b=l(Math.pow(m,b)),w=w.j(b).add(l(I))):(w=w.j(_),w=w.add(l(I)))}return w}var p=u(0),y=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var E=0,m=1,_=0;_<this.g.length;_++){var w=this.i(_);E+=(0<=w?w:4294967296+w)*m,m*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T(this))return"0";if(M(this))return"-"+R(this).toString(E);for(var m=l(Math.pow(E,6)),_=this,w="";;){var D=ie(_,m).g;_=O(_,D.j(m));var b=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=D,T(_))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function T(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function M(E){return E.h==-1}t.l=function(E){return E=O(this,E),M(E)?-1:T(E)?0:1};function R(E){for(var m=E.g.length,_=[],w=0;w<m;w++)_[w]=~E.g[w];return new o(_,~E.h).add(y)}t.abs=function(){return M(this)?R(this):this},t.add=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],w=0,D=0;D<=m;D++){var b=w+(this.i(D)&65535)+(E.i(D)&65535),I=(b>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);w=I>>>16,b&=65535,I&=65535,_[D]=I<<16|b}return new o(_,_[_.length-1]&-2147483648?-1:0)};function O(E,m){return E.add(R(m))}t.j=function(E){if(T(this)||T(E))return p;if(M(this))return M(E)?R(this).j(R(E)):R(R(this).j(E));if(M(E))return R(this.j(R(E)));if(0>this.l(v)&&0>E.l(v))return l(this.m()*E.m());for(var m=this.g.length+E.g.length,_=[],w=0;w<2*m;w++)_[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<E.g.length;D++){var b=this.i(w)>>>16,I=this.i(w)&65535,dn=E.i(D)>>>16,zs=E.i(D)&65535;_[2*w+2*D]+=I*zs,L(_,2*w+2*D),_[2*w+2*D+1]+=b*zs,L(_,2*w+2*D+1),_[2*w+2*D+1]+=I*dn,L(_,2*w+2*D+1),_[2*w+2*D+2]+=b*dn,L(_,2*w+2*D+2)}for(w=0;w<m;w++)_[w]=_[2*w+1]<<16|_[2*w];for(w=m;w<2*m;w++)_[w]=0;return new o(_,0)};function L(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function H(E,m){this.g=E,this.h=m}function ie(E,m){if(T(m))throw Error("division by zero");if(T(E))return new H(p,p);if(M(E))return m=ie(R(E),m),new H(R(m.g),R(m.h));if(M(m))return m=ie(E,R(m)),new H(R(m.g),m.h);if(30<E.g.length){if(M(E)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var _=y,w=m;0>=w.l(E);)_=Se(_),w=Se(w);var D=Y(_,1),b=Y(w,1);for(w=Y(w,2),_=Y(_,2);!T(w);){var I=b.add(w);0>=I.l(E)&&(D=D.add(_),b=I),w=Y(w,1),_=Y(_,1)}return m=O(E,D.j(m)),new H(D,m)}for(D=p;0<=E.l(m);){for(_=Math.max(1,Math.floor(E.m()/m.m())),w=Math.ceil(Math.log(_)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=l(_),I=b.j(m);M(I)||0<I.l(E);)_-=w,b=l(_),I=b.j(m);T(b)&&(b=y),D=D.add(b),E=O(E,I)}return new H(D,E)}t.A=function(E){return ie(this,E).h},t.and=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],w=0;w<m;w++)_[w]=this.i(w)&E.i(w);return new o(_,this.h&E.h)},t.or=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],w=0;w<m;w++)_[w]=this.i(w)|E.i(w);return new o(_,this.h|E.h)},t.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],w=0;w<m;w++)_[w]=this.i(w)^E.i(w);return new o(_,this.h^E.h)};function Se(E){for(var m=E.g.length+1,_=[],w=0;w<m;w++)_[w]=E.i(w)<<1|E.i(w-1)>>>31;return new o(_,E.h)}function Y(E,m){var _=m>>5;m%=32;for(var w=E.g.length-_,D=[],b=0;b<w;b++)D[b]=0<m?E.i(b+_)>>>m|E.i(b+_+1)<<32-m:E.i(b+_);return new o(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pm=Bb.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,pr=Bb.Integer=o}).apply(typeof jb<"u"?jb:typeof self<"u"?self:typeof window<"u"?window:{});var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pn={};var gm,vL,ws,mm,Ca,Ll,ym,vm,_m;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vl=="object"&&Vl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in h))break e;h=h[C]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,g=!1,C={next:function(){if(!g&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function v(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function T(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,C,A){for(var P=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)P[Ie-2]=arguments[Ie];return d.prototype[C].apply(g,P)}}function M(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let C=a.length||0,A=g.length||0;a.length=C+A;for(let P=0;P<A;P++)a[C+P]=g[P]}else a.push(g)}}class O{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function L(a){return/^[\s\xa0]*$/.test(a)}function H(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ie(a){return ie[" "](a),a}ie[" "]=function(){};var Se=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function Y(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(h in g)a[h]=g[h];for(let A=0;A<_.length;A++)h=_[A],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function D(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function I(){var a=Td;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class dn{constructor(){this.h=this.g=null}add(d,h){let g=zs.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var zs=new O(()=>new G0,a=>a.reset());class G0{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Gs,Ws=!1,Td=new dn,Ev=()=>{let a=c.Promise.resolve(void 0);Gs=()=>{a.then(W0)}};var W0=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(h){b(h)}var d=zs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ws=!1};function Un(){this.s=this.s,this.C=this.C}Un.prototype.s=!1,Un.prototype.ma=function(){this.s||(this.s=!0,this.N())},Un.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var K0=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Ks(a,d){if(Ye.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Se){e:{try{ie(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Q0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ks.aa.h.call(this)}}T(Ks,Ye);var Q0={2:"touch",3:"pen",4:"mouse"};Ks.prototype.h=function(){Ks.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Qs="closure_listenable_"+(1e6*Math.random()|0),Y0=0;function Z0(a,d,h,g,C){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=C,this.key=++Y0,this.da=this.fa=!1}function Wa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ka(a){this.src=a,this.g={},this.h=0}Ka.prototype.add=function(a,d,h,g,C){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var P=Ad(a,d,g,C);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new Z0(d,this.src,A,!!g,C),d.fa=h,a.push(d)),d};function Sd(a,d){var h=d.type;if(h in a.g){var g=a.g[h],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(Wa(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Ad(a,d,h,g){for(var C=0;C<a.length;++C){var A=a[C];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return C}return-1}var Rd="closure_lm_"+(1e6*Math.random()|0),Md={};function Dv(a,d,h,g,C){if(g&&g.once)return bv(a,d,h,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Dv(a,d[A],h,g,C);return null}return h=Od(h),a&&a[Qs]?a.K(d,h,l(g)?!!g.capture:!!g,C):Cv(a,d,h,!1,g,C)}function Cv(a,d,h,g,C,A){if(!d)throw Error("Invalid event type");var P=l(C)?!!C.capture:!!C,Ie=xd(a);if(Ie||(a[Rd]=Ie=new Ka(a)),h=Ie.add(d,h,g,P,A),h.proxy)return h;if(g=J0(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)K0||(C=P),C===void 0&&(C=!1),a.addEventListener(d.toString(),g,C);else if(a.attachEvent)a.attachEvent(Sv(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function J0(){function a(h){return d.call(a.src,a.listener,h)}let d=X0;return a}function bv(a,d,h,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)bv(a,d[A],h,g,C);return null}return h=Od(h),a&&a[Qs]?a.L(d,h,l(g)?!!g.capture:!!g,C):Cv(a,d,h,!0,g,C)}function Tv(a,d,h,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)Tv(a,d[A],h,g,C);else g=l(g)?!!g.capture:!!g,h=Od(h),a&&a[Qs]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=Ad(A,h,g,C),-1<h&&(Wa(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=xd(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Ad(d,h,g,C)),(h=-1<a?d[a]:null)&&Nd(h))}function Nd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Qs])Sd(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(Sv(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=xd(d))?(Sd(h,a),h.h==0&&(h.src=null,d[Rd]=null)):Wa(a)}}}function Sv(a){return a in Md?Md[a]:Md[a]="on"+a}function X0(a,d){if(a.da)a=!0;else{d=new Ks(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Nd(a),a=h.call(g,d)}return a}function xd(a){return a=a[Rd],a instanceof Ka?a:null}var Pd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Od(a){return typeof a=="function"?a:(a[Pd]||(a[Pd]=function(d){return a.handleEvent(d)}),a[Pd])}function Ze(){Un.call(this),this.i=new Ka(this),this.M=this,this.F=null}T(Ze,Un),Ze.prototype[Qs]=!0,Ze.prototype.removeEventListener=function(a,d,h,g){Tv(this,a,d,h,g)};function ct(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Ye(d,a);else if(d instanceof Ye)d.target=d.target||a;else{var C=d;d=new Ye(g,a),w(d,C)}if(C=!0,h)for(var A=h.length-1;0<=A;A--){var P=d.g=h[A];C=Qa(P,g,!0,d)&&C}if(P=d.g=a,C=Qa(P,g,!0,d)&&C,C=Qa(P,g,!1,d)&&C,h)for(A=0;A<h.length;A++)P=d.g=h[A],C=Qa(P,g,!1,d)&&C}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Wa(h[g]);delete a.g[d],a.h--}}this.F=null},Ze.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Ze.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Qa(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==h){var Ie=P.listener,Ge=P.ha||P.src;P.fa&&Sd(a.i,P),C=Ie.call(Ge,g)!==!1&&C}}return C&&!g.defaultPrevented}function Av(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Rv(a){a.g=Av(()=>{a.g=null,a.i&&(a.i=!1,Rv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class eS extends Un{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Rv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ys(a){Un.call(this),this.h=a,this.g={}}T(Ys,Un);var Mv=[];function Nv(a){Y(a.g,function(d,h){this.g.hasOwnProperty(h)&&Nd(d)},a),a.g={}}Ys.prototype.N=function(){Ys.aa.N.call(this),Nv(this)},Ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kd=c.JSON.stringify,tS=c.JSON.parse,nS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Fd(){}Fd.prototype.h=null;function xv(a){return a.h||(a.h=a.i())}function Pv(){}var Zs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vd(){Ye.call(this,"d")}T(Vd,Ye);function Ld(){Ye.call(this,"c")}T(Ld,Ye);var Ir={},Ov=null;function Ya(){return Ov=Ov||new Ze}Ir.La="serverreachability";function kv(a){Ye.call(this,Ir.La,a)}T(kv,Ye);function Js(a){let d=Ya();ct(d,new kv(d))}Ir.STAT_EVENT="statevent";function Fv(a,d){Ye.call(this,Ir.STAT_EVENT,a),this.stat=d}T(Fv,Ye);function ut(a){let d=Ya();ct(d,new Fv(d,a))}Ir.Ma="timingevent";function Vv(a,d){Ye.call(this,Ir.Ma,a),this.size=d}T(Vv,Ye);function Xs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function eo(){this.g=!0}eo.prototype.xa=function(){this.g=!1};function rS(a,d,h,g,C,A){a.info(function(){if(a.g)if(A)for(var P="",Ie=A.split("&"),Ge=0;Ge<Ie.length;Ge++){var pe=Ie[Ge].split("=");if(1<pe.length){var Je=pe[0];pe=pe[1];var Xe=Je.split("_");P=2<=Xe.length&&Xe[1]=="type"?P+(Je+"="+pe+"&"):P+(Je+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+h+`
`+P})}function iS(a,d,h,g,C,A,P){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+h+`
`+A+" "+P})}function yi(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+oS(a,h)+(g?" "+g:"")})}function sS(a,d){a.info(function(){return"TIMEOUT: "+d})}eo.prototype.info=function(){};function oS(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return kd(h)}catch{return d}}var Za={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ud;function Ja(){}T(Ja,Fd),Ja.prototype.g=function(){return new XMLHttpRequest},Ja.prototype.i=function(){return{}},Ud=new Ja;function jn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uv}function Uv(){this.i=null,this.g="",this.h=!1}var jv={},jd={};function Bd(a,d,h){a.L=1,a.v=nc(hn(d)),a.m=h,a.P=!0,Bv(a,null)}function Bv(a,d){a.F=Date.now(),Xa(a),a.A=hn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),t_(h.i,"t",g),a.C=0,h=a.j.J,a.h=new Uv,a.g=__(a.j,h?d:null,!a.m),0<a.O&&(a.M=new eS(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(Mv[0]=C.toString()),C=Mv);for(var A=0;A<C.length;A++){var P=Dv(h,C[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Js(),rS(a.i,a.u,a.A,a.l,a.R,a.m)}jn.prototype.ca=function(a){a=a.target;let d=this.M;d&&fn(a)==3?d.j():this.Y(a)},jn.prototype.Y=function(a){try{if(a==this.g)e:{let Xe=fn(this.g);var d=this.g.Ba();let Ii=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||c_(this.g)))){this.J||Xe!=4||d==7||(d==8||0>=Ii?Js(3):Js(2)),$d(this);var h=this.g.Z();this.X=h;t:if($v(this)){var g=c_(this.g);a="";var C=g.length,A=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wr(this),to(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,iS(this.i,this.u,this.A,this.l,this.R,Xe,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,Ge=this.g;if((Ie=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Ie)){var pe=Ie;break t}}pe=null}if(h=pe)yi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hd(this,h);else{this.o=!1,this.s=3,ut(12),wr(this),to(this);break e}}if(this.P){h=!0;let kt;for(;!this.J&&this.C<P.length;)if(kt=aS(this,P),kt==jd){Xe==4&&(this.s=4,ut(14),h=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==jv){this.s=4,ut(15),yi(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else yi(this.i,this.l,kt,null),Hd(this,kt);if($v(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||P.length!=0||this.h.h||(this.s=1,ut(16),h=!1),this.o=this.o&&h,!h)yi(this.i,this.l,P,"[Invalid Chunked Response]"),wr(this),to(this);else if(0<P.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Qd(Je),Je.M=!0,ut(11))}}else yi(this.i,this.l,P,null),Hd(this,P);Xe==4&&wr(this),this.o&&!this.J&&(Xe==4?g_(this.j,this):(this.o=!1,Xa(this)))}else CS(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),wr(this),to(this)}}}catch{}finally{}};function $v(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function aS(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?jd:(h=Number(d.substring(h,g)),isNaN(h)?jv:(g+=1,g+h>d.length?jd:(d=d.slice(g,g+h),a.C=g+h,d)))}jn.prototype.cancel=function(){this.J=!0,wr(this)};function Xa(a){a.S=Date.now()+a.I,Hv(a,a.I)}function Hv(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Xs(y(a.ba,a),d)}function $d(a){a.B&&(c.clearTimeout(a.B),a.B=null)}jn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(sS(this.i,this.A),this.L!=2&&(Js(),ut(17)),wr(this),this.s=2,to(this)):Hv(this,this.S-a)};function to(a){a.j.G==0||a.J||g_(a.j,a)}function wr(a){$d(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Nv(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Hd(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||qd(h.h,a))){if(!a.K&&qd(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)ac(h),sc(h);else break e;Kd(h),ut(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=Xs(y(h.Za,h),6e3));if(1>=Gv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Dr(h,11)}else if((a.K||h.g==a)&&ac(h),!L(d))for(C=h.Da.g.parse(d),d=0;d<C.length;d++){let pe=C[d];if(h.T=pe[0],pe=pe[1],h.G==2)if(pe[0]=="c"){h.K=pe[1],h.ia=pe[2];let Je=pe[3];Je!=null&&(h.la=Je,h.j.info("VER="+h.la));let Xe=pe[4];Xe!=null&&(h.Aa=Xe,h.j.info("SVER="+h.Aa));let Ii=pe[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(g=1.5*Ii,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let kt=a.g;if(kt){let uc=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uc){var A=g.h;A.g||uc.indexOf("spdy")==-1&&uc.indexOf("quic")==-1&&uc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(zd(A,A.h),A.h=null))}if(g.D){let Yd=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yd&&(g.ya=Yd,De(g.I,g.D,Yd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var P=a;if(g.qa=v_(g,g.J?g.ia:null,g.W),P.K){Wv(g.h,P);var Ie=P,Ge=g.L;Ge&&(Ie.I=Ge),Ie.B&&($d(Ie),Xa(Ie)),g.g=P}else f_(g);0<h.i.length&&oc(h)}else pe[0]!="stop"&&pe[0]!="close"||Dr(h,7);else h.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Dr(h,7):Wd(h):pe[0]!="noop"&&h.l&&h.l.ta(pe),h.v=0)}}Js(4)}catch{}}var cS=class{constructor(a,d){this.g=a,this.map=d}};function qv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Gv(a){return a.h?1:a.g?a.g.size:0}function qd(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function zd(a,d){a.g?a.g.add(d):a.h=d}function Wv(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}qv.prototype.cancel=function(){if(this.i=Kv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Kv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return M(a.i)}function uS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function lS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function Qv(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=lS(a),g=uS(a),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],h&&h[A],a)}var Yv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dS(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),C=null;if(0<=g){var A=a[h].substring(0,g);C=a[h].substring(g+1)}else A=a[h];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Er(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Er){this.h=a.h,ec(this,a.j),this.o=a.o,this.g=a.g,tc(this,a.s),this.l=a.l;var d=a.i,h=new io;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Zv(this,h),this.m=a.m}else a&&(d=String(a).match(Yv))?(this.h=!1,ec(this,d[1]||"",!0),this.o=no(d[2]||""),this.g=no(d[3]||"",!0),tc(this,d[4]),this.l=no(d[5]||"",!0),Zv(this,d[6]||"",!0),this.m=no(d[7]||"")):(this.h=!1,this.i=new io(null,this.h))}Er.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ro(d,Jv,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ro(d,Jv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ro(h,h.charAt(0)=="/"?pS:fS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ro(h,mS)),a.join("")};function hn(a){return new Er(a)}function ec(a,d,h){a.j=h?no(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function tc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Zv(a,d,h){d instanceof io?(a.i=d,yS(a.i,a.h)):(h||(d=ro(d,gS)),a.i=new io(d,a.h))}function De(a,d,h){a.i.set(d,h)}function nc(a){return De(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function no(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ro(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,hS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function hS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Jv=/[#\/\?@]/g,fS=/[#\?:]/g,pS=/[#\?]/g,gS=/[#\?@]/g,mS=/#/g;function io(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Bn(a){a.g||(a.g=new Map,a.h=0,a.i&&dS(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=io.prototype,t.add=function(a,d){Bn(this),this.i=null,a=vi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function Xv(a,d){Bn(a),d=vi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function e_(a,d){return Bn(a),d=vi(a,d),a.g.has(d)}t.forEach=function(a,d){Bn(this),this.g.forEach(function(h,g){h.forEach(function(C){a.call(d,C,g,this)},this)},this)},t.na=function(){Bn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let C=a[g];for(let A=0;A<C.length;A++)h.push(d[g])}return h},t.V=function(a){Bn(this);let d=[];if(typeof a=="string")e_(this,a)&&(d=d.concat(this.g.get(vi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Bn(this),this.i=null,a=vi(this,a),e_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function t_(a,d,h){Xv(a,d),0<h.length&&(a.i=null,a.g.set(vi(a,d),M(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var C=A;P[g]!==""&&(C+="="+encodeURIComponent(String(P[g]))),a.push(C)}}return this.i=a.join("&")};function vi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function yS(a,d){d&&!a.j&&(Bn(a),a.i=null,a.g.forEach(function(h,g){var C=g.toLowerCase();g!=C&&(Xv(this,g),t_(this,C,h))},a)),a.j=d}function vS(a,d){let h=new eo;if(c.Image){let g=new Image;g.onload=v($n,h,"TestLoadImage: loaded",!0,d,g),g.onerror=v($n,h,"TestLoadImage: error",!1,d,g),g.onabort=v($n,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=v($n,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function _S(a,d){let h=new eo,g=new AbortController,C=setTimeout(()=>{g.abort(),$n(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?$n(h,"TestPingServer: ok",!0,d):$n(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),$n(h,"TestPingServer: error",!1,d)})}function $n(a,d,h,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(h)}catch{}}function IS(){this.g=new nS}function wS(a,d,h){let g=h||"";try{Qv(a,function(C,A){let P=C;l(C)&&(P=kd(C)),d.push(g+A+"="+encodeURIComponent(P))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function so(a){this.l=a.Ub||null,this.j=a.eb||!1}T(so,Fd),so.prototype.g=function(){return new rc(this.l,this.j)},so.prototype.i=function(a){return function(){return a}}({});function rc(a,d){Ze.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(rc,Ze),t=rc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ao(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ao(this)),this.g&&(this.readyState=3,ao(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;n_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function n_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?oo(this):ao(this),this.readyState==3&&n_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,oo(this))},t.Qa=function(a){this.g&&(this.response=a,oo(this))},t.ga=function(){this.g&&oo(this)};function oo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ao(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function ao(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(rc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function r_(a){let d="";return Y(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Gd(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=r_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):De(a,d,h))}function Ae(a){Ze.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ae,Ze);var ES=/^https?$/i,DS=["POST","PUT"];t=Ae.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ud.g(),this.v=this.o?xv(this.o):xv(Ud),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){i_(this,A);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)h.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(DS,d,void 0))||g||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of h)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{a_(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){i_(this,A)}};function i_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,s_(a),ic(a)}function s_(a){a.A||(a.A=!0,ct(a,"complete"),ct(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ct(this,"complete"),ct(this,"abort"),ic(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ic(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?o_(this):this.bb())},t.bb=function(){o_(this)};function o_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||fn(a)!=4||a.Z()!=2)){if(a.u&&fn(a)==4)Av(a.Ea,0,a);else if(ct(a,"readystatechange"),fn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=P===0){var C=String(a.D).match(Yv)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),g=!ES.test(C?C.toLowerCase():"")}h=g}if(h)ct(a,"complete"),ct(a,"success");else{a.m=6;try{var A=2<fn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",s_(a)}}finally{ic(a)}}}}function ic(a,d){if(a.g){a_(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ct(a,"ready");try{h.onreadystatechange=g}catch{}}}function a_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function fn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),tS(d)}};function c_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function CS(a){let d={};a=(a.g&&2<=fn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(L(a[g]))continue;var h=D(a[g]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[C]||[];d[C]=A,A.push(h)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function co(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function u_(a){this.Aa=0,this.i=[],this.j=new eo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=co("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=co("baseRetryDelayMs",5e3,a),this.cb=co("retryDelaySeedMs",1e4,a),this.Wa=co("forwardChannelMaxRetries",2,a),this.wa=co("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new qv(a&&a.concurrentRequestLimit),this.Da=new IS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=u_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){ut(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=v_(this,null,this.W),oc(this)};function Wd(a){if(l_(a),a.G==3){var d=a.U++,h=hn(a.I);if(De(h,"SID",a.K),De(h,"RID",d),De(h,"TYPE","terminate"),uo(a,h),d=new jn(a,a.j,d),d.L=2,d.v=nc(hn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=__(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Xa(d)}y_(a)}function sc(a){a.g&&(Qd(a),a.g.cancel(),a.g=null)}function l_(a){sc(a),a.u&&(c.clearTimeout(a.u),a.u=null),ac(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function oc(a){if(!zv(a.h)&&!a.s){a.s=!0;var d=a.Ga;Gs||Ev(),Ws||(Gs(),Ws=!0),Td.add(d,a),a.B=0}}function bS(a,d){return Gv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Xs(y(a.Ga,a,d),m_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new jn(this,this.j,a),A=this.o;if(this.S&&(A?(A=m(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=h_(this,C,d),h=hn(this.I),De(h,"RID",a),De(h,"CVER",22),this.D&&De(h,"X-HTTP-Session-Id",this.D),uo(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(r_(A)))+"&"+d:this.m&&Gd(h,this.m,A)),zd(this.h,C),this.Ua&&De(h,"TYPE","init"),this.P?(De(h,"$req",d),De(h,"SID","null"),C.T=!0,Bd(C,h,null)):Bd(C,h,d),this.G=2}}else this.G==3&&(a?d_(this,a):this.i.length==0||zv(this.h)||d_(this))};function d_(a,d){var h;d?h=d.l:h=a.U++;let g=hn(a.I);De(g,"SID",a.K),De(g,"RID",h),De(g,"AID",a.T),uo(a,g),a.m&&a.o&&Gd(g,a.m,a.o),h=new jn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=h_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),zd(a.h,h),Bd(h,g,d)}function uo(a,d){a.H&&Y(a.H,function(h,g){De(d,g,h)}),a.l&&Qv({},function(h,g){De(d,g,h)})}function h_(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var C=a.i;let A=-1;for(;;){let P=["count="+h];A==-1?0<h?(A=C[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Ie=!0;for(let Ge=0;Ge<h;Ge++){let pe=C[Ge].g,Je=C[Ge].map;if(pe-=A,0>pe)A=Math.max(0,C[Ge].g-100),Ie=!1;else try{wS(Je,P,"req"+pe+"_")}catch{g&&g(Je)}}if(Ie){g=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function f_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Gs||Ev(),Ws||(Gs(),Ws=!0),Td.add(d,a),a.v=0}}function Kd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Xs(y(a.Fa,a),m_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,p_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Xs(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),sc(this),p_(this))};function Qd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function p_(a){a.g=new jn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=hn(a.qa);De(d,"RID","rpc"),De(d,"SID",a.K),De(d,"AID",a.T),De(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&De(d,"TO",a.ja),De(d,"TYPE","xmlhttp"),uo(a,d),a.m&&a.o&&Gd(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=nc(hn(d)),h.m=null,h.P=!0,Bv(h,a)}t.Za=function(){this.C!=null&&(this.C=null,sc(this),Kd(this),ut(19))};function ac(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function g_(a,d){var h=null;if(a.g==d){ac(a),Qd(a),a.g=null;var g=2}else if(qd(a.h,d))h=d.D,Wv(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;g=Ya(),ct(g,new Vv(g,h)),oc(a)}else f_(a);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&bS(a,d)||g==2&&Kd(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),C){case 1:Dr(a,5);break;case 4:Dr(a,10);break;case 3:Dr(a,6);break;default:Dr(a,2)}}}function m_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Dr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let C=!g;g=new Er(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ec(g,"https"),nc(g),C?vS(g.toString(),h):_S(g.toString(),h)}else ut(2);a.G=0,a.l&&a.l.sa(d),y_(a),l_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function y_(a){if(a.G=0,a.ka=[],a.l){let d=Kv(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function v_(a,d,h){var g=h instanceof Er?hn(h):new Er(h);if(g.g!="")d&&(g.g=d+"."+g.g),tc(g,g.s);else{var C=c.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Er(null);g&&ec(A,g),d&&(A.g=d),C&&tc(A,C),h&&(A.l=h),g=A}return h=a.D,d=a.ya,h&&d&&De(g,h,d),De(g,"VER",a.la),uo(a,g),g}function __(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ae(new so({eb:h})):new Ae(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function I_(){}t=I_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cc(){}cc.prototype.g=function(a,d){return new pt(a,d)};function pt(a,d){Ze.call(this),this.g=new u_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!L(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!L(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new _i(this)}T(pt,Ze),pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pt.prototype.close=function(){Wd(this.g)},pt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=kd(a),a=h);d.i.push(new cS(d.Ya++,a)),d.G==3&&oc(d)},pt.prototype.N=function(){this.g.l=null,delete this.j,Wd(this.g),delete this.g,pt.aa.N.call(this)};function w_(a){Vd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}T(w_,Vd);function E_(){Ld.call(this),this.status=1}T(E_,Ld);function _i(a){this.g=a}T(_i,I_),_i.prototype.ua=function(){ct(this.g,"a")},_i.prototype.ta=function(a){ct(this.g,new w_(a))},_i.prototype.sa=function(a){ct(this.g,new E_)},_i.prototype.ra=function(){ct(this.g,"b")},cc.prototype.createWebChannel=cc.prototype.g,pt.prototype.send=pt.prototype.o,pt.prototype.open=pt.prototype.m,pt.prototype.close=pt.prototype.close,_m=Pn.createWebChannelTransport=function(){return new cc},vm=Pn.getStatEventTarget=function(){return Ya()},ym=Pn.Event=Ir,Ll=Pn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Za.NO_ERROR=0,Za.TIMEOUT=8,Za.HTTP_ERROR=6,Ca=Pn.ErrorCode=Za,Lv.COMPLETE="complete",mm=Pn.EventType=Lv,Pv.EventType=Zs,Zs.OPEN="a",Zs.CLOSE="b",Zs.ERROR="c",Zs.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,ws=Pn.WebChannel=Pv,vL=Pn.FetchXmlHttpFactory=so,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,gm=Pn.XhrIo=Ae}).apply(typeof Vl<"u"?Vl:typeof self<"u"?self:typeof window<"u"?window:{});var $b="@firebase/firestore";var ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ze.UNAUTHENTICATED=new ze(null),ze.GOOGLE_CREDENTIALS=new ze("google-credentials-uid"),ze.FIRST_PARTY=new ze("first-party-uid"),ze.MOCK_USER=new ze("mock-user");var $s="10.14.0";var ci=new lr("@firebase/firestore");function ba(){return ci.logLevel}function V(t,...e){if(ci.logLevel<=ue.DEBUG){let n=e.map(ev);ci.debug(`Firestore (${$s}): ${t}`,...n)}}function kn(t,...e){if(ci.logLevel<=ue.ERROR){let n=e.map(ev);ci.error(`Firestore (${$s}): ${t}`,...n)}}function Rs(t,...e){if(ci.logLevel<=ue.WARN){let n=e.map(ev);ci.warn(`Firestore (${$s}): ${t}`,...n)}}function ev(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function z(t="Unexpected state"){let e=`FIRESTORE (${$s}) INTERNAL ASSERTION FAILED: `+t;throw kn(e),new Error(e)}function _e(t,e){t||z()}function Q(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Nt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var On=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Hl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Cm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ze.UNAUTHENTICATED))}shutdown(){}},bm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Tm=class{constructor(e){this.t=e,this.currentUser=ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new On;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new On,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new On)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string"),new Hl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string"),new ze(e)}},Sm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Am=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Sm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Rm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Mm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){_e(this.o===void 0);let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new Rm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _L(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ql=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=_L(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function me(t,e){return t<e?-1:t>e?1:0}function Ms(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Qe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Qe(0,0))}static max(){return new t(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var zl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(),r===void 0?r=e.length-n:r>e.length-n&&z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Me=class t extends zl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},IL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wt=class t extends zl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return IL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new U(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new U(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new U(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var $=class t{constructor(e){this.path=e}static fromPath(e){return new t(Me.fromString(e))}static fromName(e){return new t(Me.fromString(e).popFirst(5))}static empty(){return new t(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Me(e.slice()))}};var Nm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Nm.UNKNOWN_ID=-1;function wL(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new ui(i,$.empty(),e)}function EL(t){return new ui(t.readTime,t.key,-1)}var ui=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),$.empty(),-1)}static max(){return new t(J.max(),$.empty(),-1)}};function DL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}var CL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ha(t){return S(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==CL)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function bL(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qa(t){return t.name==="IndexedDbTransactionError"}var wT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function _d(t){return t==null}function Na(t){return t===0&&1/t==-1/0}function TL(t){return typeof t=="number"&&Number.isInteger(t)&&!Na(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var SL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],V9=[...SL,"documentOverlays"],AL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],RL=AL,ML=[...RL,"indexConfiguration","indexState","indexEntries"];var L9=[...ML,"globals"];function Hb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ET(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ne=class t{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bs(this.root,e,this.comparator,!1)}getReverseIterator(){return new bs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bs(this.root,e,this.comparator,!0)}},bs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},on=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();let e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}};on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ot=class t{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gl(this.data.getIterator())}getIteratorFrom(e){return new Gl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Gl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sn=class t{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ot(wt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Wl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var at=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Wl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};at.EMPTY_BYTE_STRING=new at("");var NL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fn(t){if(_e(!!t),typeof t=="string"){let e=0,n=NL.exec(t);if(_e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yr(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}function tv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nv(t){let e=t.mapValue.fields.__previous_value__;return tv(e)?nv(e):e}function xa(t){let e=Fn(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}var Pm=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Kl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tv(t)?4:CT(t)?9007199254740991:DT(t)?10:11:z()}function un(t,e){if(t===e)return!0;let n=li(t);if(n!==li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xa(t).isEqual(xa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Fn(i.timestampValue),c=Fn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return yr(i.bytesValue).isEqual(yr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ce(i.geoPointValue.latitude)===Ce(s.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ce(i.integerValue)===Ce(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ce(i.doubleValue),c=Ce(s.doubleValue);return o===c?Na(o)===Na(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Ms(t.arrayValue.values||[],e.arrayValue.values||[],un);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Hb(o)!==Hb(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!un(o[u],c[u])))return!1;return!0}(t,e);default:return z()}}function Pa(t,e){return(t.values||[]).find(n=>un(n,e))!==void 0}function Ns(t,e){if(t===e)return 0;let n=li(t),r=li(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Ce(s.integerValue||s.doubleValue),u=Ce(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return qb(t.timestampValue,e.timestampValue);case 4:return qb(xa(t),xa(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(s,o){let c=yr(s),u=yr(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=me(c[l],u[l]);if(f!==0)return f}return me(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=me(Ce(s.latitude),Ce(o.latitude));return c!==0?c:me(Ce(s.longitude),Ce(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let p=s.fields||{},y=o.fields||{},v=(c=p.value)===null||c===void 0?void 0:c.arrayValue,T=(u=y.value)===null||u===void 0?void 0:u.arrayValue,M=me(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((f=T?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:zb(v,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ul.mapValue&&o===Ul.mapValue)return 0;if(s===Ul.mapValue)return 1;if(o===Ul.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=me(u[p],f[p]);if(y!==0)return y;let v=Ns(c[u[p]],l[f[p]]);if(v!==0)return v}return me(u.length,f.length)}(t.mapValue,e.mapValue);default:throw z()}}function qb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);let n=Fn(t),r=Fn(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function zb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Ns(n[i],r[i]);if(s)return s}return me(n.length,r.length)}function xs(t){return Om(t)}function Om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Fn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Om(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Om(n.fields[o])}`;return i+"}"}(t.mapValue):z()}function km(t){return!!t&&"integerValue"in t}function rv(t){return!!t&&"arrayValue"in t}function Gb(t){return!!t&&"nullValue"in t}function Wb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bl(t){return!!t&&"mapValue"in t}function DT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Sa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var qt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sa(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Sa(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Bl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Sa(this.value))}};function bT(t){let e=[];return Hs(t.fields,(n,r)=>{let i=new wt([n]);if(Bl(r)){let s=bT(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new sn(e)}var zt=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ps=class{constructor(e,n){this.position=e,this.inclusive=n}};function Kb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=$.comparator($.fromName(o.referenceValue),n.key):r=Ns(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!un(t.position[n],e.position[n]))return!1;return!0}var Os=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function xL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ql=class{},je=class t extends Ql{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vm(e,n,r):n==="array-contains"?new jm(e,r):n==="in"?new Bm(e,r):n==="not-in"?new $m(e,r):n==="array-contains-any"?new Hm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Lm(e,r):new Um(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ns(n,this.value)):n!==null&&li(this.value)===li(n)&&this.matchesComparison(Ns(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ln=class t extends Ql{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return TT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function TT(t){return t.op==="and"}function ST(t){return PL(t)&&TT(t)}function PL(t){for(let e of t.filters)if(e instanceof ln)return!1;return!0}function Fm(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+xs(t.value);if(ST(t))return t.filters.map(e=>Fm(e)).join(",");{let e=t.filters.map(n=>Fm(n)).join(",");return`${t.op}(${e})`}}function AT(t,e){return t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&un(r.value,i.value)}(t,e):t instanceof ln?function(r,i){return i instanceof ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&AT(o,i.filters[c]),!0):!1}(t,e):void z()}function RT(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${xs(n.value)}`}(t):t instanceof ln?function(n){return n.op.toString()+" {"+n.getFilters().map(RT).join(" ,")+"}"}(t):"Filter"}var Vm=class extends je{constructor(e,n,r){super(e,n,r),this.key=$.fromName(r.referenceValue)}matches(e){let n=$.comparator(e.key,this.key);return this.matchesComparison(n)}},Lm=class extends je{constructor(e,n){super(e,"in",n),this.keys=MT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Um=class extends je{constructor(e,n){super(e,"not-in",n),this.keys=MT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function MT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$.fromName(r.referenceValue))}var jm=class extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return rv(n)&&Pa(n.arrayValue,this.value)}},Bm=class extends je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Pa(this.value.arrayValue,n)}},$m=class extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Pa(this.value.arrayValue,n)}},Hm=class extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!rv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pa(this.value.arrayValue,r))}};var qm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function Yb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new qm(t,e,n,r,i,s,o)}function iv(t){let e=Q(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xs(r)).join(",")),e.ue=n}return e.ue}function sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qb(t.startAt,e.startAt)&&Qb(t.endAt,e.endAt)}function zm(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ks=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function OL(t,e,n,r,i,s,o,c){return new ks(t,e,n,r,i,s,o,c)}function ov(t){return new ks(t)}function Zb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kL(t){return t.collectionGroup!==null}function Aa(t){let e=Q(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ot(wt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Os(s,r))}),n.has(wt.keyField().canonicalString())||e.ce.push(new Os(wt.keyField(),r))}return e.ce}function an(t){let e=Q(t);return e.le||(e.le=FL(e,Aa(t))),e.le}function FL(t,e){if(t.limitType==="F")return Yb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Os(i.field,s)});let n=t.endAt?new Ps(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ps(t.startAt.position,t.startAt.inclusive):null;return Yb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gm(t,e,n){return new ks(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Id(t,e){return sv(an(t),an(e))&&t.limitType===e.limitType}function NT(t){return`${iv(an(t))}|lt:${t.limitType}`}function Es(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>RT(i)).join(", ")}]`),_d(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xs(i)).join(",")),`Target(${r})`}(an(t))}; limitType=${t.limitType})`}function wd(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Aa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=Kb(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,Aa(r),i)||r.endAt&&!function(o,c,u){let l=Kb(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,Aa(r),i))}(t,e)}function VL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xT(t){return(e,n)=>{let r=!1;for(let i of Aa(t)){let s=LL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function LL(t,e,n){let r=t.field.isKeyField()?$.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?Ns(u,l):z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}var vr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return ET(this.inner)}size(){return this.innerSize}};var UL=new Ne($.comparator);function Vn(){return UL}var PT=new Ne($.comparator);function Ta(...t){let e=PT;for(let n of t)e=e.insert(n.key,n);return e}function OT(t){let e=PT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function si(){return Ra()}function kT(){return Ra()}function Ra(){return new vr(t=>t.toString(),(t,e)=>t.isEqual(e))}var jL=new Ne($.comparator),BL=new ot($.comparator);function le(...t){let e=BL;for(let n of t)e=e.add(n);return e}var $L=new ot(me);function HL(){return $L}function av(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Na(e)?"-0":e}}function FT(t){return{integerValue:""+t}}function qL(t,e){return TL(e)?FT(e):av(t,e)}var Fs=class{constructor(){this._=void 0}};function zL(t,e,n){return t instanceof Vs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&tv(s)&&(s=nv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof di?LT(t,e):t instanceof hi?UT(t,e):function(i,s){let o=VT(i,s),c=Jb(o)+Jb(i.Pe);return km(o)&&km(i.Pe)?FT(c):av(i.serializer,c)}(t,e)}function GL(t,e,n){return t instanceof di?LT(t,e):t instanceof hi?UT(t,e):n}function VT(t,e){return t instanceof Ls?function(r){return km(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Vs=class extends Fs{},di=class extends Fs{constructor(e){super(),this.elements=e}};function LT(t,e){let n=jT(e);for(let r of t.elements)n.some(i=>un(i,r))||n.push(r);return{arrayValue:{values:n}}}var hi=class extends Fs{constructor(e){super(),this.elements=e}};function UT(t,e){let n=jT(e);for(let r of t.elements)n=n.filter(i=>!un(i,r));return{arrayValue:{values:n}}}var Ls=class extends Fs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function Jb(t){return Ce(t.integerValue||t.doubleValue)}function jT(t){return rv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof di&&i instanceof di||r instanceof hi&&i instanceof hi?Ms(r.elements,i.elements,un):r instanceof Ls&&i instanceof Ls?un(r.Pe,i.Pe):r instanceof Vs&&i instanceof Vs}(t.transform,e.transform)}var Wm=class{constructor(e,n){this.version=e,this.transformResults=n}},gr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function $l(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Us=class{};function BT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Oa(t.key,gr.none()):new fi(t.key,t.data,gr.none());{let n=t.data,r=qt.empty(),i=new ot(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ln(t.key,r,new sn(i.toArray()),gr.none())}}function KL(t,e,n){t instanceof fi?function(i,s,o){let c=i.value.clone(),u=eT(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ln?function(i,s,o){if(!$l(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=eT(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll($T(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ma(t,e,n,r){return t instanceof fi?function(s,o,c,u){if(!$l(s.precondition,o))return c;let l=s.value.clone(),f=tT(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ln?function(s,o,c,u){if(!$l(s.precondition,o))return c;let l=tT(s.fieldTransforms,u,o),f=o.data;return f.setAll($T(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,c){return $l(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function QL(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=VT(r.transform,i||null);s!=null&&(n===null&&(n=qt.empty()),n.set(r.field,s))}return n||null}function Xb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ms(r,i,(s,o)=>WL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var fi=class extends Us{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ln=class extends Us{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function $T(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function eT(t,e,n){let r=new Map;_e(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,GL(o,c,n[i]))}return r}function tT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,zL(s,o,e))}return r}var Oa=class extends Us{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Km=class extends Us{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Qm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&KL(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=kT();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=BT(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,(n,r)=>Xb(n,r))&&Ms(this.baseMutations,e.baseMutations,(n,r)=>Xb(n,r))}},Ym=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length);let i=function(){return jL}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Zm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Jm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ke,he;function YL(t){switch(t){default:return z();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function HT(t){if(t===void 0)return kn("GRPC error has no .code"),N.UNKNOWN;switch(t){case ke.OK:return N.OK;case ke.CANCELLED:return N.CANCELLED;case ke.UNKNOWN:return N.UNKNOWN;case ke.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ke.INTERNAL:return N.INTERNAL;case ke.UNAVAILABLE:return N.UNAVAILABLE;case ke.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ke.NOT_FOUND:return N.NOT_FOUND;case ke.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ke.ABORTED:return N.ABORTED;case ke.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ke.DATA_LOSS:return N.DATA_LOSS;default:return z()}}(he=ke||(ke={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var nT=null;function ZL(){return new TextEncoder}var JL=new pr([4294967295,4294967295],0);function rT(t){let e=ZL().encode(t),n=new pm;return n.update(e),new Uint8Array(n.digest())}function iT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pr([n,r],0),new pr([i,s],0)]}var Xm=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oi(`Invalid padding: ${n}`);if(r<0)throw new oi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=pr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(pr.fromNumber(r)));return i.compare(JL)===1&&(i=new pr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=rT(e),[r,i]=iT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let n=rT(e),[r,i]=iT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},oi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Yl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ka.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new Ne(me),Vn(),le())}},ka=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var Ts=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Zl=class{constructor(e,n){this.targetId=e,this.me=n}},Jl=class{constructor(e,n,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Xl=class{constructor(){this.fe=0,this.ge=oT(),this.pe=at.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=le(),n=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z()}}),new ka(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=oT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},ey=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vn(),this.qe=sT(),this.Qe=new Ne(me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(zm(s))if(r===0){let o=new $(s.path);this.Ue(n,o,zt.newNoDocument(o,J.min()))}else _e(r===1);else{let o=this.Ye(n);if(o!==r){let c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}nT?.et(function(f,p,y,v,T){var M,R,O,L,H,ie;let Se={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},Y=p.unchangedNames;return Y&&(Se.bloomFilter={applied:T===0,hashCount:(M=Y?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(L=(O=(R=Y?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&L!==void 0?L:0,padding:(ie=(H=Y?.bits)===null||H===void 0?void 0:H.padding)!==null&&ie!==void 0?ie:0,mightContain:E=>{var m;return(m=v?.mightContain(E))!==null&&m!==void 0&&m}}),Se}(o,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,c;try{o=yr(r).toUint8Array()}catch(u){if(u instanceof Wl)return Rs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Xm(o,i,s)}catch(u){return Rs(u instanceof oi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&zm(c.target)){let u=new $(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,zt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=le();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Yl(e,n,this.Qe,this.ke,r);return this.ke=Vn(),this.qe=sT(),this.Qe=new Ne(me),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xl,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ot(me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xl),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function sT(){return new Ne($.comparator)}function oT(){return new Ne($.comparator)}var XL={asc:"ASCENDING",desc:"DESCENDING"},eU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tU={and:"AND",or:"OR"},ty=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ny(t,e){return t.useProto3Json||_d(e)?e:{value:e}}function ed(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nU(t,e){return ed(t,e.toTimestamp())}function cn(t){return _e(!!t),J.fromTimestamp(function(n){let r=Fn(n);return new Qe(r.seconds,r.nanos)}(t))}function cv(t,e){return ry(t,e).canonicalString()}function ry(t,e){let n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zT(t){let e=Me.fromString(t);return _e(YT(e)),e}function iy(t,e){return cv(t.databaseId,e.path)}function Im(t,e){let n=zT(e);if(n.get(1)!==t.databaseId.projectId)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(WT(n))}function GT(t,e){return cv(t.databaseId,e)}function rU(t){let e=zT(t);return e.length===4?Me.emptyPath():WT(e)}function sy(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WT(t){return _e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aT(t,e,n){return{name:iy(t,e),fields:n.value.mapValue.fields}}function iU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(_e(f===void 0||typeof f=="string"),at.fromBase64String(f||"")):(_e(f===void 0||f instanceof Buffer||f instanceof Uint8Array),at.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(l){let f=l.code===void 0?N.UNKNOWN:HT(l.code);return new U(f,l.message||"")}(o);n=new Jl(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Im(t,r.document.name),s=cn(r.document.updateTime),o=r.document.createTime?cn(r.document.createTime):J.min(),c=new qt({mapValue:{fields:r.document.fields}}),u=zt.newFoundDocument(i,s,o,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Ts(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Im(t,r.document),s=r.readTime?cn(r.readTime):J.min(),o=zt.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Ts([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Im(t,r.document),s=r.removedTargetIds||[];n=new Ts([],s,i,null)}else{if(!("filter"in e))return z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Jm(i,s),c=r.targetId;n=new Zl(c,o)}}return n}function sU(t,e){let n;if(e instanceof fi)n={update:aT(t,e.key,e.value)};else if(e instanceof Oa)n={delete:iy(t,e.key)};else if(e instanceof Ln)n={update:aT(t,e.key,e.data),updateMask:pU(e.fieldMask)};else{if(!(e instanceof Km))return z();n={verify:iy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Vs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof di)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof hi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ls)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:nU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:z()}(t,e.precondition)),n}function oU(t,e){return t&&t.length>0?(_e(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?cn(i.updateTime):cn(s);return o.isEqual(J.min())&&(o=cn(s)),new Wm(o,i.transformResults||[])}(n,e))):[]}function aU(t,e){return{documents:[GT(t,e.path)]}}function cU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GT(t,i);let s=function(l){if(l.length!==0)return QT(ln.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:Ds(y.field),direction:dU(y.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let c=ny(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function uU(t){let e=rU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_e(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){let y=KT(p);return y instanceof ln&&ST(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(T){return new Os(Cs(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,_d(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,v=p.values||[];return new Ps(v,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,v=p.values||[];return new Ps(v,y)}(n.endAt)),OL(e,i,o,s,c,"F",u,l)}function lU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Cs(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Cs(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Cs(n.unaryFilter.field);return je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Cs(n.unaryFilter.field);return je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(n){return je.create(Cs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ln.create(n.compositeFilter.filters.map(r=>KT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(t):z()}function dU(t){return XL[t]}function hU(t){return eU[t]}function fU(t){return tU[t]}function Ds(t){return{fieldPath:t.canonicalString()}}function Cs(t){return wt.fromServerFormat(t.fieldPath)}function QT(t){return t instanceof je?function(n){if(n.op==="=="){if(Wb(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NAN"}};if(Gb(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wb(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NAN"}};if(Gb(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(n.field),op:hU(n.op),value:n.value}}}(t):t instanceof ln?function(n){let r=n.getFilters().map(i=>QT(i));return r.length===1?r[0]:{compositeFilter:{op:fU(n.op),filters:r}}}(t):z()}function pU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Fa=class t{constructor(e,n,r,i,s=J.min(),o=J.min(),c=at.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var oy=class{constructor(e){this.ct=e}};function gU(t){let e=uU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gm(e,e.limit,"L"):e}var td=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Na(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Fn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(yr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?CT(e)?this.dt(n,Number.MAX_SAFE_INTEGER):DT(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):z()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ce(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),$.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};td.vt=new td;var ay=class{constructor(){this.un=new cy}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(ui.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},cy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ot(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(Me.comparator)).toArray()}};var j9=new Uint8Array(0);var rn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(41943040,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);var Va=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var uy=class{constructor(){this.changes=new vr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ly=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var dy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ma(r.mutation,i,sn.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ta();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=Vn(),o=Ra(),c=function(){return Ra()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Ln)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),Ma(f.mutation,l,f.mutation.getFieldMask(),Qe.now())):o.set(l.key,sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new ly(f,(p=o.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Ra(),i=new Ne((o,c)=>o-c),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||sn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||le()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=kT();f.forEach(y=>{if(!s.has(y)){let v=BT(n.get(y),r.get(y));v!==null&&p.set(y,v),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return $.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(si()),c=-1,u=s;return o.next(l=>x.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,le())).next(f=>({batchId:c,changes:OT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(r=>{let i=Ta();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Ta();return this.indexManager.getCollectionParents(e,s).next(c=>x.forEach(c,u=>{let l=function(p,y){return new ks(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,zt.newInvalidDocument(f)))});let c=Ta();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&Ma(f.mutation,l,sn.empty(),Qe.now()),wd(n,l)&&(c=c.insert(u,l))}),c})}};var hy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:gU(i.bundledQuery),readTime:cn(i.readTime)}}(n)),x.resolve()}};var fy=class{constructor(){this.overlays=new Ne($.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=si();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=si(),s=n.length+1,o=new $(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=si(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=si(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return x.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Zm(n,r));let s=this.Ir.get(n);s===void 0&&(s=le(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var py=class{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var La=class{constructor(){this.Tr=new ot(Fe.Er),this.dr=new ot(Fe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Fe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Fe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new $(new Me([])),r=new Fe(n,e),i=new Fe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new $(new Me([])),r=new Fe(n,e),i=new Fe(n,e+1),s=le();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Fe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Fe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return $.comparator(e.key,n.key)||me(e.wr,n.wr)}static Ar(e,n){return me(e.wr,n.wr)||$.comparator(e.key,n.key)}};var gy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ot(Fe.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Qm(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Fe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Fe(n,0),i=new Fe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(me);return n.forEach(i=>{let s=new Fe(i,0),o=new Fe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;$.isDocumentKey(s)||(s=s.child(""));let o=new Fe(new $(s),0),c=new ot(me);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),x.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Fe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Fe(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var my=class{constructor(e){this.Mr=e,this.docs=function(){return new Ne($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Vn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vn(),o=n.path,c=new $(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||DL(EL(f),r)<=0||(i.has(f.key)||wd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){z()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yy(this)}getSize(e){return x.resolve(this.size)}},yy=class extends uy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var vy=class{constructor(e){this.persistence=e,this.Nr=new vr(n=>iv(n),sv),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Lr=0,this.Br=new La,this.targetCount=0,this.kr=Va.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Va(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var _y=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new wT(0),this.Kr=!1,this.Kr=!0,this.$r=new py,this.referenceDelegate=e(this),this.Ur=new vy(this),this.indexManager=new ay,this.remoteDocumentCache=function(i){return new my(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new oy(n),this.Gr=new hy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new gy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new Iy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Iy=class extends xm{constructor(e){super(),this.currentSequenceNumber=e}},wy=class t{constructor(e){this.persistence=e,this.Jr=new La,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=$.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Ey=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=le(),i=le();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Dy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Cy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return rb()?8:bL(It())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Dy;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ba()<=ue.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(ba()<=ue.DEBUG&&V("QueryEngine","Query:",Es(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ba()<=ue.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,an(n))):x.resolve())}Yi(e,n){if(Zb(n))return x.resolve(null);let r=an(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gm(n,null,"F"),r=an(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=le(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,Gm(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return Zb(n)||i.isEqual(J.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(ba()<=ue.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Es(n)),this.rs(e,o,n,wL(i,-1)).next(c=>c))})}ts(e,n){let r=new ot(xT(e));return n.forEach((i,s)=>{wd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ba()<=ue.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Es(n)),this.Ji.getDocumentsMatchingQuery(e,n,ui.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var by=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ne(me),this._s=new vr(s=>iv(s),sv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function mU(t,e,n,r){return new by(t,e,n,r)}function ZT(t,e){return S(this,null,function*(){let n=Q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=le();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function yU(t,e){let n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let p=l.batch,y=p.keys(),v=x.resolve();return y.forEach(T=>{v=v.next(()=>f.getEntry(u,T)).next(M=>{let R=l.docVersions.get(T);_e(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=le();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JT(t){let e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function vU(t,e){let n=Q(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((f,p)=>{let y=i.get(p);if(!y)return;c.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,p)));let v=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(at.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),function(M,R,O){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,v,f)&&c.push(n.Ur.updateTargetData(s,v))});let u=Vn(),l=le();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(_U(s,o,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(J.min())){let f=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return x.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function _U(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vn();return n.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):V("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function IU(t,e){let n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wU(t,e){let n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Fa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Ty(t,e,n){return S(this,null,function*(){let r=Q(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!qa(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function cT(t,e,n){let r=Q(t),i=J.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,f){let p=Q(u),y=p._s.get(f);return y!==void 0?x.resolve(p.os.get(y)):p.Ur.getTargetData(l,f)}(r,o,an(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:le())).next(c=>(EU(r,VL(e),c),{documents:c,Ts:s})))}function EU(t,e,n){let r=t.us.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var nd=class{constructor(){this.activeTargetIds=HL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Sy=class{constructor(){this.so=new nd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ay=class{_o(e){}shutdown(){}};var rd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var jl=null;function wm(){return jl===null?jl=function(){return 268435456+Math.round(2147483648*Math.random())}():jl++,"0x"+jl.toString(16)}var DU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Ry=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var st="WebChannelConnection",My=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=wm(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(V("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Rs("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$s}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=DU[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=wm();return new Promise((o,c)=>{let u=new gm;u.setWithCredentials(!0),u.listenOnce(mm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ca.NO_ERROR:let f=u.getResponseJson();V(st,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ca.TIMEOUT:V(st,`RPC '${e}' ${s} timed out`),c(new U(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ca.HTTP_ERROR:let p=u.getStatus();if(V(st,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let v=y?.error;if(v&&v.status&&v.message){let T=function(R){let O=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(O)>=0?O:N.UNKNOWN}(v.status);c(new U(T,v.message))}else c(new U(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new U(N.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{V(st,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(st,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=wm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_m(),c=vm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");V(st,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=o.createWebChannel(f,u),y=!1,v=!1,T=new Ry({Io:R=>{v?V(st,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(V(st,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),V(st,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,O,L)=>{R.listen(O,H=>{try{L(H)}catch(ie){setTimeout(()=>{throw ie},0)}})};return M(p,ws.EventType.OPEN,()=>{v||(V(st,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),M(p,ws.EventType.CLOSE,()=>{v||(v=!0,V(st,`RPC '${e}' stream ${i} transport closed`),T.So())}),M(p,ws.EventType.ERROR,R=>{v||(v=!0,Rs(st,`RPC '${e}' stream ${i} transport errored:`,R),T.So(new U(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,ws.EventType.MESSAGE,R=>{var O;if(!v){let L=R.data[0];_e(!!L);let H=L,ie=H.error||((O=H[0])===null||O===void 0?void 0:O.error);if(ie){V(st,`RPC '${e}' stream ${i} received error:`,ie);let Se=ie.status,Y=function(_){let w=ke[_];if(w!==void 0)return HT(w)}(Se),E=ie.message;Y===void 0&&(Y=N.INTERNAL,E="Unknown error status: "+Se+" with message "+ie.message),v=!0,T.So(new U(Y,E)),p.close()}else V(st,`RPC '${e}' stream ${i} received:`,L),T.bo(L)}}),M(c,ym.STAT_EVENT,R=>{R.stat===Ll.PROXY?V(st,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Ll.NOPROXY&&V(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}};function Em(){return typeof document<"u"?document:null}function Ed(t){return new ty(t,!0)}var id=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var sd=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new id(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(kn(n.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new U(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ny=class extends sd{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=iU(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?cn(o.readTime):J.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=sy(this.serializer),n.addTarget=function(s,o){let c,u=o.target;if(c=zm(u)?{documents:aU(s,u)}:{query:cU(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=qT(s,o.resumeToken);let l=ny(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(J.min())>0){c.readTime=ed(s,o.snapshotVersion.toTimestamp());let l=ny(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=lU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=sy(this.serializer),n.removeTarget=e,this.a_(n)}},xy=class extends sd{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return _e(!!e.streamToken),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=oU(e.writeResults,e.commitTime),r=cn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=sy(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>sU(this.serializer,r))};this.a_(n)}};var Py=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,ry(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,ry(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Oy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kn(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var ky=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>S(this,null,function*(){gi(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=Q(u);l.L_.add(4),yield za(l),l.q_.set("Unknown"),l.L_.delete(4),yield Dd(l)})}(this))}))}),this.q_=new Oy(r,i)}};function Dd(t){return S(this,null,function*(){if(gi(t))for(let e of t.B_)yield e(!0)})}function za(t){return S(this,null,function*(){for(let e of t.B_)yield e(!1)})}function XT(t,e){let n=Q(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),hv(n)?dv(n):qs(n).r_()&&lv(n,e))}function uv(t,e){let n=Q(t),r=qs(n);n.N_.delete(e),r.r_()&&e0(n,e),n.N_.size===0&&(r.r_()?r.o_():gi(n)&&n.q_.set("Unknown"))}function lv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qs(t).A_(e)}function e0(t,e){t.Q_.xe(e),qs(t).R_(e)}function dv(t){t.Q_=new ey({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),qs(t).start(),t.q_.v_()}function hv(t){return gi(t)&&!qs(t).n_()&&t.N_.size>0}function gi(t){return Q(t).L_.size===0}function t0(t){t.Q_=void 0}function CU(t){return S(this,null,function*(){t.q_.set("Online")})}function bU(t){return S(this,null,function*(){t.N_.forEach((e,n)=>{lv(t,e)})})}function TU(t,e){return S(this,null,function*(){t0(t),hv(t)?(t.q_.M_(e),dv(t)):t.q_.set("Unknown")})}function SU(t,e,n){return S(this,null,function*(){if(t.q_.set("Online"),e instanceof Jl&&e.state===2&&e.cause)try{yield function(i,s){return S(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield od(t,r)}else if(e instanceof Ts?t.Q_.Ke(e):e instanceof Zl?t.Q_.He(e):t.Q_.We(e),!n.isEqual(J.min()))try{let r=yield JT(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.N_.get(l);f&&s.N_.set(l,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(at.EMPTY_BYTE_STRING,f.snapshotVersion)),e0(s,u);let p=new Fa(f.target,u,l,f.sequenceNumber);lv(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield od(t,r)}})}function od(t,e,n){return S(this,null,function*(){if(!qa(e))throw e;t.L_.add(1),yield za(t),t.q_.set("Offline"),n||(n=()=>JT(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Dd(t)}))})}function n0(t,e){return e().catch(n=>od(t,n,e))}function Cd(t){return S(this,null,function*(){let e=Q(t),n=_r(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;AU(e);)try{let i=yield IU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,RU(e,i)}catch(i){yield od(e,i)}r0(e)&&i0(e)})}function AU(t){return gi(t)&&t.O_.length<10}function RU(t,e){t.O_.push(e);let n=_r(t);n.r_()&&n.V_&&n.m_(e.mutations)}function r0(t){return gi(t)&&!_r(t).n_()&&t.O_.length>0}function i0(t){_r(t).start()}function MU(t){return S(this,null,function*(){_r(t).p_()})}function NU(t){return S(this,null,function*(){let e=_r(t);for(let n of t.O_)e.m_(n.mutations)})}function xU(t,e,n){return S(this,null,function*(){let r=t.O_.shift(),i=Ym.from(r,e,n);yield n0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Cd(t)})}function PU(t,e){return S(this,null,function*(){e&&_r(t).V_&&(yield function(r,i){return S(this,null,function*(){if(function(o){return YL(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();_r(r).s_(),yield n0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Cd(r)}})}(t,e)),r0(t)&&i0(t)})}function uT(t,e){return S(this,null,function*(){let n=Q(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=gi(n);n.L_.add(3),yield za(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Dd(n)})}function OU(t,e){return S(this,null,function*(){let n=Q(t);e?(n.L_.delete(2),yield Dd(n)):e||(n.L_.add(2),yield za(n),n.q_.set("Unknown"))})}function qs(t){return t.K_||(t.K_=function(n,r,i){let s=Q(n);return s.w_(),new Ny(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:CU.bind(null,t),Ro:bU.bind(null,t),mo:TU.bind(null,t),d_:SU.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.K_.s_(),hv(t)?dv(t):t.q_.set("Unknown")):(yield t.K_.stop(),t0(t))}))),t.K_}function _r(t){return t.U_||(t.U_=function(n,r,i){let s=Q(n);return s.w_(),new xy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:MU.bind(null,t),mo:PU.bind(null,t),f_:NU.bind(null,t),g_:xU.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.U_.s_(),yield Cd(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Fy=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new On,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function fv(t,e){if(kn("AsyncQueue",`${e}: ${t}`),qa(t))return new U(N.UNAVAILABLE,`${e}: ${t}`);throw t}var ad=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||$.comparator(n.key,r.key):(n,r)=>$.comparator(n.key,r.key),this.keyedMap=Ta(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var cd=class{constructor(){this.W_=new Ne($.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):z():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},js=class t{constructor(e,n,r,i,s,o,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new t(e,n,ad.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Vy=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Ly=class{constructor(){this.queries=lT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Q(n),s=i.queries;i.queries=lT(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new U(N.ABORTED,"Firestore shutting down"))}};function lT(){return new vr(t=>NT(t),Id)}function kU(t,e){return S(this,null,function*(){let n=Q(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Vy,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let c=fv(o,`Initialization of query '${Es(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&pv(n)})}function FU(t,e){return S(this,null,function*(){let n=Q(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function VU(t,e){let n=Q(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&pv(n)}function LU(t,e,n){let r=Q(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function pv(t){t.Y_.forEach(e=>{e.next()})}var Uy,dT;(dT=Uy||(Uy={})).ea="default",dT.Cache="cache";var jy=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Uy.Cache}};var ud=class{constructor(e){this.key=e}},ld=class{constructor(e){this.key=e}},By=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=le(),this.mutatedKeys=le(),this.Aa=xT(e),this.Ra=new ad(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new cd,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let y=i.get(f),v=wd(this.query,p)?p:null,T=!!y&&this.mutatedKeys.has(y.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;y&&v?y.data.isEqual(v.data)?T!==M&&(r.track({type:3,doc:v}),R=!0):this.ga(y,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(c=!0)):!y&&v?(r.track({type:0,doc:v}),R=!0):y&&!v&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(c=!0)),R&&(v?(o=o.add(v),s=M?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,p)=>function(v,T){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return M(v)-M(T)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new js(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new cd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ld(r))}),this.da.forEach(r=>{e.has(r)||n.push(new ud(r))}),n}ba(e){this.Ta=e.Ts,this.da=le();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return js.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},$y=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Hy=class{constructor(e){this.key=e,this.va=!1}},qy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new vr(c=>NT(c),Id),this.Ma=new Map,this.xa=new Set,this.Oa=new Ne($.comparator),this.Na=new Map,this.La=new La,this.Ba={},this.ka=new Map,this.qa=Va.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function UU(t,e,n=!0){return S(this,null,function*(){let r=l0(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield s0(r,e,n,!0),i})}function jU(t,e){return S(this,null,function*(){let n=l0(t);yield s0(n,e,!0,!1)})}function s0(t,e,n,r){return S(this,null,function*(){let i=yield wU(t.localStore,an(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),c;return r&&(c=yield BU(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&XT(t.remoteStore,i),c})}function BU(t,e,n,r,i){return S(this,null,function*(){t.Ka=(p,y,v)=>function(M,R,O,L){return S(this,null,function*(){let H=R.view.ma(O);H.ns&&(H=yield cT(M.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,H)));let ie=L&&L.targetChanges.get(R.targetId),Se=L&&L.targetMismatches.get(R.targetId)!=null,Y=R.view.applyChanges(H,M.isPrimaryClient,ie,Se);return fT(M,R.targetId,Y.wa),Y.snapshot})}(t,p,y,v);let s=yield cT(t.localStore,e,!0),o=new By(e,s.Ts),c=o.ma(s.documents),u=ka.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(c,t.isPrimaryClient,u);fT(t,n,l.wa);let f=new $y(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function $U(t,e,n){return S(this,null,function*(){let r=Q(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Id(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ty(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uv(r.remoteStore,i.targetId),zy(r,i.targetId)}).catch(Ha))):(zy(r,i.targetId),yield Ty(r.localStore,i.targetId,!0))})}function HU(t,e){return S(this,null,function*(){let n=Q(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uv(n.remoteStore,r.targetId))})}function qU(t,e,n){return S(this,null,function*(){let r=ZU(t);try{let i=yield function(o,c){let u=Q(o),l=Qe.now(),f=c.reduce((v,T)=>v.add(T.key),le()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let T=Vn(),M=le();return u.cs.getEntries(v,f).next(R=>{T=R,T.forEach((O,L)=>{L.isValidDocument()||(M=M.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,T)).next(R=>{p=R;let O=[];for(let L of c){let H=QL(L,p.get(L.key).overlayedDocument);H!=null&&O.push(new Ln(L.key,H,bT(H.value.mapValue),gr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,O,c)}).next(R=>{y=R;let O=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(v,R.batchId,O)})}).then(()=>({batchId:y.batchId,changes:OT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Ne(me)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Ga(r,i.changes),yield Cd(r.remoteStore)}catch(i){let s=fv(i,"Failed to persist write");n.reject(s)}})}function o0(t,e){return S(this,null,function*(){let n=Q(t);try{let r=yield vU(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?_e(o.va):i.removedDocuments.size>0&&(_e(o.va),o.va=!1))}),yield Ga(n,r,e)}catch(r){yield Ha(r)}})}function hT(t,e,n){let r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=Q(o);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.j_)y.Z_(c)&&(l=!0)}),l&&pv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zU(t,e,n){return S(this,null,function*(){let r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ne($.comparator);o=o.insert(s,zt.newNoDocument(s,J.min()));let c=le().add(s),u=new Yl(J.min(),new Map,new Ne(me),o,c);yield o0(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),gv(r)}else yield Ty(r.localStore,e,!1).then(()=>zy(r,e,n)).catch(Ha)})}function GU(t,e){return S(this,null,function*(){let n=Q(t),r=e.batch.batchId;try{let i=yield yU(n.localStore,e);c0(n,r,null),a0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ga(n,i)}catch(i){yield Ha(i)}})}function WU(t,e,n){return S(this,null,function*(){let r=Q(t);try{let i=yield function(o,c){let u=Q(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(_e(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);c0(r,e,n),a0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ga(r,i)}catch(i){yield Ha(i)}})}function a0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function c0(t,e,n){let r=Q(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function zy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||u0(t,r)})}function u0(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(uv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),gv(t))}function fT(t,e,n){for(let r of n)r instanceof ud?(t.La.addReference(r.key,e),KU(t,r)):r instanceof ld?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||u0(t,r.key)):z()}function KU(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),gv(t))}function gv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new $(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new Hy(n)),t.Oa=t.Oa.insert(n,r),XT(t.remoteStore,new Fa(an(ov(n.path)),r,"TargetPurposeLimboResolution",wT.oe))}}function Ga(t,e,n){return S(this,null,function*(){let r=Q(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Ey.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return S(this,null,function*(){let f=Q(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,y=>x.forEach(y.$i,v=>f.persistence.referenceDelegate.addReference(p,y.targetId,v)).next(()=>x.forEach(y.Ui,v=>f.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))}catch(p){if(!qa(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let v=f.os.get(y),T=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(T);f.os=f.os.insert(y,M)}}})}(r.localStore,s))})}function QU(t,e){return S(this,null,function*(){let n=Q(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield ZT(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new U(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ga(n,r.hs)}})}function YU(t,e){let n=Q(t),r=n.Na.get(e);if(r&&r.va)return le().add(r.key);{let i=le(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let c=n.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function l0(t){let e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=o0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zU.bind(null,e),e.Ca.d_=VU.bind(null,e.eventManager),e.Ca.$a=LU.bind(null,e.eventManager),e}function ZU(t){let e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WU.bind(null,e),e}var pT=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return S(this,null,function*(){this.serializer=Ed(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return mU(this.persistence,new Cy,n.initialUser,this.serializer)}Ga(n){return new _y(wy.Zr,this.serializer)}Wa(n){return new Sy}terminate(){return S(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var JU=(()=>{class t{initialize(n,r){return S(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=QU.bind(null,this.syncEngine),yield OU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Ly}()}createDatastore(n){let r=Ed(n.databaseInfo.databaseId),i=function(o){return new My(o)}(n.databaseInfo);return function(o,c,u,l){return new Py(o,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,u){return new ky(i,s,o,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>hT(this.syncEngine,r,0),function(){return rd.D()?new rd:new Ay}())}createSyncEngine(n,r){return function(s,o,c,u,l,f,p){let y=new qy(s,o,c,u,l,f);return p&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var n,r;yield function(s){return S(this,null,function*(){let o=Q(s);V("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield za(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Gy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):kn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Wy=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ze.UNAUTHENTICATED,this.clientId=ql.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>S(this,null,function*(){V("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(V("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new On;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=fv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Dm(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield ZT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function gT(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield XU(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>uT(e.remoteStore,i)),t._onlineComponents=e})}function XU(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Rs("Error using user provided cache. Falling back to memory cache: "+n),yield Dm(t,new pT)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield Dm(t,new pT);return t._offlineComponents})}function d0(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield gT(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield gT(t,new JU))),t._onlineComponents})}function ej(t){return d0(t).then(e=>e.syncEngine)}function mT(t){return S(this,null,function*(){let e=yield d0(t),n=e.eventManager;return n.onListen=UU.bind(null,e.syncEngine),n.onUnlisten=$U.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HU.bind(null,e.syncEngine),n})}function h0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var yT=new Map;function f0(t,e,n){if(!n)throw new U(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tj(t,e,n,r){if(e===!0&&r===!0)throw new U(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vT(t){if(!$.isDocumentKey(t))throw new U(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _T(t){if($.isDocumentKey(t))throw new U(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function Ss(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=mv(t);throw new U(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var dd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Bs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Cm;switch(r.type){case"firstParty":return new Am(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=yT.get(n);r&&(V("ComponentProvider","Removing Datastore"),yT.delete(n),r.terminate())}(this),Promise.resolve()}};function p0(t,e,n,r={}){var i;let s=(t=Ss(t,Bs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=ze.MOCK_USER;else{c=JC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ze(l)}t._authCredentials=new bm(new Hl(c,u))}}var hd=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ot=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},mr=class t extends hd{constructor(e,n,r){super(e,n,ov(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new $(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function g0(t,e,...n){if(t=xt(t),f0("collection","path",e),t instanceof Bs){let r=Me.fromString(e,...n);return _T(r),new mr(t,null,r)}{if(!(t instanceof Ot||t instanceof mr))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return _T(r),new mr(t.firestore,null,r)}}function yv(t,e,...n){if(t=xt(t),arguments.length===1&&(e=ql.newId()),f0("doc","path",e),t instanceof Bs){let r=Me.fromString(e,...n);return vT(r),new Ot(t,null,new $(r))}{if(!(t instanceof Ot||t instanceof mr))throw new U(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return vT(r),new Ot(t.firestore,t instanceof mr?t.converter:null,new $(r))}}var fd=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new id(this,"async_queue_retry"),this.Vu=()=>{let r=Em();r&&V("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new On;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!qa(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw kn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Fy.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&z()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function IT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var pi=class extends Bs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new fd(e),this._firestoreClient=void 0,yield e}})}};function m0(t,e){let n=typeof t=="object"?t:pa(),r=typeof t=="string"?t:e||"(default)",i=Qg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=YC("firestore");s&&p0(i,...s)}return i}function y0(t){if(t._terminated)throw new U(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nj(t),t._firestoreClient}function nj(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new Pm(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,h0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Wy(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Ua=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(at.fromBase64String(e))}catch(n){throw new U(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ja=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pd=class{constructor(e){this._methodName=e}};var Ba=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var $a=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var rj=/^__.*__$/,Ky=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ln(e,this.data,this.fieldMask,n,this.fieldTransforms):new fi(e,this.data,n,this.fieldTransforms)}};function v0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}var Qy=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(v0(this.Cu)&&rj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Yy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ed(e)}Qu(e,n,r,i=!1){return new Qy({Cu:e,methodName:n,qu:r,path:wt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ij(t){let e=t._freezeSettings(),n=Ed(t._databaseId);return new Yy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sj(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);E0("Data must be an object, but it was:",o,r);let c=I0(r,o),u,l;if(s.merge)u=new sn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let y=oj(e,p,n);if(!o.contains(y))throw new U(N.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);cj(f,y)||f.push(y)}u=new sn(f),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Ky(new qt(c),u,l)}function _0(t,e){if(w0(t=xt(t)))return E0("Unsupported field value:",e,t),I0(t,e);if(t instanceof pd)return function(r,i){if(!v0(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=_0(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Qe.fromDate(r);return{timestampValue:ed(i.serializer,s)}}if(r instanceof Qe){let s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ed(i.serializer,s)}}if(r instanceof Ba)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ua)return{bytesValue:qT(i.serializer,r._byteString)};if(r instanceof Ot){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $a)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return av(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${mv(r)}`)}(t,e)}function I0(t,e){let n={};return ET(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{let s=_0(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function w0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Ba||t instanceof Ua||t instanceof Ot||t instanceof pd||t instanceof $a)}function E0(t,e,n){if(!w0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=mv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function oj(t,e,n){if((e=xt(e))instanceof ja)return e._internalPath;if(typeof e=="string")return D0(t,e);throw gd("Field path arguments must be of type string or ",t,!1,void 0,n)}var aj=new RegExp("[~\\*/\\[\\]]");function D0(t,e,n){if(e.search(aj)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ja(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new U(N.INVALID_ARGUMENT,c+t+u)}function cj(t,e){return t.some(n=>n.isEqual(e))}var md=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Zy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(C0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Zy=class extends md{data(){return super.data()}};function C0(t,e){return typeof e=="string"?D0(t,e):e instanceof ja?e._internalPath:e._delegate._internalPath}function uj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jy=class{convertValue(e,n="none"){switch(li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Hs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ce(o.doubleValue));return new $a(s)}convertGeoPoint(e){return new Ba(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=nv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xa(e));default:return null}}convertTimestamp(e){let n=Fn(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Me.fromString(e);_e(YT(r));let i=new Kl(r.get(1),r.get(3)),s=new $(r.popFirst(5));return i.isEqual(n)||kn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function lj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ai=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},yd=class extends md{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new As(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(C0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},As=class extends yd{data(e={}){return super.data(e)}},Xy=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ai(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new As(this._firestore,this._userDataWriter,r.key,r,new ai(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new As(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ai(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new As(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ai(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:dj(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function dj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}var vd=class extends Jy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ua(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}};function b0(t){return S0(Ss(t.firestore,pi),[new Oa(t._key,gr.none())])}function T0(t,e){let n=Ss(t.firestore,pi),r=yv(t),i=lj(t.converter,e);return S0(n,[sj(ij(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function vv(t,...e){var n,r,i;t=xt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||IT(e[o])||(s=e[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(IT(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(t instanceof Ot)l=Ss(t.firestore,pi),f=ov(t._key.path),u={next:p=>{e[o]&&e[o](hj(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Ss(t,hd);l=Ss(p.firestore,pi),f=p._query;let y=new vd(l);u={next:v=>{e[o]&&e[o](new Xy(l,y,p,v))},error:e[o+1],complete:e[o+2]},uj(t._query)}return function(y,v,T,M){let R=new Gy(M),O=new jy(v,R,T);return y.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return kU(yield mT(y),O)})),()=>{R.Za(),y.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return FU(yield mT(y),O)}))}}(y0(l),f,c,u)}function S0(t,e){return function(r,i){let s=new On;return r.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return qU(yield ej(r),i,s)})),s.promise}(y0(t),e)}function hj(t,e,n){let r=n.docs.get(e._key),i=new vd(t);return new yd(t,i,e._key,r,new ai(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){$s=i})(vs),hr(new Pt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new pi(new Tm(r.getProvider("auth-internal")),new Mm(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),qe($b,"4.7.3",e),qe($b,"4.7.3","esm2017")})();var bd=function(){return bd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bd.apply(this,arguments)};var gj={includeMetadataChanges:!1};function A0(t,e){return e===void 0&&(e=gj),new ae(function(n){var r=vv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function R0(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:bd(bd({},r),(n={},n[e.idField]=t.id,n))}function M0(t){return A0(t,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function N0(t,e){return e===void 0&&(e={}),M0(t).pipe(ee(function(n){return n.map(function(r){return R0(r,e)})}))}var mi=class{constructor(e){return e}},x0="firestore",_v=class{constructor(){return ma(x0)}};var Iv=new B("angularfire2.firestore-instances");function mj(t,e){let n=Jg(x0,t,e);return n&&new mi(n)}function yj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new mi(r)}}var vj={provide:_v,deps:[[new Jt,Iv]]},_j={provide:mi,useFactory:mj,deps:[[new Jt,Iv],ni]};function P0(t,...e){return qe("angularfire",Is.full,"fst"),tr([_j,vj,{provide:Iv,useFactory:yj(t),multi:!0,deps:[Ee,Tt,ya,va,[new Jt,Fl],[new Jt,ga],...e]}])}var O0=nn(N0,!0);var k0=nn(T0,!0);var wv=nn(g0,!0);var F0=nn(b0,!0);var V0=nn(yv,!0);var L0=nn(m0,!0);var U0=(()=>{class t{constructor(n){this.firestore=n}getMetas(){let n=wv(this.firestore,"metas");return O0(n,{idField:"id"})}addMeta(n){let r=wv(this.firestore,"metas");return k0(r,{meta:n})}deleteMeta(n){let r=V0(this.firestore,`metas/${n}`);return F0(r)}static{this.\u0275fac=function(r){return new(r||t)(ne(mi))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ej=(t,e)=>e.id;function Dj(t,e){if(t&1){let n=rD();Oe(0,"li")(1,"span",5),He(2),Te(),Oe(3,"button",6),Cn("click",function(){let i=Nw(n).$implicit,s=sD();return xw(s.eliminarMeta(i.id))}),He(4,"Eliminar"),Te()()}if(t&2){let n=e.$implicit;es(2),vp(n.meta)}}function Cj(t,e){t&1&&(Oe(0,"li"),He(1,"Cargando metas o no hay metas a\xFAn..."),Te())}var j0=(()=>{class t{constructor(n){this.metaService=n,this.nuevaMeta=""}ngOnInit(){this.metas$=this.metaService.getMetas()}agregarMeta(){this.nuevaMeta.trim().length>0&&this.metaService.addMeta(this.nuevaMeta).then(()=>{this.nuevaMeta=""}).catch(n=>console.error("Error al agregar:",n))}eliminarMeta(n){n&&this.metaService.deleteMeta(n).catch(r=>console.error("Error al eliminar:",r))}static{this.\u0275fac=function(r){return new(r||t)(ge(U0))}}static{this.\u0275cmp=er({type:t,selectors:[["app-home"]],standalone:!0,features:[ar],decls:12,vars:4,consts:[[1,"card"],[1,"input-group"],["type","text","placeholder","Escribe una nueva meta (ej. Aprender Angular)...",3,"ngModelChange","keyup.enter","ngModel"],[1,"btn-primary",3,"click"],[1,"lista-metas"],[1,"texto-meta"],[1,"btn-danger",3,"click"]],template:function(r,i){r&1&&(Oe(0,"div",0)(1,"h2"),He(2,"\xBFCu\xE1les son tus metas en la vida?"),Te(),Oe(3,"div",1)(4,"input",2),Ip("ngModelChange",function(o){return lD(i.nuevaMeta,o)||(i.nuevaMeta=o),o}),Cn("keyup.enter",function(){return i.agregarMeta()}),Te(),Oe(5,"button",3),Cn("click",function(){return i.agregarMeta()}),He(6,"Agregar"),Te()(),Oe(7,"ul",4),tD(8,Dj,5,1,"li",null,Ej,!1,Cj,2,0,"li"),hD(11,"async"),Te()()),r&2&&(es(4),_p("ngModel",i.nuevaMeta),es(4),nD(fD(11,2,i.metas$)))},dependencies:[Ap,ND,zC,yl,$C,Sg]})}}return t})();function bj(t,e){t&1&&zr(0,"img",1)}var B0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=er({type:t,selectors:[["app-about"]],standalone:!0,features:[ar],decls:17,vars:1,consts:[[1,"card","text-center"],["src","https://img.freepik.com/vector-gratis/ilustracion-joven-sonriente_1308-174669.jpg?semt=ais_user_personalization&w=740&q=80","alt","Mi foto",1,"profile-img"],[1,"contact-info"]],template:function(r,i){r&1&&(Oe(0,"div",0)(1,"h2"),He(2,"Acerca del Desarrollador"),Te(),mp(3,bj,1,0,"img",1),Oe(4,"div",2)(5,"p")(6,"strong"),He(7,"Nombre:"),Te(),He(8," Jos\xE9 Eduardo Campos S\xE1nchez"),Te(),Oe(9,"p")(10,"strong"),He(11,"Email:"),Te(),He(12," s.c.eduardo10@gmail.com"),Te(),Oe(13,"p")(14,"strong"),He(15,"Proyecto:"),Te(),He(16," LifeGoals - Reto de Angular y Firestore"),Te()()()),r&2&&(es(3),eD(-1))}})}}return t})();var $0=[{path:"home",component:j0},{path:"about",component:B0},{path:"",redirectTo:"home",pathMatch:"full"}];var H0={production:!0,firebase:{apiKey:"AIzaSyAEVMij3bc9-slcROZWWeKFVf0vLsYRVCk",authDomain:"my-cv-498b0.firebaseapp.com",projectId:"my-cv-498b0",storageBucket:"my-cv-498b0.firebasestorage.app",messagingSenderId:"785888210310",appId:"1:785888210310:web:f67185438047a7089b5007",measurementId:"G-HC60Z12FP5"}};var q0={providers:[_D({eventCoalescing:!0}),bC($0),Ib(()=>wb(H0.firebase)),P0(()=>L0())]};var z0=(()=>{class t{constructor(){this.title="lifegoals"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=er({type:t,selectors:[["app-root"]],standalone:!0,features:[ar],decls:10,vars:0,consts:[[1,"navbar"],[1,"links"],["routerLink","/home","routerLinkActive","active"],["routerLink","/about","routerLinkActive","active"],[1,"main-content"]],template:function(r,i){r&1&&(Oe(0,"nav",0)(1,"h1"),He(2,"LifeGoals"),Te(),Oe(3,"div",1)(4,"a",2),He(5,"Mis Metas"),Te(),Oe(6,"a",3),He(7,"Acerca de"),Te()()(),Oe(8,"main",4),zr(9,"router-outlet"),Te())},dependencies:[mg,ul,CC]})}}return t})();BD(z0,q0).catch(t=>console.error(t));
